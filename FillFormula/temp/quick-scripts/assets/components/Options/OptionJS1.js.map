{"version":3,"sources":["OptionJS1.js"],"names":["STATE","cc","Enum","Class","extends","Component","properties","onLoad","show","node","getChildByName","anim","right","wrong","text","self","document","addEventListener","reloadState","init","gameJS","option","i","unabled","active","getComponent","Label","string","loader","loadRes","SpriteAtlas","err","atlas","frame","getSpriteFrame","Sprite","spriteFrame","releaseAsset","state","unable","opacity","updateState","nomal","optionClick","parent","pauseSystemEvents","playOptionAudio","interactable","buttonCom","Button","resetState"],"mappings":"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","file":"unknown","sourceRoot":"../../../../../assets/components/Options","sourcesContent":["let STATE = new cc.Enum({\n    'unable': 0,\n    'nomal': 1,\n    'right': 2,\n    'wrong': 3\n});\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n    onLoad: function () {\n        this.show  = this.node.getChildByName(\"show\");\n        this.anim  = this.node.getChildByName(\"anim\");\n        this.right = this.node.getChildByName(\"right\");\n        this.wrong = this.node.getChildByName(\"wrong\");\n        this.text  = this.node.getChildByName('text');\n        var self   = this;  \n        document.addEventListener('resignActivePauseGame', function () {\n            self.reloadState();\n        });\n\n    },\n    reloadState : function (){\n        //this.node.getComponent(cc.Button)._pressed = false;\n       //切换后台不再触发选中\n    },\n    init: function (gameJS, option, i, unabled) {\n\n        this.gameJS = gameJS;\n        var self = this;\n\n        if (unabled) {\n            this.text.active = true;\n            this.text.getComponent(cc.Label).string = option;\n               cc.loader.loadRes('texture', cc.SpriteAtlas, function (err, atlas) {\n               var frame = atlas.getSpriteFrame('fang2');\n               self.show.getComponent(cc.Sprite).spriteFrame = frame;\n               cc.loader.releaseAsset('texture', cc.SpriteAtlas);\n            });\n            this.state = STATE.unable;\n            this.show.opacity = 255;\n            this.anim.opacity = 0;\n            this.right.opacity = 0;\n            this.wrong.opacity = 0; \n            this.updateState(false);\n        }else{\n            this.text.active = false;\n            this.text.getComponent(cc.Label).string = '';\n               cc.loader.loadRes('texture', cc.SpriteAtlas, function (err, atlas) {\n               var frame = atlas.getSpriteFrame('fang1');\n               self.show.getComponent(cc.Sprite).spriteFrame = frame;\n               cc.loader.releaseAsset('texture', cc.SpriteAtlas);\n            });\n            this.state = STATE.nomal;\n            this.show.opacity = 255;\n            this.anim.opacity = 0;\n            this.right.opacity = 0;\n            this.wrong.opacity = 0; \n\n        }\n    },\n\n    optionClick: function () {\n        var self = this;\n        self.updateState(false);\n        this.node.parent.pauseSystemEvents(true);\n        //this.gameJS.isShowAnim = true;\n       \n        this.gameJS.playOptionAudio();\n        \n    },\n   \n\n    //按钮是否可点击\n    updateState: function (interactable) {\n        var buttonCom = this.node.getComponent(cc.Button);\n        buttonCom.interactable = interactable;\n    },\n    resetState: function (){\n        // if(this.state != STATE.unable){\n        //    this.state = STATE.nomal;\n        //    this.text.active = false;\n        //    this.show.opacity = 255;\n        //    this.anim.opacity = 0;\n        //    this.right.opacity = 0;\n        //    this.wrong.opacity = 0;\n        // }\n        \n    }\n});"]}
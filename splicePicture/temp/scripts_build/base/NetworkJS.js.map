{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "NetworkJS",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "GetQueryString",
    "name",
    "reg",
    "RegExp",
    "r",
    "window",
    "location",
    "search",
    "substr",
    "match",
    "decodeURI",
    "sendXHR",
    "racingjs",
    "xhr",
    "loader",
    "getXMLHttpRequest",
    "streamXHREventsToLabel",
    "fileUrl",
    "open",
    "sys",
    "isNative",
    "setRequestHeader",
    "timeout",
    "send",
    "method",
    "responseHandler",
    "handler",
    "response",
    "substring",
    "self",
    "onreadystatechange",
    "readyState",
    "XMLHttpRequest",
    "DONE",
    "CONSOLE_LOG_OPEN",
    "console",
    "log",
    "responseText",
    "status",
    "analysisData",
    "gameLoadFailed",
    "e",
    "description",
    "questions",
    "JSON",
    "parse",
    "length",
    "questionArr",
    "i",
    "question",
    "analysisDict",
    "push",
    "setPlatform",
    "setGameName",
    "startLoadGame",
    "gameLoadSuccess",
    "questionDict",
    "interactiveJson",
    "answerTime",
    "levelQuestionDetailID",
    "questionid",
    "leveLQuestionDetailNum",
    "orderid",
    "qescont",
    "removeSpan",
    "spanString",
    "newStr",
    "replace",
    "type",
    "params",
    "encodeURI",
    "href",
    "totalNumber",
    "gameOver",
    "answerInfoArr",
    "data",
    "stringify",
    "gameLoadProgress",
    "nowNumber"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var NetworkJS = cc.Class({\n\textends: cc.Component,\n\n\tproperties: {\n\t},\n\n\t//解析url参数\n\tGetQueryString: function (name) {\n\t\tvar reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n\t\tvar r = window.location.search.substr(1).match(reg);\n\t\tif (r != null) return decodeURI(r[2]); return null;\n\t},\n\n\tsendXHR: function (racingjs) {\n\t\tthis.racingjs = racingjs;\n\n\t\tvar xhr = cc.loader.getXMLHttpRequest();\n\t\tthis.streamXHREventsToLabel(xhr, 'GET');\n\n\t\t//题库\n\t\tvar fileUrl = this.GetQueryString('fileUrl');\n\t\txhr.open(\"GET\", fileUrl);\n\n\t\tif (cc.sys.isNative) {\n\t\t\txhr.setRequestHeader(\"Accept-Encoding\", \"gzip,deflate\");\n\t\t}\n\n\t\t// note: In Internet Explorer, the timeout property may be set only after calling the open()\n\t\t// method and before calling the send() method.\n\t\txhr.timeout = 60000;//timeout\n\n\t\txhr.send();\n\t},\n\n\tstreamXHREventsToLabel: function (xhr, method, responseHandler) {\n\t\tvar handler = responseHandler || function (response) {\n\t\t\treturn method + \" Response: \" + response.substring(0, 30) + '...';\n\t\t};\n\n\t\tvar self = this;\n\t\t// Special event\n\t\txhr.onreadystatechange = function () {\n\t\t\ttry {\n\t\t\t\tif (xhr.readyState === XMLHttpRequest.DONE) {\n\t\t\t\t\tif (CONSOLE_LOG_OPEN) console.log(handler(xhr.responseText));\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\t// self.hideProgressBar();\n\t\t\t\t\t\tself.analysisData(xhr.responseText);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (CONSOLE_LOG_OPEN) console.log('There was a problem with the request.');\n\t\t\t\t\t\t//下载失败反馈结果\n\t\t\t\t\t\tself.gameLoadFailed(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tif (CONSOLE_LOG_OPEN) console.log('Caught Exception: ' + e.description);\n\t\t\t\t//下载失败反馈结果\n\t\t\t\tself.gameLoadFailed(1);\n\t\t\t}\n\t\t};\n\t},\n\n\t//解析数据\n\tanalysisData: function (responseText) {\n\t\tvar questions = JSON.parse(responseText);\n\n\t\tif (questions || questions.length > 0) {\n\t\t\tvar questionArr = [];\n\t\t\tfor (var i = 0; i < questions.length; ++i) {\n\n\t\t\t\tvar question = this.analysisDict(questions[i]);\n\n\t\t\t\tquestionArr.push(question);\n\t\t\t}\n\t\t\tif (questionArr && questionArr.length > 0) {\n\t\t\t\tthis.racingjs.setPlatform(this.GetQueryString('platform'));\n\t\t\t\tthis.racingjs.setGameName(this.GetQueryString('gameName'));\n\t\t\t\tthis.racingjs.startLoadGame(questionArr);\n\t\t\t\t//通知游戏加载成功，开始游戏\n\t\t\t\tthis.gameLoadSuccess(questionArr.length);\n\t\t\t} else {\n\t\t\t\tthis.gameLoadFailed(2);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.gameLoadFailed(2);\n\t\t}\n\t},\n\t//解析转换每一条数据\n\tanalysisDict: function (questionDict) {\n\t\tvar interactiveJson = questionDict.interactiveJson;\n\t\tif (!interactiveJson || interactiveJson.length == 0) {\n\t\t\t//容错不录json的情况\n\t\t\tthis.gameLoadFailed(2);\n\t\t\treturn;\n\t\t} else if (typeof interactiveJson == 'string') {\n\t\t\tinteractiveJson = JSON.parse(interactiveJson);\n\t\t}\n\t\t//每一道小题内容\n\t\tvar question = {\n\t\t\tanswerTime: '0',//答题时间\n\t\t\tlevelQuestionDetailID: questionDict.questionid,//IPS题目（小题） ID\n\t\t\tleveLQuestionDetailNum: questionDict.orderid,//IPS题目（小题）序号\n\t\t\tqescont: this.removeSpan(questionDict.qescont),//题干\n\t\t\tinteractiveJson: interactiveJson,//格外配置json\n\t\t};\n\n\t\treturn question;\n\t},\n\n\t//过滤标签\n\tremoveSpan: function (spanString) {\n\t\tvar newStr = spanString.replace('<span>', '');\n\t\tnewStr = newStr.replace('</span>', '');\n\n\t\treturn newStr;\n\t},\n\t//下载解析失败type:1.下载失败，2.解析失败\n\tgameLoadFailed: function (type) {\n\t\t// if (!CONSOLE_LOG_OPEN) {\n\t\tif (type == 1) {\n\t\t\tvar params = encodeURI('errcode=10001&errmsg=下载失败');\n\t\t\twindow.location.href = 'optionBlank://gameLoadFailed?' + params;\n\t\t} else {\n\t\t\tvar params = encodeURI('errcode=10002&errmsg=解析失败');\n\t\t\twindow.location.href = 'optionBlank://gameLoadFailed?' + params;\n\t\t}\n\t\t// }\n\t},\n\t//通知游戏加载成功，开始游戏\n\tgameLoadSuccess: function (totalNumber) {\n\t\t// if (!CONSOLE_LOG_OPEN) {\n\t\tvar params = encodeURI('isShow=1&totalNumber=' + totalNumber);\n        window.location.href = 'optionBlank://gameLoadSuccess?' + params;\n\t\t// }\n\t},\n\t//通知游戏结束\n\tgameOver: function (answerInfoArr) {\n\t\tvar data = encodeURI(JSON.stringify(answerInfoArr));\n\n\t\tif (CONSOLE_LOG_OPEN) console.log('dataJson=' + JSON.stringify(answerInfoArr));\n\n\t\t// if (!CONSOLE_LOG_OPEN) {\n\t\twindow.location.href = 'optionBlank://gameOver?status=1&data=' + data;\n\t\t// }\n\t},\n\t//通知游戏加载成功，开始游戏\n    gameLoadProgress: function (nowNumber, totalNumber) {\n        // if (!CONSOLE_LOG_OPEN) {\n        var params = encodeURI('nowNumber=' + nowNumber + '&totalNumber=' + totalNumber);\n        window.location.href = 'optionBlank://gameLoadProgress?' + params;\n        // }\n    },\n\n});\n"
  ]
}
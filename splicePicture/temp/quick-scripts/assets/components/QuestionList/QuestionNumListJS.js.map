{"version":3,"sources":["QuestionNumListJS.js"],"names":["cc","Class","extends","Component","properties","lastBtn","Node","nextBtn","quertionNum","Prefab","questionNum_node","onLoad","itemPool","NodePool","defaultLen","targetIdx","nowQuestionID","qusetionItemPool","qusetionNumJSArr","selectedQusetionJS","init","len","cb","maxlen","opacity","idx","quertionNumPre","instantiate","quertionNumJS","getComponent","push","changeQustionList","setSelected","clickLast","clickNext","removeAllChildren","Math","min","addChild","changQustion","questionID","changeOptionEnable","resumeSystemEvents","changeOptionDisable","pauseSystemEvents"],"mappings":"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","file":"QuestionNumListJS.js","sourceRoot":"../../../../../assets/components/QuestionList","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        lastBtn: cc.Node,\n        nextBtn: cc.Node,\n        quertionNum: cc.Prefab,\n        questionNum_node: cc.Node,\n    },\n    onLoad: function(){\n        this.itemPool = new cc.NodePool();\n        this.defaultLen = 7;\n        this.targetIdx = 0;\n        this.nowQuestionID = 0;\n        //问题缓存\n        this.qusetionItemPool = new cc.NodePool();\n        //问题数组\n        this.qusetionNumJSArr = [];\n        //选中题目\n        this.selectedQusetionJS = null;\n    },\n    init: function(len, cb){\n        this.maxlen = len;\n        this.cb = cb;\n        if(len < this.defaultLen){\n            this.lastBtn.opacity = 0;\n            this.nextBtn.opacity = 0;\n        }else{\n            this.lastBtn.opacity = 255;\n            this.nextBtn.opacity = 255;\n        }\n        \n        for(var idx=0; idx < len; idx++){\n            var quertionNumPre = cc.instantiate(this.quertionNum);\n            var quertionNumJS = quertionNumPre.getComponent(\"QuestionNumJS\");\n            //this.questionNum_node.addChild(quertionNumPre);  \n            this.qusetionNumJSArr.push(quertionNumPre);\n            quertionNumJS.init(this, idx);\n        }\n        \n        this.changeQustionList();\n        this.selectedQusetionJS = this.qusetionNumJSArr[this.nowQuestionID].getComponent(\"QuestionNumJS\");;\n        this.selectedQusetionJS.setSelected(true);\n    },\n    clickLast: function(){\n        if(this.targetIdx >= this.defaultLen){\n            this.targetIdx -= this.defaultLen;\n            this.changeQustionList();\n        }\n    },\n    clickNext: function(){\n        if(this.targetIdx + this.defaultLen < this.maxlen){\n            this.targetIdx += this.defaultLen;\n            this.changeQustionList();\n        }\n    },\n    changeQustionList: function(){\n        this.questionNum_node.removeAllChildren();\n        var targetIdx = this.targetIdx;\n        var len = Math.min(this.defaultLen, this.maxlen - targetIdx);\n        for(var idx=0; idx < len; idx++){\n            var quertionNumPre = this.qusetionNumJSArr[idx+targetIdx];\n            this.questionNum_node.addChild(quertionNumPre);    \n        }\n    },\n    //选题\n\tchangQustion:function(questionID){\n        this.nowQuestionID = questionID;\n        this.selectedQusetionJS.setSelected(false);\n        this.selectedQusetionJS = this.qusetionNumJSArr[questionID].getComponent(\"QuestionNumJS\");\n        this.selectedQusetionJS.setSelected(true);\n        //this.startloadOption();\n        var cb = this.cb;\n        cb && cb(questionID);\n    },\n    //选项按钮可用\n    changeOptionEnable: function () {\n        //暂停当前节点上注册的所有节点系统事件，节点系统事件包含触摸和鼠标事件。\n        this.questionNum_node.resumeSystemEvents(true);\n    },\n    //选项按钮不可用\n    changeOptionDisable: function () {\n        //暂停当前节点上注册的所有节点系统事件，节点系统事件包含触摸和鼠标事件。\n        this.questionNum_node.pauseSystemEvents(true);\n    },\n});\n"]}
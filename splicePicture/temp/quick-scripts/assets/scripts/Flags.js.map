{"version":3,"sources":["Flags.js"],"names":["cc","Class","extends","Component","properties","flagL","Node","flagR","option","Prefab","start","initData","data","gameJS","checkInitData","len","length","i","instantiate","imgNode","getChildByName","item","parent","sizeY","height","offset","loader","load","optioncontimg","err","res","spriteFrame","SpriteFrame","getComponent","Sprite","init","releaseAsset","addChild","x","y","console","log","Array","isArray"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM,IADF,EACO;AACfC,eAAOP,GAAGM,IAFF;AAGRE,gBAAQR,GAAGS;AAHH,KAHP;;AASL;;AAEA;;AAEAC,SAbK,mBAaI,CAER,CAfI;;;AAiBL;;AAEAC,YAnBK,oBAmBIC,IAnBJ,EAmBSC,MAnBT,EAmBgB;AAAA;;AACjB,YAAG,CAAC,KAAKC,aAAL,CAAmBF,IAAnB,CAAJ,EAA6B;AAC7B,YAAIG,MAAMH,KAAKI,MAAL,GAAY,CAAtB;AACA,aAAI,IAAIC,IAAG,CAAX,EAAaA,IAAEL,KAAKI,MAApB,EAA2BC,GAA3B,EAA+B;AAC3B,aAAC,UAACA,CAAD,EAAK;AACF,oBAAIT,SAASR,GAAGkB,WAAH,CAAe,MAAKV,MAApB,CAAb;AACA,oBAAIW,UAAUX,OAAOY,cAAP,CAAsB,WAAtB,CAAd;AACA,oBAAIC,OAAOT,KAAKK,CAAL,CAAX;AACA,oBAAIK,SAASL,KAAKF,MAAM,CAAX,GAAe,MAAKV,KAApB,GAA4B,MAAKE,KAA9C;AACA,oBAAIgB,QAAQD,OAAOE,MAAP,GAAc,GAA1B,CALE,CAK4B;AAC9B,oBAAIC,SAASF,QAAMR,GAAnB;AACAf,mBAAG0B,MAAH,CAAUC,IAAV,CAAeN,KAAKO,aAApB,EAAkC,UAACC,GAAD,EAAKC,GAAL,EAAW;AACzC,wBAAI,CAACD,GAAL,EAAU;AACN,4BAAIE,cAAc,IAAI/B,GAAGgC,WAAP,CAAmBF,GAAnB,CAAlB;AACAX,gCAAQc,YAAR,CAAqBjC,GAAGkC,MAAxB,EAAgCH,WAAhC,GAA8CA,WAA9C;AACAZ,gCAAQc,YAAR,CAAqB,UAArB,EAAiCE,IAAjC,CAAsCtB,MAAtC,EAA6CQ,IAA7C;AACArB,2BAAG0B,MAAH,CAAUU,YAAV,CAAuBN,GAAvB;AACAR,+BAAOe,QAAP,CAAgB7B,MAAhB;AACAA,+BAAO8B,CAAP,GAAW,CAAX;AACA9B,+BAAO+B,CAAP,GAAWd,UAAUR,IAAE,CAAZ,IAAiBQ,SAAO,CAAxB,GAA4BF,QAAM,CAA7C;AACAiB,gCAAQC,GAAR,CAAYjC,OAAO+B,CAAnB;AACH;AACJ,iBAXD;AAYH,aAnBD,EAmBGtB,CAnBH;AAoBH;AACJ,KA5CI;AA8CLH,iBA9CK,yBA8CSH,QA9CT,EA8CkB;AACnB,eAAO+B,MAAMC,OAAN,CAAchC,QAAd,CAAP;AACH;AAhDI,CAAT","file":"Flags.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        flagL: cc.Node,//左边旗子\n        flagR: cc.Node,\n        option: cc.Prefab\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n\n    },\n\n    // update (dt) {},\n\n    initData(data,gameJS){\n        if(!this.checkInitData(data))return;\n        let len = data.length/2;\n        for(let i= 0;i<data.length;i++){\n            ((i)=>{\n                let option = cc.instantiate(this.option);\n                let imgNode = option.getChildByName(\"button_bg\");\n                let item = data[i];\n                let parent = i <= len - 1 ? this.flagL : this.flagR;\n                let sizeY = parent.height*0.8;//放图片所需要的位置长度\n                let offset = sizeY/len;\n                cc.loader.load(item.optioncontimg,(err,res)=>{\n                    if (!err) {\n                        var spriteFrame = new cc.SpriteFrame(res);\n                        imgNode.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                        imgNode.getComponent(\"OptionJS\").init(gameJS,item);\n                        cc.loader.releaseAsset(res);\n                        parent.addChild(option);\n                        option.x = 0;\n                        option.y = offset * (i%3) + offset/2 - sizeY/2;\n                        console.log(option.y);\n                    }\n                });\n            })(i);\n        }\n    },\n\n    checkInitData(initData){\n        return Array.isArray(initData);\n    }\n});\n"]}
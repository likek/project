{"version":3,"sources":["../../../../assets/scripts/assets/scripts/GameJS.js"],"names":["BaseGameJS","require","cc","Class","extends","properties","settlePrefab","Prefab","resetBtnNSF","SpriteFrame","commitBtnNSF","winAudio","AudioClip","loseAudio","resetAudio","optionAudio","option_outAudio","flags","Node","cattle","onLoadChild","_super","scaleNode","node","getChildByName","option_node","tipsNode","active","answerItemPool","NodePool","prompt_nodeJS","getComponent","changeMoveTag","initToast","flagsJs","cattleJS","efailed","efailedJs","game","tipsClick","removeFromParent","destroy","isIts","showSchedule","isTotalCd","questionArr","interactiveJson","totalcd","lastAnswerTime","answerTime","initFeedback","settlement","instantiate","settlementJs","feedbackNode","addChild","gotoBackground","array","children","i","length","tempOption","graph_btn","optionJS","canMove","stopAllActions","reloadState","opacity","submitButton","resetButton","setScale","_pressed","_hovered","normalSprite","hoverSprite","timeout","deleteOption","put","removeAllChildren","startloadOption","updateGameState","questionNumListJS","changeOptionDisable","question","nowQuestionID","setTitle","qescont","rightOptionNo","createOption","optionsArr","countDown","parseInt","timeLabel","string","timeFormat","changeOptionEnable","isShowFeed","matrixType","initData","selectAnswer","isRight","isShowLossTime","unschedule","timeCallback","CONSOLE_LOG_OPEN","console","log","createAnswerInfo","showFeedback","type","AUDIO_OPEN","playWinAudio","playWinAnim","feedbackFinish","playLoseAudio","playLoseAnim","playTimeUpAnim","interactable","question_node","resumeSystemEvents","pauseSystemEvents","otherClicked","playCancelAudio","resetClicked","cb","forEach","obj","idx","isShowAnim","confirmClicked","isEqual","rightAry","indexOf","toString","state","checkIsEmpty","isEmpty","playAudio","playOptionAudio","playOptionOutAudio","audio","audioEngine","play"],"mappings":"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","file":"GameJS.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["var BaseGameJS = require(\"BaseGameJS\");\n\ncc.Class({\n    extends: BaseGameJS,\n\n    properties: {\n        settlePrefab: cc.Prefab,\n        resetBtnNSF: cc.SpriteFrame,\n        commitBtnNSF: cc.SpriteFrame, //备选\n\n        winAudio: cc.AudioClip,\n        loseAudio: cc.AudioClip,\n        resetAudio: cc.AudioClip,\n        optionAudio: cc.AudioClip,\n        option_outAudio: cc.AudioClip,\n\n        flags: cc.Node,//旗子\n        cattle: cc.Node,//牛\n\n    },\n\n    onLoadChild: function () {\n        this._super();\n        this.scaleNode = this.node.getChildByName('scale');\n        this.option_node = this.scaleNode.getChildByName('option_node');\n        this.tipsNode = this.node.getChildByName('TipsNode');\n        this.tipsNode && (this.tipsNode.active = true);\n        this.answerItemPool = new cc.NodePool();\n        this.prompt_nodeJS = this.scaleNode.getChildByName('prompt_node').getComponent('title');\n        this.changeMoveTag(0);\n        this.initToast();\n\n        this.flagsJs = this.flags.getComponent(\"Flags\");\n        this.cattleJS = this.cattle.getComponent(\"Cattle\");\n    },\n    //初始化toast框\n    initToast: function () {\n        var efailed = this.node.getChildByName('scale').getChildByName('efailed');\n        this.efailedJs = efailed.getComponent('efailed');\n        this.efailedJs.game = this;\n\n    },\n\n    tipsClick: function () {\n        this.tipsNode.removeFromParent(true);\n        this.tipsNode.destroy();\n        !this.isIts && this.showSchedule();\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        isTotalCd && (this.lastAnswerTime = this.answerTime);\n\n    },\n    initFeedback: function () {\n        this.settlement = cc.instantiate(this.settlePrefab);\n        this.settlementJs = this.settlement.getComponent('settlement');\n        this.settlementJs.game = this;\n        var feedbackNode = this.node.getChildByName('feedback_node');\n        feedbackNode.addChild(this.settlement);\n        this.settlement.active = false;\n    },\n    //转到后台\n    gotoBackground: function () {\n        var array = this.option_node.children;\n        for (var i = 0; i < array.length; i++) {\n            var tempOption = array[i];\n            var graph_btn = tempOption.getChildByName('button_bg');\n            var optionJS = graph_btn.getComponent('OptionJS');\n            if (optionJS.canMove) {\n                graph_btn.stopAllActions();\n                optionJS.reloadState();\n                graph_btn.opacity = 255;\n                break;\n            }\n        }\n        let submitButton = this.node.getChildByName('button_node').getChildByName('commit'),\n            resetButton = this.node.getChildByName('button_node').getChildByName('cancel');\n        submitButton.setScale(1, 1);\n        resetButton.setScale(1, 1);\n        submitButton._pressed = false;\n        submitButton._hovered = false;\n        resetButton._pressed = false;\n        resetButton._hovered = false;\n        submitButton.normalSprite = this.commitBtnNSF;\n        submitButton.hoverSprite = this.commitBtnNSF;\n        resetButton.normalSprite = this.resetBtnNSF;\n        resetButton.hoverSprite = this.resetBtnNSF;\n\n    },\n\n    /*超时处理 \n     */\n    timeout: function () {\n\n    },\n\n    //移除当前所有选项\n    deleteOption: function () {\n        var array = this.option_node.children;\n        for (var i = 0; i < array.length;) {\n            var tempOption = array[i];\n            var graph_btn = tempOption.getChildByName('button_bg');\n            graph_btn.opacity = 255;\n            //放进对象池会自动调用removeFromParent\n            this.answerItemPool.put(tempOption);\n        }\n        this.option_node.removeAllChildren(true);  \n        //移除question_node内容\n\n    },\n\n    //创建选项按钮\n    // createOption: function (optionsArr) {\n\n    // },\n\n    //开始加载选项\n    startloadOption: function () {\n        this.updateGameState(true);\n        this.isIts && this.questionNumListJS.changeOptionDisable();\n        var question = this.questionArr[this.nowQuestionID];\n        //启动业务初始化\n        this.prompt_nodeJS.setTitle(question.qescont, null);\n\n        //正确答案\n        this.rightOptionNo = question.rightOptionNo;\n        this.createOption(question.optionsArr);\n        //倒计时\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        if (this.nowQuestionID === 0 && isTotalCd || !isTotalCd) {\n            this.answerTime = 0;\n            let countDown = parseInt(question.interactiveJson['countDown']);\n            if (countDown > 0) {\n                this.countDown = countDown;\n            }\n\n            this.timeLabel.string = this.timeFormat(this.countDown);\n        }\n        // if (this.nowQuestionID > 0) {\n            !this.isIts && this.showSchedule();\n            isTotalCd && (this.lastAnswerTime = this.answerTime);\n        // }\n        this.isIts && this.questionNumListJS.changeOptionEnable();\n        this.isShowFeed = false;\n        this.changeMoveTag(0);\n        //出现走了选中isShowFeed=yes,reloadState还没走.\n\n        let matrixType = question.matrixType;\n        if(!matrixType){\n            switch(question.optionsArr.length){\n                case 4:matrixType = \"2x2\";break;\n                case 6:matrixType = \"2x3\";break;\n                case 9: matrixType = \"3x3\";break;\n            }\n        }\n        this.flagsJs.initData(question.optionsArr,this);\n        this.cattleJS.initData(matrixType,this);\n    },\n\n    //选中答案\n    selectAnswer: function (isRight) {\n        //显示状态过程中不接收事件\n        if (this.isShowFeed || this.isShowLossTime) {\n            return;\n        }\n        this.unschedule(this.timeCallback);\n        this.isShowFeed = true;\n        this.updateGameState(false);\n        if (isRight) {\n            if (CONSOLE_LOG_OPEN) console.log('答对了');\n            this.createAnswerInfo('1');\n            this.showFeedback(1);\n        } else {\n            if (CONSOLE_LOG_OPEN) console.log('答错了');\n            this.createAnswerInfo('2');\n            this.showFeedback(2);\n        }\n    },\n    //反馈\n    showFeedback: function (type) {\n        if (type === 1) {\n            //出发\n            AUDIO_OPEN && this.playWinAudio();\n            this.settlementJs.playWinAnim(this.feedbackFinish);\n        } else if (type === 2) {\n            //出发\n            AUDIO_OPEN && this.playLoseAudio();\n            this.settlementJs.playLoseAnim(this.feedbackFinish);\n        } else if (type === 3) { //时间到逻辑\n\n            //出发\n            AUDIO_OPEN && this.playLoseAudio();\n            this.settlementJs.playTimeUpAnim(this.feedbackFinish);\n        }\n    },\n    updateGameState: function (interactable) {\n        if (interactable) {\n            this.question_node.resumeSystemEvents(true);\n            this.option_node.resumeSystemEvents(true);\n        } else {\n            this.question_node.pauseSystemEvents(true);\n            this.option_node.pauseSystemEvents(true);\n\n        }\n    },\n    \n    otherClicked: function () {\n        this.playCancelAudio();\n        if (this.isShowFeed) {\n            return;\n        }\n    },\n    /* 再来一次 */\n    resetClicked: function () {\n        let cb = () => {\n            let array = this.option_node.children;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                optionJS && optionJS.reloadState();\n            }, this);\n\n        };\n        this.playCancelAudio();\n\n        if (this.isShowFeed || this.isShowAnim) {\n            return;\n        }\n\n        cb();\n    },\n    /* 确认 */\n    confirmClicked: function () {\n\n        let cb = () => {\n            let array = this.option_node.children;\n            let isEqual = true;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                if (this.rightAry.indexOf(idx.toString()) != -1) {\n                    if (optionJS && optionJS.state != 2) {\n                        isEqual = false;\n                    }\n                } else { //错误区为正确时\n                    if (optionJS && optionJS.state == 2) {\n                        isEqual = false;\n                    }\n                }\n            }, this);\n\n            this.selectAnswer(isEqual);\n        };\n       this.playCancelAudio();\n        //this.isShowAnim\n        if (this.isShowFeed || this.checkIsEmpty()) {\n            return;\n        }\n\n        cb();\n    },\n    checkIsEmpty: function () {\n        let array = this.option_node.children;\n        let isEmpty = true;\n        array.forEach((obj, idx) => {\n            let optionJS = obj.getComponent('OptionJS');\n            //正确区不为正确时\n            if (optionJS && optionJS.state > 1) {\n                isEmpty = false;\n            }\n        }, this);\n        return isEmpty;\n    },\n    playWinAudio: function () {\n        this.playAudio(this.winAudio);\n    },\n\n    playLoseAudio: function () {\n        this.playAudio(this.loseAudio);\n    },\n    playCancelAudio: function () {\n        this.playAudio(this.resetAudio);\n    },\n    playOptionAudio: function () {\n        this.playAudio(this.optionAudio);\n    },\n    playOptionOutAudio: function () {\n        this.playAudio(this.option_outAudio);\n    },\n\n    //播放音效\n    playAudio: function (audio) {\n        if (AUDIO_OPEN) {\n            cc.audioEngine.play(audio, false, 1);\n        }\n    },\n\n\n});"]}
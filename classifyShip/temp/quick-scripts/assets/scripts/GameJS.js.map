{"version":3,"sources":["GameJS.js"],"names":["BaseGameJS","require","cc","Class","extends","properties","optionItem_pref","Prefab","settlePrefab","resetBtnNSF","SpriteFrame","commitBtnNSF","beltContainer","Node","leafContainer","moveThing","progress","backBtn","tipsHand","giraffe","frog","monkey","bear","flowerAndWater","winAudio","AudioClip","loseAudio","resetAudio","optionAudio","option_outAudio","carMoveAudio","flyStarAudio","wrongAudio","rightAudio","onLoadChild","_super","scaleNode","node","getChildByName","option_node","tipsNode","active","answerItemPool","NodePool","changeMoveTag","initToast","beltNode","manager","director","getCollisionManager","enabled","efailed","efailedJs","getComponent","game","tipsClick","initFeedback","settlement","instantiate","settlementJs","feedbackNode","addChild","gotoBackground","submitButton","resetButton","setScale","_pressed","_hovered","normalSprite","hoverSprite","updateAble","i","children","length","obj","resetPosition","gotoForeground","timeout","setStarTypeByIndex","nowQuestionID","playTimeUpAnim","deleteOption","array","tempOption","graph_btn","opacity","put","removeAllChildren","createOption","optionsArr","startloadOption","updateGameState","isIts","questionNumListJS","changeOptionDisable","question","questionArr","rightOptionNo","isTotalCd","interactiveJson","totalcd","answerTime","countDown","parseInt","timeLabel","string","timeFormat","changeOptionEnable","isShowFeed","initBeltContainer","belt","zIndex","time_node","isShow","tag","runAnimation","setAnimation","__progressHasInit","init","collideAble","currTouchOption","showSchedule","lastAnswerTime","tipsHandAnimation","beltData","things","self","beltLeft","beltRight","minOffset","viewWidth","winSize","width","itemWidth","leafWidth","data","offset","beltWidth","x","item","leafContainer1","leafContainer2","setPosition","loader","load","optioncontimg","err","tex","spriteFrame","thing1","thing2","optionContent","__optionID","originParent","parent","gameJS","Sprite","releaseAsset","type","callback","setTimeout","timeOut","sourceNode","tipsSource","handNode","sourseThing","targetNode","nodePosition","convertToWorldSpaceAR","v2","convertToNodeSpaceAR","newPosition","y","stopAllActions","runTime","move","moveTo","runAction","sequence","callFunc","repeatForever","move1","stopTipsAnimation","removeFromParent","selectAnswer","isRight","isShowLossTime","unschedule","timeCallback","CONSOLE_LOG_OPEN","console","log","createAnswerInfo","showFeedback","feedbackFinish","gameOverSettlement","totalNum","answerInfoArr","rightNum","forEach","idx","answerStatus","AUDIO_OPEN","playWinAudio","playWinAnim","playLoseAudio","playTwoStarAnim","playLoseAnim","interactable","question_node","resumeSystemEvents","pauseSystemEvents","otherClicked","playCancelAudio","resetClicked","cb","optionJS","reloadState","isShowAnim","confirmClicked","isEqual","rightAry","indexOf","toString","state","checkIsEmpty","isEmpty","playAudio","playOptionAudio","playOptionOutAudio","playRightAudio","BasinCallbackFunc","basincb","playBasinAudio","basinCallback","schedule","gap","cndybasinAudio","audio","audioEngine","play","bgm_candyAudio","moveSpeed","beltLeftPos","getPosition","e"],"mappings":"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","file":"GameJS.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["var BaseGameJS = require(\"BaseGameJS\");\n\ncc.Class({\n    extends: BaseGameJS,\n\n    properties: {\n        optionItem_pref: cc.Prefab, //选项预制\n        settlePrefab: cc.Prefab,\n        resetBtnNSF: cc.SpriteFrame,\n        commitBtnNSF: cc.SpriteFrame, //备选\n\n        beltContainer:cc.Node,\n        leafContainer:cc.Prefab,\n        moveThing:cc.Node,\n        progress:cc.Node,\n        backBtn:cc.Node,\n        tipsHand:cc.Node,\n\n        giraffe:cc.Node,\n        frog:cc.Node,\n        monkey:cc.Node,\n        bear:cc.Node,\n        flowerAndWater:cc.Node,\n\n        winAudio: cc.AudioClip,\n        loseAudio: cc.AudioClip,\n        resetAudio: cc.AudioClip,\n        optionAudio: cc.AudioClip,\n        option_outAudio: cc.AudioClip,\n        carMoveAudio: cc.AudioClip,\n        flyStarAudio: cc.AudioClip,\n        wrongAudio:cc.AudioClip,\n        rightAudio: cc.AudioClip,\n    },\n    onLoadChild: function () {\n        this._super();\n        this.scaleNode = this.node.getChildByName('scale');\n        this.option_node = this.scaleNode.getChildByName('option_node');\n        this.tipsNode = this.node.getChildByName('TipsNode');\n        this.tipsNode && (this.tipsNode.active = true);\n        this.answerItemPool = new cc.NodePool();\n        this.changeMoveTag(0);\n        this.initToast();\n\n        this.beltNode = this.scaleNode.getChildByName('beltNode');\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n    },\n    //初始化toast框\n    initToast: function () {\n        var efailed = this.node.getChildByName('scale').getChildByName('efailed');\n        this.efailedJs = efailed.getComponent('efailed');\n        this.efailedJs.game = this;\n    },\n    tipsClick: function () {\n        \n    },\n    initFeedback: function () {\n        this.settlement = cc.instantiate(this.settlePrefab);\n        this.settlementJs = this.settlement.getComponent('settlement');\n        this.settlementJs.game = this;\n        var feedbackNode = this.node.getChildByName('feedback_node');\n        feedbackNode.addChild(this.settlement);\n        this.settlement.active = false;\n    },\n    //转到后台\n    gotoBackground: function () {\n        let submitButton = this.node.getChildByName('button_node').getChildByName('commit'),\n            resetButton = this.node.getChildByName('button_node').getChildByName('cancel');\n        submitButton.setScale(1, 1);\n        resetButton.setScale(1, 1);\n        submitButton._pressed = false;\n        submitButton._hovered = false;\n        resetButton._pressed = false;\n        resetButton._hovered = false;\n        submitButton.normalSprite = this.commitBtnNSF;\n        submitButton.hoverSprite = this.commitBtnNSF;\n        resetButton.normalSprite = this.resetBtnNSF;\n        resetButton.hoverSprite = this.resetBtnNSF;\n\n        this.updateAble = false;//停止帧动画\n        ;\n        for(let i = 0; i<this.beltNode.children.length;i++){\n            let obj = this.beltNode.children[i];\n            obj.getComponent('Thing').resetPosition();\n        }\n\n    },\n    //转到前台\n    gotoForeground: function(){\n        if(!this.tipsNode){//如果引导结束了\n            this.updateAble = true;\n        }\n    },\n\n    /*超时处理 \n     */\n    timeout: function () {\n        this.progress.getComponent(\"ProgressJs\").setStarTypeByIndex(this.nowQuestionID,2);\n        this.settlementJs.playTimeUpAnim();\n    },\n\n    //移除当前所有选项\n    deleteOption: function () {\n        var array = this.option_node.children;\n        for (var i = 0; i < array.length;) {\n            var tempOption = array[i];\n            var graph_btn = tempOption.getChildByName('button_bg');\n            graph_btn.opacity = 255;\n            //放进对象池会自动调用removeFromParent\n            this.answerItemPool.put(tempOption);\n        }\n        this.option_node.removeAllChildren(true);  \n        //移除question_node内容\n    },\n\n    //创建选项按钮\n    createOption: function (optionsArr) {\n       \n    },\n\n    //开始加载选项\n    startloadOption: function () {\n        this.updateGameState(true);\n        this.isIts && this.questionNumListJS.changeOptionDisable();\n        var question = this.questionArr[this.nowQuestionID];\n        //启动业务初始化\n        // this.prompt_nodeJS.setTitle(question.qescont, null);\n\n        //正确答案\n        this.rightOptionNo = question.rightOptionNo;\n        // this.createOption(question.optionsArr);\n        //倒计时\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        if (this.nowQuestionID === 0 && isTotalCd || !isTotalCd) {\n            this.answerTime = 0;\n            let countDown = parseInt(question.interactiveJson['countDown']);\n            if (countDown > 0) {\n                this.countDown = countDown;\n            }\n\n            this.timeLabel.string = this.timeFormat(this.countDown);\n        }\n        this.isIts && this.questionNumListJS.changeOptionEnable();\n        this.isShowFeed = false;\n        this.changeMoveTag(0);\n        //出现走了选中isShowFeed=yes,reloadState还没走.\n        this.initBeltContainer(question.belt,question.optionsArr);//传送带及选项初始化\n        this.flowerAndWater.zIndex = this.time_node.zIndex = this.progress.zIndex  = -2;\n        //\n        this.monkey.active = question.monkey.isShow;\n        this.frog.active = question.frog.isShow;\n        this.giraffe.active = question.giraffe.isShow;\n        this.moveThing.opacity = 0;//touchEnd\n\n        this.monkey.getChildByName(\"collisionNode\").tag = question.monkey.isShow ? 3:-1;\n        this.frog.getChildByName(\"collisionNode\").tag = question.frog.isShow ? 1 : -1;\n        this.giraffe.getChildByName(\"collisionNode\").tag = question.giraffe.isShow ? 2:-1;\n        this.monkey.getChildByName(\"collisionNode\").active = this.frog.getChildByName(\"collisionNode\").active = this.giraffe.getChildByName(\"collisionNode\").active = true;\n        this.runAnimation(\"in\",3000);\n        this.flowerAndWater.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n\n        if(!this.__progressHasInit){\n            this.progress.getComponent(\"ProgressJs\").init(this.questionArr.length);\n            this.__progressHasInit = true;\n        }\n\n        this.beltNode.removeAllChildren();\n        this.collideAble = false;\n        this.updateAble = true;\n        this.currTouchOption = null;\n        this.moveThing.opacity = 0;\n        if (this.nowQuestionID > 0) {\n            !this.isIts && this.showSchedule();\n            isTotalCd && (this.lastAnswerTime = this.answerTime);\n        }else{\n            this.tipsHandAnimation();\n        }\n    },\n\n    initBeltContainer:function(beltData,things){\n        var self = this;\n        var beltLeft = this.beltContainer.getChildByName(\"beltLeft\");\n        var beltRight = this.beltContainer.getChildByName(\"beltRight\");\n        beltLeft.removeAllChildren();\n        beltRight.removeAllChildren();\n        \n        var minOffset = 10;\n        var viewWidth = cc.winSize.width;\n        var itemWidth = viewWidth/things.length;\n        var leafWidth = this.leafContainer.data.width;\n        var offset = itemWidth - leafWidth;\n        var beltWidth = viewWidth;\n\n        if(offset < minOffset){\n            itemWidth = minOffset*2 + leafWidth;\n            offset = minOffset;\n            beltWidth = itemWidth * things.length;\n            this.beltContainer.x = (beltWidth - viewWidth)/2;\n        }\n        this.beltContainer.width = 2*beltWidth;\n        beltLeft.width = beltRight.width = beltWidth;\n        beltLeft.x = 0;\n        beltRight.x = beltWidth;\n        for(var i = 0;i<things.length;i++){\n            (function(i){\n                var item = things[i];\n                var leafContainer1 = cc.instantiate(self.leafContainer);\n                var leafContainer2 = cc.instantiate(self.leafContainer);\n                leafContainer1.setPosition(i*itemWidth + offset - beltWidth/2 + leafWidth/2,0);\n                leafContainer2.setPosition(i*itemWidth + offset - beltWidth/2 + leafWidth/2,0);\n                leafContainer1.tag = leafContainer2.tag = i;\n                beltLeft.addChild(leafContainer1);            \n                beltRight.addChild(leafContainer2);  \n                cc.loader.load(item.optioncontimg,function(err,tex){\n                    if(!err){\n                        var spriteFrame = new cc.SpriteFrame(tex);\n                        var thing1 = leafContainer1.getChildByName('thing'),thing2 = leafContainer2.getChildByName(\"thing\");\n                        thing1.tag = thing2.tag = item.optionContent - 0;\n                        thing1.__optionID = i+100;\n                        thing2.__optionID = (i + 100)*2;\n                        thing1.originParent = thing1.parent;\n                        thing2.originParent = thing2.parent;\n                        thing1.getComponent(\"Thing\").gameJS = thing2.getComponent(\"Thing\").gameJS = self;\n                        thing1.getComponent(cc.Sprite).spriteFrame = thing2.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                        cc.loader.releaseAsset(tex);\n                    }\n                }); \n            })(i);         \n        }\n    },\n    runAnimation(type,timeout,callback){\n        var monkey = this.monkey,bear = this.bear,giraffe = this.giraffe,frog = this.frog;\n        bear.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        if(monkey.active && monkey.getChildByName(\"collisionNode\").tag !==-1){\n            monkey.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        }\n        if(giraffe.active && giraffe.getChildByName(\"collisionNode\").tag !==-1){\n            giraffe.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        }\n        if(frog.active && frog.getChildByName(\"collisionNode\").tag !==-1){\n            frog.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        }\n        setTimeout(function(){\n            bear.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            if(giraffe.active && giraffe.getChildByName(\"collisionNode\").tag !==-1){\n                giraffe.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            }\n            if(frog.active && frog.getChildByName(\"collisionNode\").tag !==-1){\n                frog.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            }\n            if(monkey.active && monkey.getChildByName(\"collisionNode\").tag !==-1){\n                monkey.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            }\n            if(typeof callback === 'function')callback();\n        },timeout||1800);\n    },\n    tipsHandAnimation:function(timeOut){\n        var sourceNode = this.tipsSource = this.beltContainer.getChildByName(\"beltLeft\").children[0];\n        let handNode = this.tipsHand;\n        handNode.opacity = 0;\n        if(sourceNode){\n            this.collideAble = false;//是否可碰撞\n            this.updateAble = false;\n            var sourseThing = sourceNode.getChildByName('thing');\n            setTimeout(()=>{\n                if(!handNode)return;\n                handNode.opacity = 255;\n                let targetNode = this.monkey.getChildByName(\"collisionNode\").tag === sourseThing.tag ? this.monkey.getChildByName(\"collisionNode\") : (this.frog.getChildByName(\"collisionNode\").tag === sourseThing.tag? this.frog.getChildByName(\"collisionNode\") : this.giraffe.getChildByName(\"collisionNode\"));\n\n                var nodePosition = sourceNode.convertToWorldSpaceAR(cc.v2(0, 0));\n                nodePosition = this.scaleNode.convertToNodeSpaceAR(nodePosition);\n                var newPosition = targetNode.convertToWorldSpaceAR(cc.v2(0,0));\n                newPosition = this.scaleNode.convertToNodeSpaceAR(newPosition);\n\n                handNode.x = nodePosition.x + 120;\n                handNode.y = nodePosition.y - 110;\n                this.moveThing.x = nodePosition.x;\n                this.moveThing.y = nodePosition.y;\n                this.moveThing.opacity = 255;\n                sourseThing.opacity = 0;\n                this.moveThing.tag = sourseThing.tag;\n                this.moveThing.getComponent(cc.Sprite).spriteFrame = sourseThing.getComponent(cc.Sprite).spriteFrame;\n\n                handNode.stopAllActions();\n                this.moveThing.stopAllActions();\n                var runTime = 2;\n                var move = cc.moveTo(runTime,newPosition.x + 120,newPosition.y - 110);\n                handNode.runAction(cc.sequence(move,cc.callFunc(()=>{\n                    handNode.x = nodePosition.x + 120;\n                    handNode.y = nodePosition.y - 110;\n                })),this).repeatForever();\n\n                var move1 = cc.moveTo(runTime,newPosition.x,newPosition.y);\n                this.moveThing.runAction(cc.sequence(move1,cc.callFunc(()=>{\n                    this.moveThing.x = nodePosition.x;\n                    this.moveThing.y = nodePosition.y;\n                })),this).repeatForever();\n            },timeOut||3000);\n        }\n    },\n    stopTipsAnimation: function(){\n        this.tipsHand.stopAllActions();\n        this.moveThing.stopAllActions();\n        this.tipsHand.removeFromParent();\n        this.tipsHand = null;\n        this.moveThing.opacity = 0;\n        this.updateAble = true;\n        this.collideAble = true;//是否可碰撞\n        this.tipsNode.removeFromParent();\n        this.tipsNode = null;\n        !this.isIts && this.showSchedule();\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        isTotalCd && (this.lastAnswerTime = this.answerTime); \n    },\n    //选中答案\n    selectAnswer: function (isRight) {\n        //显示状态过程中不接收事件\n        if (this.isShowFeed || this.isShowLossTime) {\n            return;\n        }\n        this.unschedule(this.timeCallback);\n        this.isShowFeed = true;\n        this.updateGameState(false);\n        if (isRight) {\n            if (CONSOLE_LOG_OPEN) console.log('答对了');\n            this.createAnswerInfo('1');\n            this.showFeedback(1);\n        } else {\n            if (CONSOLE_LOG_OPEN) console.log('答错了');\n            this.createAnswerInfo('2');\n            this.showFeedback(2);\n        }\n    },\n    //反馈\n    showFeedback: function (type) {\n        setTimeout(()=>{\n            this.feedbackFinish();\n        },1000);\n    },\n    //游戏结束总反馈\n    gameOverSettlement: function() {\n        let totalNum = this.answerInfoArr.length;\n        let rightNum = 0.0;\n        this.answerInfoArr.forEach((obj, idx)=> {\n           if (obj.answerStatus === '1'){\n                rightNum+= 1;\n           }\n        },this);\n        if(rightNum/totalNum >=0.8){\n            if (CONSOLE_LOG_OPEN) cc.log('>=0.8');\n            AUDIO_OPEN && this.playWinAudio();\n            this.settlementJs.playWinAnim();\n        }else if (rightNum/totalNum >=0.6){\n            if (CONSOLE_LOG_OPEN) cc.log('>=0.6');\n            AUDIO_OPEN && this.playLoseAudio();\n            this.settlementJs.playTwoStarAnim();\n\n        }else{\n            if (CONSOLE_LOG_OPEN) cc.log('<0.6');\n            AUDIO_OPEN && this.playLoseAudio();\n            this.settlementJs.playLoseAnim();\n\n        }\n    },\n    updateGameState: function (interactable) {\n        if (interactable) {\n            this.question_node.resumeSystemEvents(true);\n            this.option_node.resumeSystemEvents(true);\n        } else {\n            this.question_node.pauseSystemEvents(true);\n            this.option_node.pauseSystemEvents(true);\n\n        }\n    },\n    \n    otherClicked: function () {\n        this.playCancelAudio();\n        if (this.isShowFeed) {\n            return;\n        }\n    },\n    /* 再来一次 */\n    resetClicked: function () {\n        let cb = () => {\n            let array = this.option_node.children;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                optionJS && optionJS.reloadState();\n            }, this);\n\n        };\n        this.playCancelAudio();\n\n        if (this.isShowFeed || this.isShowAnim) {\n            return;\n        }\n\n        cb();\n    },\n    /* 确认 */\n    confirmClicked: function () {\n\n        let cb = () => {\n            let array = this.option_node.children;\n            let isEqual = true;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                if (this.rightAry.indexOf(idx.toString()) != -1) {\n                    if (optionJS && optionJS.state != 2) {\n                        isEqual = false;\n                    }\n                } else { //错误区为正确时\n                    if (optionJS && optionJS.state == 2) {\n                        isEqual = false;\n                    }\n                }\n            }, this);\n\n            this.selectAnswer(isEqual);\n        };\n       this.playCancelAudio();\n        //this.isShowAnim\n        if (this.isShowFeed || this.checkIsEmpty()) {\n            return;\n        }\n\n        cb();\n    },\n    checkIsEmpty: function () {\n        let array = this.option_node.children;\n        let isEmpty = true;\n        array.forEach((obj, idx) => {\n            let optionJS = obj.getComponent('OptionJS');\n            //正确区不为正确时\n            if (optionJS && optionJS.state > 1) {\n                isEmpty = false;\n            }\n        }, this);\n        return isEmpty;\n    },\n    playWinAudio: function () {\n        this.playAudio(this.winAudio);\n    },\n\n    playLoseAudio: function () {\n        this.playAudio(this.loseAudio);\n    },\n    playCancelAudio: function () {\n        this.playAudio(this.resetAudio);\n    },\n    playOptionAudio: function () {\n        this.playAudio(this.optionAudio);\n    },\n    playOptionOutAudio: function () {\n        this.playAudio(this.option_outAudio);\n    },\n    playRightAudio:function(){\n        this.playAudio(this.rightAudio);\n    },\n    playRightAudio:function(){\n        this.playAudio(this.wrongAudio);\n    },\n    playCarMoveAudio:function(){\n        this.playAudio(this.carMoveAudio);\n    },\n    playFlyStarAudio:function(){\n        this.playAudio(this.flyStarAudio);\n    },\n     /* 循环规则音,点击后重置 */\n     BasicAni: function () {\n        //倒计时回调\n        let BasinCallbackFunc = function () {\n            var basincb = function () {\n                if (this.isShowFeed) {\n                    return;\n                }\n                if (CONSOLE_LOG_OPEN) console.log('gagagagga');\n                this.playBasinAudio();\n            }\n            return basincb;\n        }\n\n        this.unschedule(this.basinCallback);\n        this.basinCallback = BasinCallbackFunc();\n        var question = this.questionArr[this.nowQuestionID];\n        this.schedule(this.basinCallback, question.gap?parseInt(question.gap):40);\n    },\n    playBasinAudio: function () {\n        //this.playAudio(this.basinAudio);\n        var question = this.questionArr[this.nowQuestionID];\n\n        question.cndybasinAudio && cc.loader.load(question.cndybasinAudio, function (err, audio) {\n            if (!err) {\n                cc.audioEngine.play(audio, false, 1);\n                cc.loader.releaseAsset(audio);\n            }\n        });\n    },\n    playBGMAudio: function () {\n        var self = this;\n        var question = this.questionArr[this.nowQuestionID];\n\n        question.bgm_candyAudio && cc.loader.load(question.bgm_candyAudio, function (err, audio) {\n            if (!err) {\n                cc.audioEngine.play(audio, true, 1);\n                cc.loader.releaseAsset(audio);\n            }\n        });\n    }, //播放音效\n    //播放音效\n    playAudio: function (audio) {\n        if (AUDIO_OPEN) {\n            cc.audioEngine.play(audio, false, 1);\n        }\n    },\n\n    update:function(){\n        try{\n            if(this.updateAble && this.questionArr.length>0){\n                var question = this.questionArr[this.nowQuestionID];\n                var viewWidth = cc.winSize.width;\n                var beltLeft = this.beltContainer.getChildByName(\"beltLeft\");\n                var beltRight = this.beltContainer.getChildByName(\"beltRight\");\n                if(this.beltContainer.x > -3 * beltLeft.width/2 + viewWidth/2){\n                    this.beltContainer.x -= question.belt.moveSpeed;\n                }else{\n                    this.beltContainer.x = -(beltLeft.width - viewWidth)/2  - question.belt.moveSpeed;\n                    var beltLeftPos = beltLeft.getPosition();\n                    beltLeft.x = beltRight.x;\n                    beltRight.x = beltLeftPos.x;\n                }\n            }\n        }catch(e){\n            // console.warn(e);\n        }\n    }\n\n});"]}
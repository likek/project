{"version":3,"sources":["../../../../assets/scripts/assets/scripts/GameJS.js"],"names":["BaseGameJS","require","cc","Class","extends","properties","optionItem_pref","Prefab","settlePrefab","resetBtnNSF","SpriteFrame","commitBtnNSF","beltContainer","Node","leafContainer","progress","backBtn","tipsHand","giraffe","frog","monkey","bear","flowerAndWater","winAudio","AudioClip","loseAudio","resetAudio","optionAudio","option_outAudio","carMoveAudio","flyStarAudio","timeUpAudio","oneStarAudio","twoStarAudio","threeStarAudio","timuAudio","onLoadChild","_super","scaleNode","node","getChildByName","option_node","tipsNode","active","answerItemPool","NodePool","changeMoveTag","initToast","beltNode","manager","director","getCollisionManager","enabled","efailed","efailedJs","getComponent","game","tipsClick","initFeedback","settlement","instantiate","settlementJs","feedbackNode","addChild","gotoBackground","submitButton","resetButton","setScale","_pressed","_hovered","normalSprite","hoverSprite","updateAble","i","children","length","obj","resetPosition","gotoForeground","timeout","setStarTypeByIndex","nowQuestionID","playTimeUpAnim","playTimeUpAudio","deleteOption","array","tempOption","graph_btn","opacity","put","removeAllChildren","createOption","optionsArr","startloadOption","updateGameState","isIts","questionNumListJS","changeOptionDisable","question","questionArr","rightOptionNo","isTotalCd","interactiveJson","totalcd","answerTime","countDown","parseInt","timeLabel","string","timeFormat","changeOptionEnable","isShowFeed","initBeltContainer","belt","zIndex","time_node","isShow","tag","runAnimation","setAnimation","__progressHasInit","init","collideAble","currTouchOption","showSchedule","lastAnswerTime","tipsHandAnimation","beltData","things","self","beltLeft","beltRight","minOffset","viewWidth","winSize","width","itemWidth","leafWidth","data","offset","beltWidth","x","item","leafContainer1","leafContainer2","setPosition","loader","load","optioncontimg","err","tex","spriteFrame","thing1","thing2","optionContent","__optionID","originParent","parent","gameJS","Sprite","releaseAsset","type","callback","__lastRun","clearTimeout","setTimeout","timeOut","sourceNode","tipsSource","handNode","sourseThing","targetNode","nodePosition","convertToWorldSpaceAR","v2","convertToNodeSpaceAR","newPosition","y","stopAllActions","runTime","move","moveTo","runAction","sequence","callFunc","repeatForever","stopTipsAnimation","removeFromParent","selectAnswer","isRight","isShowLossTime","unschedule","timeCallback","CONSOLE_LOG_OPEN","console","log","createAnswerInfo","showFeedback","feedbackFinish","gameOverSettlement","totalNum","answerInfoArr","rightNum","forEach","idx","answerStatus","AUDIO_OPEN","playThreeStarAudio","playWinAnim","playTwoStarAudio","playTwoStarAnim","playOneStarAudio","playLoseAnim","interactable","question_node","resumeSystemEvents","pauseSystemEvents","otherClicked","playCancelAudio","resetClicked","cb","optionJS","reloadState","isShowAnim","confirmClicked","isEqual","rightAry","indexOf","toString","state","checkIsEmpty","isEmpty","playWinAudio","playAudio","playLoseAudio","playOptionAudio","playOptionOutAudio","playCarMoveAudio","playFlyStarAudio","BasicAni","BasinCallbackFunc","basincb","playBasinAudio","basinCallback","schedule","gap","playTimuAudio","audio","audioEngine","play","setFinishCallback","stop","cndybasinAudio","playBGMAudio","bgm_candyAudio","update","moveSpeed","beltLeftPos","getPosition","e"],"mappings":"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","file":"GameJS.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["var BaseGameJS = require(\"BaseGameJS\");\n\ncc.Class({\n    extends: BaseGameJS,\n\n    properties: {\n        optionItem_pref: cc.Prefab, //选项预制\n        settlePrefab: cc.Prefab,\n        resetBtnNSF: cc.SpriteFrame,\n        commitBtnNSF: cc.SpriteFrame, //备选\n\n        beltContainer:cc.Node,\n        leafContainer:cc.Prefab,\n        progress:cc.Node,\n        backBtn:cc.Node,\n        tipsHand:cc.Node,\n\n        giraffe:cc.Node,\n        frog:cc.Node,\n        monkey:cc.Node,\n        bear:cc.Node,\n        flowerAndWater:cc.Node,\n\n        winAudio: cc.AudioClip,\n        loseAudio: cc.AudioClip,\n        resetAudio: cc.AudioClip,\n        optionAudio: cc.AudioClip,\n        option_outAudio: cc.AudioClip,\n        carMoveAudio: cc.AudioClip,\n        flyStarAudio: cc.AudioClip,\n        timeUpAudio: cc.AudioClip,\n        oneStarAudio: cc.AudioClip,\n        twoStarAudio:cc.AudioClip,\n        threeStarAudio: cc.AudioClip,\n        timuAudio: cc.AudioClip,\n    },\n    onLoadChild: function () {\n        this._super();\n        this.scaleNode = this.node.getChildByName('scale');\n        this.option_node = this.scaleNode.getChildByName('option_node');\n        this.tipsNode = this.node.getChildByName('TipsNode');\n        this.tipsNode && (this.tipsNode.active = true);\n        this.answerItemPool = new cc.NodePool();\n        this.changeMoveTag(0);\n        this.initToast();\n\n        this.beltNode = this.scaleNode.getChildByName('beltNode');\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n\n        this.monkey.active = false;\n        this.giraffe.active = false;\n        this.frog.active = false;\n    },\n    //初始化toast框\n    initToast: function () {\n        var efailed = this.node.getChildByName('scale').getChildByName('efailed');\n        this.efailedJs = efailed.getComponent('efailed');\n        this.efailedJs.game = this;\n    },\n    tipsClick: function () {\n        \n    },\n    initFeedback: function () {\n        this.settlement = cc.instantiate(this.settlePrefab);\n        this.settlementJs = this.settlement.getComponent('settlement');\n        this.settlementJs.game = this;\n        var feedbackNode = this.node.getChildByName('feedback_node');\n        feedbackNode.addChild(this.settlement);\n        this.settlement.active = false;\n    },\n    //转到后台\n    gotoBackground: function () {\n        let submitButton = this.node.getChildByName('button_node').getChildByName('commit'),\n            resetButton = this.node.getChildByName('button_node').getChildByName('cancel');\n        submitButton.setScale(1, 1);\n        resetButton.setScale(1, 1);\n        submitButton._pressed = false;\n        submitButton._hovered = false;\n        resetButton._pressed = false;\n        resetButton._hovered = false;\n        submitButton.normalSprite = this.commitBtnNSF;\n        submitButton.hoverSprite = this.commitBtnNSF;\n        resetButton.normalSprite = this.resetBtnNSF;\n        resetButton.hoverSprite = this.resetBtnNSF;\n\n        this.updateAble = false;//停止帧动画\n        ;\n        for(let i = 0; i<this.beltNode.children.length;i++){\n            let obj = this.beltNode.children[i];\n            obj.getComponent('Thing').resetPosition();\n        }\n\n    },\n    //转到前台\n    gotoForeground: function(){\n        if(!this.tipsNode){//如果引导结束了\n            this.updateAble = true;\n        }\n    },\n\n    /*超时处理 \n     */\n    timeout: function () {\n        this.progress.getComponent(\"ProgressJs\").setStarTypeByIndex(this.nowQuestionID,2);\n        this.settlementJs.playTimeUpAnim();\n        this.playTimeUpAudio();\n    },\n\n    //移除当前所有选项\n    deleteOption: function () {\n        var array = this.option_node.children;\n        for (var i = 0; i < array.length;) {\n            var tempOption = array[i];\n            var graph_btn = tempOption.getChildByName('button_bg');\n            graph_btn.opacity = 255;\n            //放进对象池会自动调用removeFromParent\n            this.answerItemPool.put(tempOption);\n        }\n        this.option_node.removeAllChildren(true);  \n        //移除question_node内容\n    },\n\n    //创建选项按钮\n    createOption: function (optionsArr) {\n       \n    },\n\n    //开始加载选项\n    startloadOption: function () {\n        this.tipsHand && (this.tipsHand.opacity = 0);\n        this.updateGameState(true);\n        this.isIts && this.questionNumListJS.changeOptionDisable();\n        var question = this.questionArr[this.nowQuestionID];\n        //启动业务初始化\n        // this.prompt_nodeJS.setTitle(question.qescont, null);\n\n        //正确答案\n        this.rightOptionNo = question.rightOptionNo;\n        // this.createOption(question.optionsArr);\n        //倒计时\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        if (this.nowQuestionID === 0 && isTotalCd || !isTotalCd) {\n            this.answerTime = 0;\n            let countDown = parseInt(question.interactiveJson['countDown']);\n            if (countDown > 0) {\n                this.countDown = countDown;\n            }\n\n            this.timeLabel.string = this.timeFormat(this.countDown);\n        }\n        this.isIts && this.questionNumListJS.changeOptionEnable();\n        this.isShowFeed = false;\n        this.changeMoveTag(0);\n        //出现走了选中isShowFeed=yes,reloadState还没走.\n        this.initBeltContainer(question.belt,question.optionsArr);//传送带及选项初始化\n        this.flowerAndWater.zIndex = this.time_node.zIndex = this.progress.zIndex  = -2;\n        //\n        this.monkey.active = question.monkey.isShow;\n        this.frog.active = question.frog.isShow;\n        this.giraffe.active = question.giraffe.isShow;\n        // this.moveThing.opacity = 0;//touchEnd\n\n        this.monkey.getChildByName(\"collisionNode\").tag = question.monkey.isShow ? 3:-1;\n        this.frog.getChildByName(\"collisionNode\").tag = question.frog.isShow ? 1 : -1;\n        this.giraffe.getChildByName(\"collisionNode\").tag = question.giraffe.isShow ? 2:-1;\n        this.monkey.getChildByName(\"collisionNode\").active = this.frog.getChildByName(\"collisionNode\").active = this.giraffe.getChildByName(\"collisionNode\").active = true;\n        this.runAnimation(\"in\",3000);\n        this.flowerAndWater.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n\n        if(!this.__progressHasInit){\n            this.progress.getComponent(\"ProgressJs\").init(this.questionArr.length);\n            this.__progressHasInit = true;\n        }\n\n        this.beltNode.removeAllChildren();\n        this.collideAble = false;\n        this.updateAble = true;\n        this.currTouchOption = null;\n        // this.moveThing.opacity = 0;\n        if (this.nowQuestionID > 0) {\n            !this.isIts && this.showSchedule();\n            isTotalCd && (this.lastAnswerTime = this.answerTime);\n        }else{\n            this.tipsHand && (this.tipsHand.opacity = 255);\n            this.tipsHandAnimation();\n        }\n    },\n\n    initBeltContainer:function(beltData,things){\n        var self = this;\n        var beltLeft = this.beltContainer.getChildByName(\"beltLeft\");\n        var beltRight = this.beltContainer.getChildByName(\"beltRight\");\n        beltLeft.removeAllChildren();\n        beltRight.removeAllChildren();\n        \n        var minOffset = 10;\n        var viewWidth = cc.winSize.width;\n        var itemWidth = viewWidth/things.length;\n        var leafWidth = this.leafContainer.data.width;\n        var offset = itemWidth - leafWidth;\n        var beltWidth = viewWidth;\n        this.beltContainer.x = 0;\n\n        if(offset < minOffset){\n            itemWidth = minOffset*2 + leafWidth;\n            offset = minOffset;\n            beltWidth = itemWidth * things.length;\n            this.beltContainer.x = (beltWidth - viewWidth)/2;\n        }\n        this.beltContainer.width = 2*beltWidth;\n        beltLeft.width = beltRight.width = beltWidth;\n        beltLeft.x = 0;\n        beltRight.x = beltWidth;\n        for(var i = 0;i<things.length;i++){\n            (function(i){\n                var item = things[i];\n                var leafContainer1 = cc.instantiate(self.leafContainer);\n                var leafContainer2 = cc.instantiate(self.leafContainer);\n                leafContainer1.setPosition(i*itemWidth + offset - beltWidth/2 + leafWidth/2,0);\n                leafContainer2.setPosition(i*itemWidth + offset - beltWidth/2 + leafWidth/2,0);\n                leafContainer1.tag = leafContainer2.tag = i;\n                beltLeft.addChild(leafContainer1);            \n                beltRight.addChild(leafContainer2);  \n                cc.loader.load(item.optioncontimg,function(err,tex){\n                    if(!err){\n                        var spriteFrame = new cc.SpriteFrame(tex);\n                        var thing1 = leafContainer1.getChildByName('thing'),thing2 = leafContainer2.getChildByName(\"thing\");\n                        thing1.tag = thing2.tag = item.optionContent - 0;\n                        thing1.__optionID = i+100;\n                        thing2.__optionID = (i + 100)*2;\n                        thing1.originParent = thing1.parent;\n                        thing2.originParent = thing2.parent;\n                        thing1.getComponent(\"Thing\").gameJS = thing2.getComponent(\"Thing\").gameJS = self;\n                        thing1.getComponent(cc.Sprite).spriteFrame = thing2.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                        cc.loader.releaseAsset(tex);\n                    }\n                }); \n            })(i);         \n        }\n    },\n    runAnimation(type,timeout,callback){\n        var monkey = this.monkey,bear = this.bear,giraffe = this.giraffe,frog = this.frog;\n        bear.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        if(monkey.active && monkey.getChildByName(\"collisionNode\").tag !==-1){\n            monkey.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        }\n        if(giraffe.active && giraffe.getChildByName(\"collisionNode\").tag !==-1){\n            giraffe.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        }\n        if(frog.active && frog.getChildByName(\"collisionNode\").tag !==-1){\n            frog.getComponent(\"sp.Skeleton\").setAnimation(0,type,false);\n        }\n        if(this.runAnimation.__lastRun){\n            clearTimeout(this.runAnimation.__lastRun);\n        }\n        this.runAnimation.__lastRun = setTimeout(function(){\n            bear.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            if(giraffe.active && giraffe.getChildByName(\"collisionNode\").tag !==-1){\n                giraffe.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            }\n            if(frog.active && frog.getChildByName(\"collisionNode\").tag !==-1){\n                frog.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            }\n            if(monkey.active && monkey.getChildByName(\"collisionNode\").tag !==-1){\n                monkey.getComponent(\"sp.Skeleton\").setAnimation(0,\"stand\",true);\n            }\n            if(typeof callback === 'function')callback();\n        },timeout||1800);\n    },\n    tipsHandAnimation:function(timeOut){\n        var sourceNode = this.tipsSource = this.beltContainer.getChildByName(\"beltLeft\").children[0];\n        let handNode = this.tipsHand;\n        handNode && (handNode.opacity = 0);\n        if(sourceNode){\n            this.collideAble = false;//是否可碰撞\n            this.updateAble = false;\n            var sourseThing = sourceNode.getChildByName('thing');\n            if(this.tipsHandAnimation.__lastRun){clearTimeout(this.tipsHandAnimation.__lastRun)}\n            this.tipsHandAnimation.__lastRun = setTimeout(()=>{\n                if(!handNode)return;\n                handNode.opacity = 255;\n                let targetNode = this.monkey.getChildByName(\"collisionNode\").tag === sourseThing.tag ? this.monkey.getChildByName(\"collisionNode\") : (this.frog.getChildByName(\"collisionNode\").tag === sourseThing.tag? this.frog.getChildByName(\"collisionNode\") : this.giraffe.getChildByName(\"collisionNode\"));\n\n                var nodePosition = sourceNode.convertToWorldSpaceAR(cc.v2(0, 0));\n                nodePosition = this.scaleNode.convertToNodeSpaceAR(nodePosition);\n                var newPosition = targetNode.convertToWorldSpaceAR(cc.v2(0,0));\n                newPosition = this.scaleNode.convertToNodeSpaceAR(newPosition);\n\n                handNode.x = nodePosition.x + 120;\n                handNode.y = nodePosition.y - 110;\n\n                handNode.stopAllActions();\n                var runTime = 2;\n                var move = cc.moveTo(runTime,newPosition.x + 120,newPosition.y - 110);\n                handNode.stopAllActions();\n                handNode.runAction(cc.sequence(move,cc.callFunc(()=>{\n                    handNode.x = nodePosition.x + 120;\n                    handNode.y = nodePosition.y - 110;\n                })),this).repeatForever();\n            },timeOut||3000);\n        }\n    },\n    stopTipsAnimation: function(){\n        this.tipsHand.stopAllActions();\n        this.tipsHand.removeFromParent();\n        this.tipsHand = null;\n        this.updateAble = true;\n        this.collideAble = true;//是否可碰撞\n        this.tipsNode.removeFromParent();\n        this.tipsNode = null;\n        !this.isIts && this.showSchedule();\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        isTotalCd && (this.lastAnswerTime = this.answerTime); \n    },\n    //选中答案\n    selectAnswer: function (isRight) {\n        //显示状态过程中不接收事件\n        if (this.isShowFeed || this.isShowLossTime) {\n            return;\n        }\n        this.unschedule(this.timeCallback);\n        this.isShowFeed = true;\n        this.updateGameState(false);\n        if (isRight) {\n            if (CONSOLE_LOG_OPEN) console.log('答对了');\n            this.createAnswerInfo('1');\n            this.showFeedback(1);\n        } else {\n            if (CONSOLE_LOG_OPEN) console.log('答错了');\n            this.createAnswerInfo('2');\n            this.showFeedback(2);\n        }\n    },\n    //反馈\n    showFeedback: function (type) {\n        setTimeout(()=>{\n            this.feedbackFinish();\n        },1000);\n    },\n    //游戏结束总反馈\n    gameOverSettlement: function() {\n        let totalNum = this.answerInfoArr.length;\n        let rightNum = 0.0;\n        this.answerInfoArr.forEach((obj, idx)=> {\n           if (obj.answerStatus === '1'){\n                rightNum+= 1;\n           }\n        },this);\n        if(rightNum/totalNum >=0.8){\n            if (CONSOLE_LOG_OPEN) cc.log('>=0.8');\n            AUDIO_OPEN && this.playThreeStarAudio();\n            this.settlementJs.playWinAnim();\n        }else if (rightNum/totalNum >=0.6){\n            if (CONSOLE_LOG_OPEN) cc.log('>=0.6');\n            AUDIO_OPEN && this.playTwoStarAudio();\n            this.settlementJs.playTwoStarAnim();\n\n        }else{\n            if (CONSOLE_LOG_OPEN) cc.log('<0.6');\n            AUDIO_OPEN && this.playOneStarAudio();\n            this.settlementJs.playLoseAnim();\n\n        }\n    },\n    updateGameState: function (interactable) {\n        if (interactable) {\n            this.question_node.resumeSystemEvents(true);\n            this.option_node.resumeSystemEvents(true);\n        } else {\n            this.question_node.pauseSystemEvents(true);\n            this.option_node.pauseSystemEvents(true);\n\n        }\n    },\n    \n    otherClicked: function () {\n        this.playCancelAudio();\n        if (this.isShowFeed) {\n            return;\n        }\n    },\n    /* 再来一次 */\n    resetClicked: function () {\n        let cb = () => {\n            let array = this.option_node.children;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                optionJS && optionJS.reloadState();\n            }, this);\n\n        };\n        this.playCancelAudio();\n\n        if (this.isShowFeed || this.isShowAnim) {\n            return;\n        }\n\n        cb();\n    },\n    /* 确认 */\n    confirmClicked: function () {\n\n        let cb = () => {\n            let array = this.option_node.children;\n            let isEqual = true;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                if (this.rightAry.indexOf(idx.toString()) != -1) {\n                    if (optionJS && optionJS.state != 2) {\n                        isEqual = false;\n                    }\n                } else { //错误区为正确时\n                    if (optionJS && optionJS.state == 2) {\n                        isEqual = false;\n                    }\n                }\n            }, this);\n\n            this.selectAnswer(isEqual);\n        };\n       this.playCancelAudio();\n        //this.isShowAnim\n        if (this.isShowFeed || this.checkIsEmpty()) {\n            return;\n        }\n\n        cb();\n    },\n    checkIsEmpty: function () {\n        let array = this.option_node.children;\n        let isEmpty = true;\n        array.forEach((obj, idx) => {\n            let optionJS = obj.getComponent('OptionJS');\n            //正确区不为正确时\n            if (optionJS && optionJS.state > 1) {\n                isEmpty = false;\n            }\n        }, this);\n        return isEmpty;\n    },\n    playWinAudio: function () {\n        this.playAudio(this.winAudio);\n    },\n    playLoseAudio: function () {\n        this.playAudio(this.loseAudio);\n    },\n    playCancelAudio: function () {\n        this.playAudio(this.resetAudio);\n    },\n    playOptionAudio: function () {\n        this.playAudio(this.optionAudio);\n    },\n    playOptionOutAudio: function () {\n        this.playAudio(this.option_outAudio);\n    },\n    playCarMoveAudio:function(){\n        this.playAudio(this.carMoveAudio);\n    },\n    playFlyStarAudio:function(){\n        this.playAudio(this.flyStarAudio);\n    },\n    playTimeUpAudio:function(){\n        this.playAudio(this.timeUpAudio);\n    },\n    playOneStarAudio:function(){\n        this.playAudio(this.oneStarAudio);\n    },\n    playTwoStarAudio:function(){\n        this.playAudio(this.twoStarAudio);\n    },\n    playThreeStarAudio:function(){\n        this.playAudio(this.threeStarAudio);\n    },\n     /* 循环规则音,点击后重置 */\n     BasicAni: function () {\n        //倒计时回调\n        let BasinCallbackFunc = function () {\n            var basincb = function () {\n                if (this.isShowFeed) {\n                    return;\n                }\n                if (CONSOLE_LOG_OPEN) console.log('gagagagga');\n                this.playBasinAudio();\n            }\n            return basincb;\n        }\n\n        this.unschedule(this.basinCallback);\n        this.basinCallback = BasinCallbackFunc();\n        var question = this.questionArr[this.nowQuestionID];\n        this.schedule(this.basinCallback, question.gap?parseInt(question.gap):40);\n    },\n    playTimuAudio: function () {\n        var self = this;\n        let audio = cc.audioEngine.play(this.timuAudio, false, 1);\n        cc.audioEngine.setFinishCallback(audio, function () {\n            cc.audioEngine.stop(audio);\n            self.playBasinAudio();\n        })\n    },\n    playBasinAudio: function () {\n        //this.playAudio(this.basinAudio);\n        var question = this.questionArr[this.nowQuestionID];\n\n        question.cndybasinAudio && cc.loader.load(question.cndybasinAudio, function (err, audio) {\n            if (!err) {\n                cc.audioEngine.play(audio, false, 1);\n                cc.loader.releaseAsset(audio);\n            }\n        });\n    },\n    playBGMAudio: function () {\n        var self = this;\n        var question = this.questionArr[this.nowQuestionID];\n\n        question.bgm_candyAudio && cc.loader.load(question.bgm_candyAudio, function (err, audio) {\n            if (!err) {\n                cc.audioEngine.play(audio, true, 1);\n                cc.loader.releaseAsset(audio);\n            }\n        });\n    }, //播放音效\n    //播放音效\n    playAudio: function (audio) {\n        if (AUDIO_OPEN) {\n            cc.audioEngine.play(audio, false, 1);\n        }\n    },\n\n    update:function(){\n        try{\n            if(this.updateAble && this.questionArr.length>0){\n                var question = this.questionArr[this.nowQuestionID];\n                var viewWidth = cc.winSize.width;\n                var beltLeft = this.beltContainer.getChildByName(\"beltLeft\");\n                var beltRight = this.beltContainer.getChildByName(\"beltRight\");\n                if(this.beltContainer.x > -3 * beltLeft.width/2 + viewWidth/2){\n                    this.beltContainer.x -= question.belt.moveSpeed;\n                }else{\n                    this.beltContainer.x = -(beltLeft.width - viewWidth)/2  - question.belt.moveSpeed;\n                    var beltLeftPos = beltLeft.getPosition();\n                    beltLeft.x = beltRight.x;\n                    beltRight.x = beltLeftPos.x;\n                }\n            }\n        }catch(e){\n            // console.warn(e);\n        }\n    }\n\n});"]}
require=function s(a,c,h){function r(e,t){if(!c[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=c[e]={exports:{}};a[e][0].call(o.exports,function(t){return r(a[e][1][t]||t)},o,o.exports,s,a,c,h)}return c[e].exports}for(var l="function"==typeof require&&require,t=0;t<h.length;t++)r(h[t]);return r}({BaseGameJS:[function(t,e,i){"use strict";cc._RF.push(e,"d5325ralz1KNpBY2dkj5IqD","BaseGameJS"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,paopao_node:cc.Node,feedback_node:cc.Node,loseTime_node:cc.Node,loseTime:0,time_node:cc.Node,question_node:cc.Node,quertionList_node:cc.Node,title_node:cc.Node},onLoad:function(){var t=this;document.addEventListener("resignActivePauseGame",function(){t.gotoBackground(),cc.director.pause(),cc.game.pause(),CONSOLE_LOG_OPEN&&console.log("app just resign active.")}),document.addEventListener("becomeActiveResumeGame",function(){cc.game.isPaused&&cc.game.resume(),cc.director.isPaused&&cc.director.resume(),t.gotoForeground(),CONSOLE_LOG_OPEN&&console.log("app just become active.")}),this.initFeedback(),this.answerTime=0,this.lastAnswerTime=0,this.answerContext="",this.countDown=300,this.timeCallback=this.timeCallbackFunc(),this.isShowLossTime=!1,this.nowQuestionID=0,this.questionArr=[],this.answerInfoArr=[],this.questionNumListJS=this.quertionList_node.getComponent("QuestionNumListJS"),this.quertionList_node.opacity=0,this.time_node.opacity=0,this.onLoadChild(),this.answerEnable=!1,this.network=this.node.getComponent("NetworkJS_Data"),this.network.sendXHR(this)},initFeedback:function(){var t=cc.instantiate(this.feedback_pref);this.feedback_node.addChild(t),this.feedbackJS=t.getChildByName("Fish").getComponent("FishFeedback")},onLoadChild:function(){},gotoBackground:function(){},gotoForeground:function(){},createPaopao:function(){for(var t=this.node.width,e=[120,40,160,80,200],i=1012/e.length,n=0;n<e.length;n++){(o=cc.instantiate(this.paopao_pref)).x=e[n],o.y=-i*n,this.paopao_node.addChild(o)}for(n=0;n<e.length;n++){var o;(o=cc.instantiate(this.paopao_pref)).x=t-e[n],o.y=-i*n,this.paopao_node.addChild(o)}},createAnswerInfo:function(t){var e=this.questionArr[this.nowQuestionID];if(e){var i={answerTime:this.answerTime-this.lastAnswerTime,leveLQuestionDetailNum:e.leveLQuestionDetailNum,levelQuestionDetailID:e.levelQuestionDetailID,answerStatus:t,answerContext:this.answerContext};this.answerInfoArr.push(i)}},showFeedback:function(t){0===this.nowQuestionID?this.feedbackJS.firstShowFeedback(this,t):this.feedbackJS.showFeedback(this,t)},firstFeedbackFinish:function(){},feedbackFinish:function(){!this.isIts&&(this.nowQuestionID+=1);var t=this.questionArr[0].interactiveJson.totalcd;if(this.nowQuestionID>=this.questionArr.length||this.countDown-this.answerTime<=0&&t){CONSOLE_LOG_OPEN&&console.log("答完了");for(var e=this.questionArr.length-this.nowQuestionID,i=0;i<e;i++)this.answerTime=0,this.lastAnswerTime=0,this.createAnswerInfo("2"),this.nowQuestionID+=1;this.gameOverSettlement(),this.scheduleOnce(function(){this.isIts&&this.settlementJs.reset(),this.network.gameOver(this.answerInfoArr)},2.5)}else this.network.gameLoadProgress(this.nowQuestionID+1,this.questionArr.length),!this.isIts&&this.deleteOption(),this.settlementJs.reset(),!this.isIts&&this.startloadOption()},showLossTime:function(){this.answerTime+=this.loseTime,this.isShowLossTime=!0,this.loseTime_node.opacity=255;var t=cc.callFunc(function(t){this.isShowLossTime=!1,this.loseTime_node.opacity=0},this);this.loseTime_node.runAction(cc.sequence(cc.fadeTo(1,0),t))},timeCallbackFunc:function(){return function(){this.answerTime+=1,this.scheduleTime+=1;var t=this.countDown-this.answerTime;t<=0?(CONSOLE_LOG_OPEN&&console.log("时间到"),this.timeout(),this.isShowFeed=!0,this.answerTime=this.countDown,this.timeLabel.string="00:00",this.createAnswerInfo("2"),this.scheduleOnce(function(){this.showFeedback(3)},2.5),this.answerTime>this.scheduleTime&&this.unschedule(this.timeCallback)):this.timeLabel.string=this.timeFormat(t)}},timeFormat:function(t){var e=Math.floor(t/60),i=t%60,n=i<10?"0"+i:i;return 59<t?(e<10?"0"+e:e)+":"+n:"00:"+n},timeout:function(){},showSchedule:function(){this.scheduleTime=0,this.schedule(this.timeCallback,1,this.countDown-1)},deleteOption:function(){},createOption:function(t){},selectedOption:function(t){this.nowQuestionID=t,this.deleteOption();var e=this;setTimeout(function(){e.startloadOption()},0)},startloadOption:function(){this.isIts&&this.questionNumListJS.changeOptionDisable();this.questionArr[this.nowQuestionID];this.timeLabel.string=this.timeFormat(this.countDown),this.answerTime=0,!this.isIts&&this.showSchedule(),this.isIts&&this.questionNumListJS.changeOptionEnable(),this.isShowFeed=!1},startLoadGame:function(t){this.questionArr=t,this.quertionList_node.opacity=this.isIts?255:0,this.time_node.opacity=this.isIts?0:255,this.isIts&&t&&0<t.length&&this.questionNumListJS.init(t.length,this.selectedOption.bind(this)),REQUEST_URL?this.requestAllUrls():this.startloadOption(),this.playBGMAudio(),this.playTimuAudio(),this.BasicAni()},requestAllUrls:function(){for(var t=[],e=0;e<this.questionArr.length;e++){if(this.questionArr[e].quescontimgAry instanceof Array)for(var i=0;i<this.questionArr[e].quescontimgAry.length;i++)t.push(this.questionArr[e].quescontimgAry[i]);if(this.questionArr[e].optionsArr instanceof Array)for(var n=0;n<this.questionArr[e].optionsArr.length;n++)this.questionArr[e].optionsArr[n].optioncontimg&&t.push(this.questionArr[e].optionsArr[n].optioncontimg)}var o=this;cc.loader.load(t,function(t,e){t?o.network.gameLoadFailed(1):(o.spriteMaps=e.map,o.startloadOption())})},getSpriteFrame:function(t){if(!t||0==t.length)return null;var e=this.spriteMaps[t].content;return e instanceof cc.Texture2D?new cc.SpriteFrame(e):null},selectAnswer:function(t,e){this.isShowFeed||this.isShowLossTime||(e?(CONSOLE_LOG_OPEN&&console.log("答对了"),this.rightSelect+=1,t.showParticle(),this.rightSelect>=this.count&&(this.unschedule(this.timeCallback),this.isShowFeed=!0,this.createAnswerInfo("1"),this.scheduleOnce(function(){this.showFeedback(1)},1))):(CONSOLE_LOG_OPEN&&console.log("答错了"),this.showLossTime()))},onDestroy:function(){document.removeEventListener("resignActivePauseGame"),document.removeEventListener("becomeActiveResumeGame")},setGameName:function(t){this.title_node.getComponent("TitleJS").init(t)},setPlatform:function(t){this.platform=t,this.isIts="its"==t;var e=this.isIts;this.quertionList_node.active=!!e,this.time_node.active=!e},resetOption:function(){0!=this.moveOptionTag&&(this.option_node.getChildByTag(this.moveOptionTag).getComponent("Option").reloadState(),this.moveOptionTag=0)},changeMoveTag:function(t){return!this.isShowFeed&&((0===this.moveOptionTag||this.moveOptionTag===t||0===t)&&(this.moveOptionTag=t,!0))}}),cc._RF.pop()},{}],ColliderListener:[function(t,e,i){"use strict";cc._RF.push(e,"b0b466dPFFI1ZCDMEewg3qk","ColliderListener"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(t,e){this.node.isCollisioned=!0,this.node.opacity=100},onCollisionExit:function(t,e){CONSOLE_LOG_OPEN&&console.log("on collision exit"),this.node.isCollisioned=!1,this.node.opacity=255}}),cc._RF.pop()},{}],GameJS:[function(t,e,i){"use strict";cc._RF.push(e,"d92c8sRpIBMBKs/RzLIjTLN","GameJS");var n=t("BaseGameJS");cc.Class({extends:n,properties:{optionItem_pref:cc.Prefab,settlePrefab:cc.Prefab,resetBtnNSF:cc.SpriteFrame,commitBtnNSF:cc.SpriteFrame,beltContainer:cc.Node,leafContainer:cc.Prefab,progress:cc.Node,backBtn:cc.Node,tipsHand:cc.Node,giraffe:cc.Node,frog:cc.Node,monkey:cc.Node,bear:cc.Node,flowerAndWater:cc.Node,winAudio:cc.AudioClip,loseAudio:cc.AudioClip,resetAudio:cc.AudioClip,optionAudio:cc.AudioClip,option_outAudio:cc.AudioClip,carMoveAudio:cc.AudioClip,flyStarAudio:cc.AudioClip,timeUpAudio:cc.AudioClip,oneStarAudio:cc.AudioClip,twoStarAudio:cc.AudioClip,threeStarAudio:cc.AudioClip,timuAudio:cc.AudioClip},onLoadChild:function(){this._super(),this.scaleNode=this.node.getChildByName("scale"),this.option_node=this.scaleNode.getChildByName("option_node"),this.tipsNode=this.node.getChildByName("TipsNode"),this.tipsNode&&(this.tipsNode.active=!0),this.answerItemPool=new cc.NodePool,this.changeMoveTag(0),this.initToast(),this.beltNode=this.scaleNode.getChildByName("beltNode"),cc.director.getCollisionManager().enabled=!0,this.monkey.active=!1,this.giraffe.active=!1,this.frog.active=!1},initToast:function(){var t=this.node.getChildByName("scale").getChildByName("efailed");this.efailedJs=t.getComponent("efailed"),this.efailedJs.game=this},tipsClick:function(){},initFeedback:function(){this.settlement=cc.instantiate(this.settlePrefab),this.settlementJs=this.settlement.getComponent("settlement"),(this.settlementJs.game=this).node.getChildByName("feedback_node").addChild(this.settlement),this.settlement.active=!1},gotoBackground:function(){var t=this.node.getChildByName("button_node").getChildByName("commit"),e=this.node.getChildByName("button_node").getChildByName("cancel");t.setScale(1,1),e.setScale(1,1),t._pressed=!1,t._hovered=!1,e._pressed=!1,e._hovered=!1,t.normalSprite=this.commitBtnNSF,t.hoverSprite=this.commitBtnNSF,e.normalSprite=this.resetBtnNSF,e.hoverSprite=this.resetBtnNSF,this.updateAble=!1;for(var i=0;i<this.beltNode.children.length;i++){this.beltNode.children[i].getComponent("Thing").resetPosition()}},gotoForeground:function(){this.tipsNode||(this.updateAble=!0)},timeout:function(){this.progress.getComponent("ProgressJs").setStarTypeByIndex(this.nowQuestionID,2),this.settlementJs.playTimeUpAnim(),this.playTimeUpAudio()},deleteOption:function(){for(var t=this.option_node.children;0<t.length;){var e=t[0];e.getChildByName("button_bg").opacity=255,this.answerItemPool.put(e)}this.option_node.removeAllChildren(!0)},createOption:function(t){},startloadOption:function(){this.tipsHand&&(this.tipsHand.opacity=0),this.updateGameState(!0),this.isIts&&this.questionNumListJS.changeOptionDisable();var t=this.questionArr[this.nowQuestionID];this.rightOptionNo=t.rightOptionNo;var e=this.questionArr[0].interactiveJson.totalcd;if(0===this.nowQuestionID&&e||!e){this.answerTime=0;var i=parseInt(t.interactiveJson.countDown);0<i&&(this.countDown=i),this.timeLabel.string=this.timeFormat(this.countDown)}this.isIts&&this.questionNumListJS.changeOptionEnable(),this.isShowFeed=!1,this.changeMoveTag(0),this.initBeltContainer(t.belt,t.optionsArr),this.flowerAndWater.zIndex=this.time_node.zIndex=this.progress.zIndex=-2,this.monkey.active=t.monkey.isShow,this.frog.active=t.frog.isShow,this.giraffe.active=t.giraffe.isShow,this.monkey.getChildByName("collisionNode").tag=t.monkey.isShow?3:-1,this.frog.getChildByName("collisionNode").tag=t.frog.isShow?1:-1,this.giraffe.getChildByName("collisionNode").tag=t.giraffe.isShow?2:-1,this.monkey.getChildByName("collisionNode").active=this.frog.getChildByName("collisionNode").active=this.giraffe.getChildByName("collisionNode").active=!0,this.runAnimation("in",3e3),this.flowerAndWater.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),this.__progressHasInit||(this.progress.getComponent("ProgressJs").init(this.questionArr.length),this.__progressHasInit=!0),this.beltNode.removeAllChildren(),this.collideAble=!1,this.updateAble=!0,this.currTouchOption=null,0<this.nowQuestionID?(!this.isIts&&this.showSchedule(),e&&(this.lastAnswerTime=this.answerTime)):(this.tipsHand&&(this.tipsHand.opacity=255),this.tipsHandAnimation())},initBeltContainer:function(t,e){var r=this,i=this.beltContainer.getChildByName("beltLeft"),n=this.beltContainer.getChildByName("beltRight");i.removeAllChildren(),n.removeAllChildren();var o=cc.winSize.width,l=o/e.length,d=this.leafContainer.data.width,u=l-d,p=o;this.beltContainer.x=0,u<10&&(u=10,p=(l=20+d)*e.length,this.beltContainer.x=(p-o)/2),this.beltContainer.width=2*p,i.width=n.width=p,i.x=0,n.x=p;for(var s=0;s<e.length;s++)(function(s){var a=e[s],c=cc.instantiate(r.leafContainer),h=cc.instantiate(r.leafContainer);c.setPosition(s*l+u-p/2+d/2,0),h.setPosition(s*l+u-p/2+d/2,0),c.tag=h.tag=s,i.addChild(c),n.addChild(h),cc.loader.load(a.optioncontimg,function(t,e){if(!t){var i=new cc.SpriteFrame(e),n=c.getChildByName("thing"),o=h.getChildByName("thing");n.tag=o.tag=a.optionContent-0,n.__optionID=s+100,o.__optionID=2*(s+100),n.originParent=n.parent,o.originParent=o.parent,n.getComponent("Thing").gameJS=o.getComponent("Thing").gameJS=r,n.getComponent(cc.Sprite).spriteFrame=o.getComponent(cc.Sprite).spriteFrame=i,cc.loader.releaseAsset(e)}})})(s)},runAnimation:function(t,e,i){var n=this.monkey,o=this.bear,s=this.giraffe,a=this.frog;o.getComponent("sp.Skeleton").setAnimation(0,t,!1),n.active&&-1!==n.getChildByName("collisionNode").tag&&n.getComponent("sp.Skeleton").setAnimation(0,t,!1),s.active&&-1!==s.getChildByName("collisionNode").tag&&s.getComponent("sp.Skeleton").setAnimation(0,t,!1),a.active&&-1!==a.getChildByName("collisionNode").tag&&a.getComponent("sp.Skeleton").setAnimation(0,t,!1),this.runAnimation.__lastRun&&clearTimeout(this.runAnimation.__lastRun),this.runAnimation.__lastRun=setTimeout(function(){o.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),s.active&&-1!==s.getChildByName("collisionNode").tag&&s.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),a.active&&-1!==a.getChildByName("collisionNode").tag&&a.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),n.active&&-1!==n.getChildByName("collisionNode").tag&&n.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),"function"==typeof i&&i()},e||1800)},tipsHandAnimation:function(t){var o=this,s=this.tipsSource=this.beltContainer.getChildByName("beltLeft").children[0],a=this.tipsHand;if(a&&(a.opacity=0),s){this.collideAble=!1,this.updateAble=!1;var c=s.getChildByName("thing");this.tipsHandAnimation.__lastRun&&clearTimeout(this.tipsHandAnimation.__lastRun),this.tipsHandAnimation.__lastRun=setTimeout(function(){if(a){a.opacity=255;var t=o.monkey.getChildByName("collisionNode").tag===c.tag?o.monkey.getChildByName("collisionNode"):o.frog.getChildByName("collisionNode").tag===c.tag?o.frog.getChildByName("collisionNode"):o.giraffe.getChildByName("collisionNode"),e=s.convertToWorldSpaceAR(cc.v2(0,0));e=o.scaleNode.convertToNodeSpaceAR(e);var i=t.convertToWorldSpaceAR(cc.v2(0,0));i=o.scaleNode.convertToNodeSpaceAR(i),a.x=e.x+120,a.y=e.y-110,a.stopAllActions();var n=cc.moveTo(2,i.x+120,i.y-110);a.stopAllActions(),a.runAction(cc.sequence(n,cc.callFunc(function(){a.x=e.x+120,a.y=e.y-110})),o).repeatForever()}},t||3e3)}},stopTipsAnimation:function(){this.tipsHand.stopAllActions(),this.tipsHand.removeFromParent(),this.tipsHand=null,this.updateAble=!0,this.collideAble=!0,this.tipsNode.removeFromParent(),this.tipsNode=null,!this.isIts&&this.showSchedule(),this.questionArr[0].interactiveJson.totalcd&&(this.lastAnswerTime=this.answerTime)},selectAnswer:function(t){this.isShowFeed||this.isShowLossTime||(this.unschedule(this.timeCallback),this.isShowFeed=!0,this.updateGameState(!1),t?(CONSOLE_LOG_OPEN&&console.log("答对了"),this.createAnswerInfo("1"),this.showFeedback(1)):(CONSOLE_LOG_OPEN&&console.log("答错了"),this.createAnswerInfo("2"),this.showFeedback(2)))},showFeedback:function(t){var e=this;setTimeout(function(){e.feedbackFinish()},1e3)},gameOverSettlement:function(){var t=this.answerInfoArr.length,i=0;this.answerInfoArr.forEach(function(t,e){"1"===t.answerStatus&&(i+=1)},this),.8<=i/t?(CONSOLE_LOG_OPEN&&cc.log(">=0.8"),AUDIO_OPEN&&this.playThreeStarAudio(),this.settlementJs.playWinAnim()):.6<=i/t?(CONSOLE_LOG_OPEN&&cc.log(">=0.6"),AUDIO_OPEN&&this.playTwoStarAudio(),this.settlementJs.playTwoStarAnim()):(CONSOLE_LOG_OPEN&&cc.log("<0.6"),AUDIO_OPEN&&this.playOneStarAudio(),this.settlementJs.playLoseAnim())},updateGameState:function(t){t?(this.question_node.resumeSystemEvents(!0),this.option_node.resumeSystemEvents(!0)):(this.question_node.pauseSystemEvents(!0),this.option_node.pauseSystemEvents(!0))},otherClicked:function(){this.playCancelAudio(),this.isShowFeed},resetClicked:function(){var t=this;this.playCancelAudio(),this.isShowFeed||this.isShowAnim||t.option_node.children.forEach(function(t,e){var i=t.getComponent("OptionJS");i&&i.reloadState()},t)},confirmClicked:function(){var t,n,o=this;(this.playCancelAudio(),this.isShowFeed||this.checkIsEmpty())||(t=o.option_node.children,n=!0,t.forEach(function(t,e){var i=t.getComponent("OptionJS");-1!=o.rightAry.indexOf(e.toString())?i&&2!=i.state&&(n=!1):i&&2==i.state&&(n=!1)},o),o.selectAnswer(n))},checkIsEmpty:function(){var t=this.option_node.children,n=!0;return t.forEach(function(t,e){var i=t.getComponent("OptionJS");i&&1<i.state&&(n=!1)},this),n},playWinAudio:function(){this.playAudio(this.winAudio)},playLoseAudio:function(){this.playAudio(this.loseAudio)},playCancelAudio:function(){this.playAudio(this.resetAudio)},playOptionAudio:function(){this.playAudio(this.optionAudio)},playOptionOutAudio:function(){this.playAudio(this.option_outAudio)},playCarMoveAudio:function(){this.playAudio(this.carMoveAudio)},playFlyStarAudio:function(){this.playAudio(this.flyStarAudio)},playTimeUpAudio:function(){this.playAudio(this.timeUpAudio)},playOneStarAudio:function(){this.playAudio(this.oneStarAudio)},playTwoStarAudio:function(){this.playAudio(this.twoStarAudio)},playThreeStarAudio:function(){this.playAudio(this.threeStarAudio)},BasicAni:function(){this.unschedule(this.basinCallback),this.basinCallback=function(){this.isShowFeed||(CONSOLE_LOG_OPEN&&console.log("gagagagga"),this.playBasinAudio())};var t=this.questionArr[this.nowQuestionID];this.schedule(this.basinCallback,t.gap?parseInt(t.gap):40)},playTimuAudio:function(){var t=this,e=cc.audioEngine.play(this.timuAudio,!1,1);cc.audioEngine.setFinishCallback(e,function(){cc.audioEngine.stop(e),t.playBasinAudio()})},playBasinAudio:function(){var t=this.questionArr[this.nowQuestionID];t.cndybasinAudio&&cc.loader.load(t.cndybasinAudio,function(t,e){t||(cc.audioEngine.play(e,!1,1),cc.loader.releaseAsset(e))})},playBGMAudio:function(){var t=this.questionArr[this.nowQuestionID];t.bgm_candyAudio&&cc.loader.load(t.bgm_candyAudio,function(t,e){t||(cc.audioEngine.play(e,!0,1),cc.loader.releaseAsset(e))})},playAudio:function(t){AUDIO_OPEN&&cc.audioEngine.play(t,!1,1)},update:function(){try{if(this.updateAble&&0<this.questionArr.length){var t=this.questionArr[this.nowQuestionID],e=cc.winSize.width,i=this.beltContainer.getChildByName("beltLeft"),n=this.beltContainer.getChildByName("beltRight");if(this.beltContainer.x>-3*i.width/2+e/2)this.beltContainer.x-=t.belt.moveSpeed;else{this.beltContainer.x=-(i.width-e)/2-t.belt.moveSpeed;var o=i.getPosition();i.x=n.x,n.x=o.x}}}catch(t){}}}),cc._RF.pop()},{BaseGameJS:"BaseGameJS"}],LocalSaveJS:[function(t,e,i){"use strict";cc._RF.push(e,"f4c57nVhA1DEK8uDdBUQDFX","LocalSaveJS"),cc.Class({extends:cc.Component,properties:{},save:function(t,e){var i=cc.sys.localStorage;i?function(t,e,i){var n="";null!=i&&(n="; expires="+(n=new Date((new Date).getTime()+1e3*i)).toGMTString());n+="; path=/",document.cookie=t+"="+escape(e)+n}(t,e):i.setItem(t,e)},load:function(t){var e=cc.sys.localStorage;return e?function(t){var e="",i=t+"=";if(0<document.cookie.length){var n=document.cookie.indexOf(i);if(-1!=n){n+=i.length;var o=document.cookie.indexOf(";",n);-1==o&&(o=document.cookie.length),e=unescape(document.cookie.substring(n,o))}}return e}(t):e.getItem(t)}}),cc._RF.pop()},{}],NetworkJS_Data:[function(t,e,i){"use strict";cc._RF.push(e,"8febaBdc6ZNMK6NnHe3UpZb","NetworkJS_Data");var n=t("NetworkJS");cc.Class({extends:n,properties:{},analysisDict:function(t){var e=t.interactiveJson;if(e&&0!=e.length){"string"==typeof e&&(e=JSON.parse(e));for(var i=t.optionandanswers[0],n=i.options,o=[],s=0;s<n.length;++s){var a=n[s],c=a.optioncontent,h={optionNo:a.optionno,optionContent:this.removeSpan(c),optioncontimg:a.optioncontimg,optionFlip:this.removeSpan(c)};o.push(h)}var r=t.quescontimg,l=t.qescontsound;if(e.rightAry&&e.questionAry&&e.optionCount&&e.countDown||this.gameLoadFailed(2),o||0<o.length)return{answerTime:"0",levelQuestionDetailID:t.questionid,leveLQuestionDetailNum:t.orderid,qescont:this.removeSpan(t.qescont),optionsArr:o,rightOptionNo:this.removeSpan(i.rightanswer),questionPositon:e.questionPositon,quescontimgAry:r,question_img:0<r.length&&r[0],answer_img:1<r.length&&r[1],answer_finish:2<r.length&&r[2],bgm_candyAudio:0<l.length&&l[0],cndybasinAudio:1<l.length&&l[1],interactiveJson:e,belt:e.belt,frog:e.frog,giraffe:e.giraffe,monkey:e.monkey};this.gameLoadFailed(2)}else this.gameLoadFailed(2)}}),cc._RF.pop()},{NetworkJS:"NetworkJS"}],NetworkJS:[function(t,e,i){"use strict";cc._RF.push(e,"cd804MyCfRHi4BLiy+Orkth","NetworkJS");cc.Class({extends:cc.Component,properties:{},GetQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null},sendXHR:function(t){this.racingjs=t;var e=cc.loader.getXMLHttpRequest();this.streamXHREventsToLabel(e,"GET");var i=this.GetQueryString("fileUrl");e.open("GET",i),cc.sys.isNative&&e.setRequestHeader("Accept-Encoding","gzip,deflate"),e.timeout=6e4,e.send()},streamXHREventsToLabel:function(t,e,i){var n=i||function(t){return e+" Response: "+t.substring(0,30)+"..."},o=this;t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&(CONSOLE_LOG_OPEN&&console.log(n(t.responseText)),200===t.status?o.analysisData(t.responseText):(CONSOLE_LOG_OPEN&&console.log("There was a problem with the request."),o.gameLoadFailed(1)))}},analysisData:function(t){var e=JSON.parse(t);if(e||0<e.length){for(var i=[],n=0;n<e.length;++n){var o=this.analysisDict(e[n]);if(!o)break;i.push(o)}i&&0<i.length&&e.length==i.length?(this.racingjs.setPlatform(this.GetQueryString("platform")),this.racingjs.setGameName(this.GetQueryString("gameName")),this.racingjs.startLoadGame(i),this.gameLoadSuccess(i.length)):this.gameLoadFailed(2)}else this.gameLoadFailed(2)},analysisDict:function(t){var e=t.interactiveJson;if(e&&0!=e.length)return"string"==typeof e&&(e=JSON.parse(e)),{answerTime:"0",levelQuestionDetailID:t.questionid,leveLQuestionDetailNum:t.orderid,qescont:this.removeSpan(t.qescont),interactiveJson:e};this.gameLoadFailed(2)},removeSpan:function(t){var e=t.replace("<span>","");return e=e.replace("</span>","")},gameLoadFailed:function(t){if(1==t){var e=encodeURI("errcode=10001&errmsg=下载失败");window.location.href="optionBlank://gameLoadFailed?"+e}else{e=encodeURI("errcode=10002&errmsg=解析失败");window.location.href="optionBlank://gameLoadFailed?"+e}},gameLoadSuccess:function(t){var e=encodeURI("isShow=1&isHideNativeBackBtn=1&isHideNativeProgressBtn=1&totalNumber="+t);window.location.href="optionBlank://gameLoadSuccess?"+e},gameOver:function(t){var e=encodeURI(JSON.stringify(t));window.location.href="optionBlank://gameOver?status=1&data="+e},gameLoadProgress:function(t,e){var i=encodeURI("nowNumber="+t+"&totalNumber="+e);window.location.href="optionBlank://gameLoadProgress?"+i},gameBackAction:function(){window.location.href="optionBlank://xmaGameBackAction?status=1"}});cc._RF.pop()},{}],OptionJS1:[function(t,e,i){"use strict";cc._RF.push(e,"cec4fBlGJ1Nw5Qzjr1JzrRx","OptionJS1");var s=new cc.Enum({unable:0,nomal:1,right:2,wrong:3});cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.show=this.node.getChildByName("show"),this.anim=this.node.getChildByName("anim"),this.right=this.node.getChildByName("right"),this.wrong=this.node.getChildByName("wrong"),this.text=this.node.getChildByName("text");var t=this;document.addEventListener("resignActivePauseGame",function(){t.reloadState()})},reloadState:function(){},init:function(t,e,i,n){this.gameJS=t;var o=this;n?(this.text.active=!0,this.text.getComponent(cc.Label).string=e,cc.loader.loadRes("texture",cc.SpriteAtlas,function(t,e){var i=e.getSpriteFrame("fang2");o.show.getComponent(cc.Sprite).spriteFrame=i,cc.loader.releaseAsset("texture",cc.SpriteAtlas)}),this.state=s.unable,this.show.opacity=255,this.anim.opacity=0,this.right.opacity=0,this.wrong.opacity=0,this.updateState(!1)):(this.text.active=!1,this.text.getComponent(cc.Label).string="",cc.loader.loadRes("texture",cc.SpriteAtlas,function(t,e){var i=e.getSpriteFrame("fang1");o.show.getComponent(cc.Sprite).spriteFrame=i,cc.loader.releaseAsset("texture",cc.SpriteAtlas)}),this.state=s.nomal,this.show.opacity=255,this.anim.opacity=0,this.right.opacity=0,this.wrong.opacity=0)},optionClick:function(){this.updateState(!1),this.node.parent.pauseSystemEvents(!0),this.gameJS.playOptionAudio()},updateState:function(t){this.node.getComponent(cc.Button).interactable=t},resetState:function(){}}),cc._RF.pop()},{}],OptionJS:[function(t,e,i){"use strict";cc._RF.push(e,"ea4b5QR7YdFVKJuS8oyqW38","OptionJS");cc.Class({extends:cc.Component,properties:{parent_node:cc.Node,canMove:!1,exchangeParent:!1},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touch_start.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touch_move.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_END,this.touch_end.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touch_cancel.bind(this),this.node),this.audioPool=[];var t=this;document.addEventListener("resignActivePauseGame",function(){t.resetState()})},init:function(t,e,i){this.node.opacity=255,this.startx=this.node.x,this.starty=this.node.y,this.gameJS=t,this.option=e},touch_start:function(t){this.canMove=this.gameJS.changeMoveTag(this.node.tag),this.canMove&&(this.gameJS.playOptionAudio(),this.dragX=this.node.x,this.dragY=this.node.y,this.parent_node.zIndex=1)},touch_end:function(t){this.canMove&&(this.gameJS.playOptionOutAudio(),this.node.opacity=255,this.check()?this.optionClick():this.reloadState())},touch_move:function(t){if(this.canMove){var e=t.touch.getDelta();this.node.x+=e.x,this.node.y+=e.y;var i=t.getTouches(),n=this.node.parent.parent.parent,o=n.convertTouchToNodeSpaceAR(i[0]);Math.abs(o.x)<n.width/2-50&&Math.abs(o.y)<n.height/2-30||(CONSOLE_LOG_OPEN&&cc.log("出屏了"),this.reloadState())}},touch_cancel:function(t){this.canMove&&this.reloadState()},check:function(){CONSOLE_LOG_OPEN&&cc.log("this.node.isCollisioned="+this.node.isCollisioned);var t=this.node.convertToWorldSpaceAR(cc.p(0,0)),e=!1,i=this.gameJS.areaNode.getBoundingBoxToWorld();return cc.rectContainsPoint(i,t)&&(e=!0),e},resetState:function(){},reloadState:function(){if(this.canMove=!1,this.exchangeParent){var t=this.node.convertToWorldSpaceAR(cc.p(0,0));this.node.parent=this.parent_node;var e=this.node.parent.convertToNodeSpaceAR(t);this.node.setPosition(e)}var i=cc.moveTo(this.calculateAnimTime(),cc.p(this.startx,this.starty));this.node.runAction(cc.sequence(i,cc.callFunc(function(){this.node.setPosition(this.startx,this.starty),this.parent_node.zIndex=0,this.updateState(!0),this.gameJS.changeMoveTag(0)},this)))},calculateAnimTime:function(){var t=cc.pDistance(this.node.position,cc.p(this.startx,this.starty))/1e3;return.3*(t=1<t?1:t)},optionClick:function(){if(this.exchangeParent){var t=this.node.convertToWorldSpaceAR(cc.p(0,0));this.setZindex(this.node),this.node.parent=this.sheepNode;var e=this.node.parent.convertToNodeSpaceAR(t);this.node.setPosition(e)}this.node.parent.zIndex=0,this.canMove=!1,this.gameJS.changeMoveTag(0)},updateState:function(t){t?this.node.resumeSystemEvents(!0):this.node.pauseSystemEvents(!0)}}),cc._RF.pop()},{}],ProgressJs:[function(t,e,i){"use strict";cc._RF.push(e,"bffa6tUYERD1rOxZB4r27oO","ProgressJs");var n={1:"rightSF",2:"errSF",3:"errSF"};cc.Class({extends:cc.Component,properties:{starPre:cc.Prefab,starPNode:cc.Node,rightSF:cc.SpriteFrame,errSF:cc.SpriteFrame,initSF:cc.SpriteFrame,blueStar:cc.Node,flayNode:cc.Node,rigthAction:cc.Node},onLoad:function(){this.starData=[],this.starFlagAction()},init:function(t){for(var e,i=0;i<t;i++)(e=cc.instantiate(this.starPre)).parent=this.node,e.position=cc.p(-t/2*102+102*i+10+41,710),this.starData||(thi.starData=[]),this.starData.push(e);var n=this.getStarPosByIndex(0);this.showStarFlag(n)},setStarTypeByIndex:function(e,i){this.hideStarFlag(),i=i.toString(),this.scheduleOnce(function(){if(this.starData[e]&&(this.starData[e].getComponent(cc.Sprite).spriteFrame=this[n[i]]),"1"==i){this.starData[e].opacity=0,this.starData[e].scaleX=.4,this.starData[e].scaleY=.4,this.rigthAction.position=this.starData[e].position,this.rigthAction.active=!0,this.rigthAction.getComponent(cc.Animation).play();var t=cc.callFunc(function(t){this.rigthAction.active=!1},this);this.starData[e].runAction(cc.sequence(cc.spawn(cc.scaleTo(.33,1.2),cc.fadeTo(.33,255)),cc.scaleTo(.16,1),t))}else this.starData[e].opacity=0,this.starData[e].scaleX=2,this.starData[e].scaleY=2,this.starData[e].runAction(cc.sequence(cc.spawn(cc.scaleTo(.33,.9),cc.fadeTo(.33,255)),cc.scaleTo(.16,1)));e+1<this.starData.length&&this.scheduleOnce(function(){var t=this.getStarPosByIndex(e+1);this.showStarFlag(t)},.55)},.34)},getStarPosByIndex:function(t){if(this.starData[t])return this.starData[t].position},showStarFlag:function(t){this.starPNode.position=t,this.starPNode.runAction(cc.spawn(cc.scaleTo(.33,1),cc.rotateTo(.33,0)))},hideStarFlag:function(){this.starPNode.runAction(cc.spawn(cc.scaleTo(.33,0),cc.rotateTo(.33,-90)))},starFlagAction:function(){this.starPNode.zIndex=100,this.starPNode.getChildByName("starAction").runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,1.5),cc.fadeTo(1,255)),cc.spawn(cc.scaleTo(1,1),cc.fadeTo(1,200)))))},playFlayStar:function(t,e,i,n,o){this.flayNode.position=t,this.flayNode.active=!0;var s=this.getStarPosByIndex(e),a=cc.callFunc(function(t){this.flayNode.getChildByName("particlesystem").getComponent(cc.ParticleSystem).resetSystem(),this.flayNode.active=!1,this.setStarTypeByIndex(e,i),n&&n.call(o)},this),c=cc.pDistance(s,t),h=Math.min(c/1200,1.5);this.flayNode.runAction(cc.sequence(cc.moveTo(h,s),a)),this.blueStar.runAction(cc.rotateTo(h,1440))}}),cc._RF.pop()},{}],QuestionNumJS:[function(t,e,i){"use strict";cc._RF.push(e,"511ccnUhPdEV5sMRHkmPNf2","QuestionNumJS"),cc.Class({extends:cc.Component,properties:{label:cc.Label,selected_node:cc.Node},onLoad:function(){this.isSelect=!1,this.sp=this.node.getComponent("cc.Sprite")},init:function(t,e){this.gameJS=t;var i=""+((this.idx=e)+1);this.label.string=i,this.selected_node.opacity=0},onClick:function(){this.gameJS.changQustion(this.idx)},setSelected:function(t){this.isSelect=t,this.selected_node.opacity=t?255:0}}),cc._RF.pop()},{}],QuestionNumListJS:[function(t,e,i){"use strict";cc._RF.push(e,"7a656I23ulAK7kDASga7f0X","QuestionNumListJS"),cc.Class({extends:cc.Component,properties:{lastBtn:cc.Node,nextBtn:cc.Node,quertionNum:cc.Prefab,questionNum_node:cc.Node},onLoad:function(){this.itemPool=new cc.NodePool,this.defaultLen=7,this.targetIdx=0,this.nowQuestionID=0,this.qusetionItemPool=new cc.NodePool,this.qusetionNumJSArr=[],this.selectedQusetionJS=null},init:function(t,e){this.maxlen=t,this.cb=e,t<this.defaultLen?(this.lastBtn.opacity=0,this.nextBtn.opacity=0):(this.lastBtn.opacity=255,this.nextBtn.opacity=255);for(var i=0;i<t;i++){var n=cc.instantiate(this.quertionNum),o=n.getComponent("QuestionNumJS");this.qusetionNumJSArr.push(n),o.init(this,i)}this.changeQustionList(),this.selectedQusetionJS=this.qusetionNumJSArr[this.nowQuestionID].getComponent("QuestionNumJS"),this.selectedQusetionJS.setSelected(!0)},clickLast:function(){this.targetIdx>=this.defaultLen&&(this.targetIdx-=this.defaultLen,this.changeQustionList())},clickNext:function(){this.targetIdx+this.defaultLen<this.maxlen&&(this.targetIdx+=this.defaultLen,this.changeQustionList())},changeQustionList:function(){this.questionNum_node.removeAllChildren();for(var t=this.targetIdx,e=Math.min(this.defaultLen,this.maxlen-t),i=0;i<e;i++){var n=this.qusetionNumJSArr[i+t];this.questionNum_node.addChild(n)}},changQustion:function(t){this.nowQuestionID=t,this.selectedQusetionJS.setSelected(!1),this.selectedQusetionJS=this.qusetionNumJSArr[t].getComponent("QuestionNumJS"),this.selectedQusetionJS.setSelected(!0);var e=this.cb;e&&e(t)},changeOptionEnable:function(){this.questionNum_node.resumeSystemEvents(!0)},changeOptionDisable:function(){this.questionNum_node.pauseSystemEvents(!0)}}),cc._RF.pop()},{}],Thing:[function(t,e,i){"use strict";cc._RF.push(e,"1e5c5nZ50pL5Y7XvXCc6Cuq","Thing"),cc.Class({extends:cc.Component,properties:{moveAble:!1},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.thingTouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.moveThingTouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.moveThingTouchEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.moveThingTouchCanCel.bind(this),this),this.startx=this.node.x,this.starty=this.node.y},start:function(){},onCollisionEnter:function(t,e){CONSOLE_LOG_OPEN&&console.log("on collision enter"),t.node.tag===e.node.tag?(this.node.isCollisioned=!0,this.node.iswrong=!1,this.othercollider=t):(this.node.isCollisioned=!1,this.node.iswrong=!0)},onCollisionExit:function(t,e){CONSOLE_LOG_OPEN&&console.log("on collision exit"),this.node.isCollisioned=!1,this.node.iswrong=!1},removeThingByContainerTag:function(t){var e=this.gameJS.beltContainer.getChildByName("beltLeft"),i=this.gameJS.beltContainer.getChildByName("beltRight"),n=e.getChildByTag(t).getChildByName("thing"),o=i.getChildByTag(t).getChildByName("thing");n&&n.removeFromParent(),o&&o.removeFromParent()},thingTouchStart:function(t){function e(){if(this.gameJS.BasicAni(),this.moveAble=this.getMoveAble(this.node.__optionID),this.moveAble){this.node.stopAllActions(),AUDIO_OPEN&&this.gameJS.playOptionAudio();var t=this.node.convertToWorldSpaceAR(cc.p(0,0));t=this.gameJS.beltNode.convertToNodeSpaceAR(t),this.node.parent=this.gameJS.beltNode,this.node.x=t.x,this.node.y=t.y,this.node.parent.zIndex=1}}this.gameJS.tipsNode&&this.node.parent===this.gameJS.tipsSource&&0===this.gameJS.nowQuestionID?(this.gameJS.tipsHand.opacity=0,this.gameJS.tipsHand.pauseAllActions(),this.node.opacity=255,e.call(this)):this.gameJS.tipsNode&&0===this.gameJS.nowQuestionID||e.call(this)},moveThingTouchMove:function(t){if(this.moveAble){var e=t.touch.getDelta();this.node.x+=e.x,this.node.y+=e.y;var i=t.getTouches(),n=this.gameJS.scaleNode.parent,o=n.convertTouchToNodeSpaceAR(i[0]);Math.abs(o.x)<n.width/2-50&&Math.abs(o.y)<n.height/2-20||(CONSOLE_LOG_OPEN&&cc.log("出屏了"),this.resetPosition())}},moveThingTouchEnd:function(t){if(this.moveAble){var e=this.check();this.updateState(!1),e?(AUDIO_OPEN&&this.gameJS.playWinAudio(),this.optionClick()):!e&&this.node.iswrong?(AUDIO_OPEN&&this.gameJS.playLoseAudio(),this.resetPosition(),this.gameJS.runAnimation.call(this.gameJS,"error")):this.resetPosition()}},check:function(){return CONSOLE_LOG_OPEN&&cc.log("this.node.isCollisioned="+this.node.isCollisioned),this.node.isCollisioned},optionClick:function(){var e=this,i=this;this.rightAnimation(this.othercollider,i,function(){if(e.gameJS.tipsNode&&0===e.gameJS.nowQuestionID&&e.gameJS.stopTipsAnimation.call(e.gameJS),e.updateState(!0),i.node.removeFromParent(),e.removeThingByContainerTag(e.node.originParent.tag),e.gameJS.runAnimation.call(e.gameJS,"right",1400),!e.hasSameTypeThing(i.node.tag)){AUDIO_OPEN&&e.gameJS.playCarMoveAudio(),e.othercollider.node.parent.getComponent("sp.Skeleton").setAnimation(0,"settle_accounts",!1),e.othercollider.node.tag=-1,e.othercollider.node.active=!1;var t=e.gameJS.progress.getComponent("ProgressJs");i.isWin()&&(console.log("第"+(e.gameJS.nowQuestionID+1)+"题答对了"),AUDIO_OPEN&&i.gameJS.playFlyStarAudio(),t.playFlayStar(e.othercollider.node.getPosition(),i.gameJS.nowQuestionID,1),setTimeout(function(){i.gameJS.selectAnswer(!0)},6e3))}e.moveAble=!1,e.gameJS.currTouchOption=null})},moveThingTouchCanCel:function(t){this.moveAble&&this.resetPosition()},getMoveAble:function(t){return(!this.gameJS.currTouchOption||t===this.gameJS.currTouchOption)&&(this.gameJS.currTouchOption=t,!0)},resetPosition:function(){var t=this;this.moveAble=!1,cc.log(this.node.__optionID+"reset");var e=this.node.convertToWorldSpaceAR(cc.v2(0,0));e=this.node.originParent.convertToNodeSpaceAR(e),this.node.parent=this.node.originParent,this.node.setPosition(e);var i=cc.moveTo(this.calculateAnimTime(),cc.p(this.startx,this.starty)),n=cc.moveBy(.4,0,-46),o=cc.moveBy(.5,0,46);this.node.stopAllActions(),this.node.runAction(cc.sequence(i,cc.callFunc(function(){t.gameJS.beltNode.zIndex=0,t.node.parent.getChildByName("leaf").getComponent("sp.Skeleton").setAnimation(0,"error",!1)},this),n,o,cc.callFunc(function(){t.gameJS.currTouchOption=null,t.node.setPosition(t.startx,t.starty),t.updateState(!0),t.gameJS.tipsNode&&t.node.parent===t.gameJS.tipsSource&&(t.gameJS.tipsHandAnimation.call(t.gameJS,1),t.gameJS.tipsHand.resumeAllActions())})),this)},hasSameTypeThing:function(t){for(var e=this.gameJS.beltContainer.children[0].children,i=null,n=0;n<e.length;n++)if((i=e[n].getChildByName("thing"))&&i.tag===t)return!0;return!1},isWin:function(){var t=this.gameJS.monkey,e=this.gameJS.giraffe,i=this.gameJS.frog;return-1===t.getChildByName("collisionNode").tag&&-1===e.getChildByName("collisionNode").tag&&-1===i.getChildByName("collisionNode").tag},calculateAnimTime:function(){var t=cc.pDistance(this.node.position,cc.p(this.node.originParent.x,this.node.originParent.y))/1e3;return.4*(t=1<t?1:t)},updateState:function(t){t?(this.gameJS.beltContainer.resumeSystemEvents(!0),this.gameJS.beltNode.resumeSystemEvents(!0)):(this.gameJS.beltContainer.pauseSystemEvents(!0),this.gameJS.beltNode.pauseSystemEvents(!0))},rightAnimation:function(t,e,i){var n=t.node.convertToWorldSpaceAR(cc.v2(0,0));n=this.gameJS.scaleNode.convertToNodeSpaceAR(n);var o=this.node.convertToWorldSpaceAR(cc.v2(0,0));o=this.gameJS.scaleNode.convertToNodeSpaceAR(o);var s=n.x-o.x,a=n.y-o.y,c=cc.moveBy(.3,s,a+300,600,1),h=cc.moveBy(.3,0,-300,400,1);e.node.runAction(cc.sequence(c,cc.callFunc(function(){e.node.parent.zIndex=-1}),h,cc.callFunc(function(){e.node.parent.zIndex=0,"function"==typeof i&&i()})),this)}}),cc._RF.pop()},{}],TitleJS:[function(t,e,i){"use strict";cc._RF.push(e,"5b283IiR/BBgLkN+zazJigp","TitleJS"),cc.Class({extends:cc.Component,properties:{label:cc.Label},init:function(t){this.label.string=t}}),cc._RF.pop()},{}],config:[function(t,e,i){"use strict";cc._RF.push(e,"cf7e7Hjl8pBApNKVzaPXR0c","config"),window.CONSOLE_LOG_OPEN=!1,window.AUDIO_OPEN=!0,window.REQUEST_URL=!1,cc._RF.pop()},{}],efailed:[function(t,e,i){"use strict";cc._RF.push(e,"9b649czY5lPE5+Bb2VZOMm4","efailed"),cc.Class({extends:cc.Component,properties:{label:cc.Label},onLoad:function(){},showHint:function(){this.node.stopAllActions(),this.node.opacity=255,this.label.string="当前分类已经有了哦！";var t=cc.callFunc(function(t){this.node.opacity=0},this);this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeTo(.5,0),t))},showLimitHint:function(t){this.node.stopAllActions(),this.node.opacity=255,this.label.string="啊哦！本题最多只能选择"+t+"个瓶子哦！";var e=cc.callFunc(function(t){this.node.opacity=0},this);this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeTo(.5,0),e))},start:function(){}}),cc._RF.pop()},{}],numSpineJs:[function(t,e,i){"use strict";cc._RF.push(e,"afcf96cYgpP45hqtNCxA5Jy","numSpineJs");var s=["stand","grasp","happy","happy_coterie","sad","jump","original_number"];cc.Class({extends:cc.Component,properties:{spine0:cc.Prefab,spine1:cc.Prefab,spine2:cc.Prefab,spine3:cc.Prefab,spine4:cc.Prefab,spine5:cc.Prefab,spine6:cc.Prefab,spine7:cc.Prefab,spine8:cc.Prefab,spine9:cc.Prefab},onLoad:function(){this.stand=null,this.number=null},init:function(t){if(t=t.toString(),"string"==typeof(this.number=t))for(var e=0;e<t.length;e++){var i=t.charAt(e),n=cc.instantiate(this["spine"+i]);this.node.addChild(n),n.position=cc.p(-t.length/2*160+160*e+5+75,0),this["spine"+i+e]=n.getComponent("sp.Skeleton"),this["spineEyel"+i+e]=this["spine"+i+e].findBone("eye_l"),this["spineEyer"+i+e]=this["spine"+i+e].findBone("eye_r"),this["_Eyelx"+i+e]=this["spineEyel"+i+e].x,this["_Eyely"+i+e]=this["spineEyer"+i+e].y}this.setStand(0)},setStand:function(t){var e=null;if("string"==typeof t){for(var i=0;i<s.length;i++)if(s[i]==t){e=t;break}}else{if("number"!=typeof t)return;e=s[t]}if(e&&e!=this.stand){this.stand=e;for(var n=0;n<this.number.length;n++){var o=this.number.charAt(n);this["spineEyel"+o+n].x=this["_Eyelx"+o+n],this["spineEyel"+o+n].y=this["_Eyely"+o+n],this["spineEyer"+o+n].x=this["_Eyelx"+o+n],this["spineEyer"+o+n].y=this["_Eyely"+o+n],this["spine"+o+n].setAnimation(0,e,!0)}}},showYinying:function(i){this.node.children.forEach(function(t,e){t.getChildByName("yinying")&&(t.getChildByName("yinying").active=i)},this)},getStand:function(){return this.stand||""},getNumber:function(){return this.number||""},getEyseParent:function(){return this.node.convertToWorldSpaceAR(cc.p(0,0))},getEyseRotatePos:function(t,e){var i=cc.p(t.x-e.x,t.y-e.y),n=cc.pNormalize(i),o=cc.pDistance(e,cc.p(t.x,t.y)),s=Math.min(o/70*2,10);return cc.pAdd(cc.p(0,0),cc.pMult(n,s))},setEysePos:function(t){if("stand"===this.stand)for(var e=this.getEyseRotatePos(t,this.getEyseParent()),i=0;i<this.number.length;i++){var n=this.number.charAt(i);this["spineEyel"+n+i]&&this["spineEyer"+n+i]&&(this["spineEyel"+n+i].x=-e.y+this["_Eyelx"+n+i],this["spineEyel"+n+i].y=e.x+this["_Eyely"+n+i],this["spineEyer"+n+i].x=-e.y+this["_Eyelx"+n+i],this["spineEyer"+n+i].y=e.x+this["_Eyely"+n+i])}},resetEyePos:function(){for(var t=0;t<this.number.length;t++){var e=this.number.charAt(t);this["spineEyel"+e+t]&&this["spineEyer"+e+t]&&(this["spineEyel"+e+t].x=this["_Eyelx"+e+t],this["spineEyel"+e+t].y=this["_Eyely"+e+t],this["spineEyer"+e+t].x=this["_Eyelx"+e+t],this["spineEyer"+e+t].y=this["_Eyely"+e+t])}}}),cc._RF.pop()},{}],question_panel:[function(t,e,i){"use strict";cc._RF.push(e,"518c6EygmVF7aZ+N0GUpC9+","question_panel");var a=[];cc.Class({extends:cc.Component,properties:{oItemPrefab:cc.Prefab},onLoad:function(){this.oItemPool=new cc.NodePool},isEmpty:function(){return 0==a.length},copyAry:function(){var t=a.slice(0,a.length);return CONSOLE_LOG_OPEN&&console.log("questionAry.slice"+t+"  "+a),t},createOptions:function(){for(var t,e=0;e<a.length;e++){e==this.questionAry.length-1?(t=0<this.oItemPool.size()?this.oItemPool.get():cc.instantiate(this.oItemPrefab)).parent=this.node:t=this.node.children[e];var i=t.width,n=this.node.height,o=(e%3-1)*(i+15),s=e<3?n/3+10:e<6?30:-n/3+55;t.setPosition(cc.p(o,s))}},addOption:function(t){var e,i=this;e=t.slice(0,t.length),a.push(e.sort(_sortNumber)),i.createOptions(t),i.updateSum()},removeAllOption:function(){for(var t=0;t<this.node.children.length;t++){this.node.children[t].removeAllChildren(!0)}this.node.removeAllChildren(!0),a.splice(0,a.length),a=[],this.updateSum()},updateSum:function(){}}),cc._RF.pop()},{}],scalebg:[function(t,e,i){"use strict";cc._RF.push(e,"3093551zVpLp4AjCVzrt6iQ","scalebg"),cc.Class({extends:cc.Component,properties:{designSize:cc.Size,bg:cc.Node,lbg:cc.Node,rbg:cc.Node},onLoad:function(){var t=Math.max(cc.winSize.width/this.designSize.width,cc.winSize.height/this.designSize.height);this.node.setScale(t,1)}}),cc._RF.pop()},{}],scale:[function(t,e,i){"use strict";cc._RF.push(e,"521434wupJHAqZevOCVOyWl","scale"),cc.Class({extends:cc.Component,properties:{designSize:cc.Size},onLoad:function(){var t=Math.min(cc.winSize.width/this.designSize.width,cc.winSize.height/this.designSize.height);this.node.setScale(t,t)}}),cc._RF.pop()},{}],settlement:[function(t,e,i){"use strict";cc._RF.push(e,"0201eLFHyREVrR07BxW/6dN","settlement");cc.Class({extends:cc.Component,properties:{failSpine:cc.Node,twoStarSpine:cc.Node,successSpine:cc.Node,timeOutSpine:cc.Node},onLoad:function(){this.background=this.node.getChildByName("background"),this.scale=this.node.getChildByName("scale")},playWinAnim:function(t){this.node.active=!0,this.background.active=!0,this.successSpine.active=!0;var e=this.successSpine.getChildByName("R2"),i=this.successSpine.getChildByName("R1"),n=this.successSpine.getChildByName("L2"),o=this.successSpine.getChildByName("L1"),s=this.successSpine.getChildByName("three_star_"),a=this.successSpine.getChildByName("three_star");e.getComponent("sp.Skeleton").setAnimation(0,"in",!1),i.getComponent("sp.Skeleton").setAnimation(0,"in",!1),n.getComponent("sp.Skeleton").setAnimation(0,"in",!1),o.getComponent("sp.Skeleton").setAnimation(0,"in",!1),s.getComponent("sp.Skeleton").setAnimation(0,"in",!1),this.scheduleOnce(function(){a.getComponent(cc.Animation).on("stop",function(){},this)},.33);var c=this;this.scheduleOnce(function(){e.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),i.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),n.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),o.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),s.getComponent("sp.Skeleton").setAnimation(0,"stand",!0)},1.5),this.scheduleOnce(function(){a.getChildByName("green").getComponent(cc.ParticleSystem).stopSystem(),a.getChildByName("orange").getComponent(cc.ParticleSystem).stopSystem(),a.getChildByName("pink").getComponent(cc.ParticleSystem).stopSystem(),a.getChildByName("red").getComponent(cc.ParticleSystem).stopSystem()},2.5),this.scheduleOnce(function(){t&&t.call(c.game)},2.5)},playTwoStarAnim:function(t){this.node.active=!0,this.background.active=!0,this.twoStarSpine.active=!0;var e=this.twoStarSpine.getChildByName("R2"),i=this.twoStarSpine.getChildByName("L2"),n=this.twoStarSpine.getChildByName("two_star"),o=this.twoStarSpine.getChildByName("two_star1");e.getComponent("sp.Skeleton").setAnimation(0,"in",!1),i.getComponent("sp.Skeleton").setAnimation(0,"in",!1),n.getComponent("sp.Skeleton").setAnimation(0,"in",!1),this.scheduleOnce(function(){e.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),i.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),n.getComponent("sp.Skeleton").setAnimation(0,"stand",!0)},1.5),this.scheduleOnce(function(){o.getChildByName("green").getComponent(cc.ParticleSystem).stopSystem(),o.getChildByName("orange").getComponent(cc.ParticleSystem).stopSystem(),o.getChildByName("pink").getComponent(cc.ParticleSystem).stopSystem(),o.getChildByName("red").getComponent(cc.ParticleSystem).stopSystem()},2.5);var s=this;this.scheduleOnce(function(){t&&t.call(s.game)},2.5)},playLoseAnim:function(t){this.node.active=!0,this.background.active=!0,this.failSpine.active=!0;var e=this.failSpine.getChildByName("star"),i=this.failSpine.getChildByName("R2"),n=this.failSpine.getChildByName("one_star");e.getComponent("sp.Skeleton").setAnimation(0,"in",!1),i.getComponent("sp.Skeleton").setAnimation(0,"in",!1),n.getComponent("sp.Skeleton").setAnimation(0,"in",!1);var o=this;this.scheduleOnce(function(){e.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),i.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),n.getComponent("sp.Skeleton").setAnimation(0,"stand",!0)},1.5),this.scheduleOnce(function(){t&&t.call(o.game)},2.5)},playTimeUpAnim:function(t){this.node.active=!0,this.background.active=!0,this.timeOutSpine.active=!0,this.timeOutSpine.getComponent("sp.Skeleton").setAnimation(0,"time_over",!1);var e=this;this.scheduleOnce(function(){t&&t.call(e.game)},1)},reset:function(){this.background.active=!1,this.failSpine.active=!1,this.twoStarSpine.active=!1,this.successSpine.active=!1,this.timeOutSpine.active=!1,this.node.active=!1},log:function(t){CONSOLE_LOG_OPEN&&cc.log(t)}}),cc._RF.pop()},{}]},{},["BaseGameJS","LocalSaveJS","NetworkJS","ColliderListener","OptionJS","OptionJS1","QuestionNumJS","QuestionNumListJS","TitleJS","efailed","question_panel","numSpineJs","settlement","GameJS","NetworkJS_Data","ProgressJs","Thing","config","scale","scalebg"]);
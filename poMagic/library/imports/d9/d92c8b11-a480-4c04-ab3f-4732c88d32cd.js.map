{"version":3,"sources":["../../../../assets/scripts/assets/scripts/GameJS.js"],"names":["BaseGameJS","require","cc","Class","extends","properties","optionItem_pref","Prefab","particle_pref","settlePrefab","resetBtnNSF","SpriteFrame","commitBtnNSF","winAudio","AudioClip","loseAudio","optionAudio","option_wrongAudio","option_correctAudio","timuAudio","zhuazhiAudio","paopaoAudio","onLoadChild","_super","scaleNode","node","getChildByName","option_node","tipsNode","active","answerItemPool","NodePool","prompt_nodeJS","getComponent","clampNode","hand","changeMoveTag","initToast","init","efailed","efailedJs","game","tipsClick","removeFromParent","destroy","isIts","showSchedule","isTotalCd","questionArr","interactiveJson","totalcd","lastAnswerTime","answerTime","initFeedback","settlement","instantiate","settlementJs","feedbackNode","addChild","gotoBackground","array","children","i","length","tempOption","graph_btn","optionJS","canMove","stopAllActions","opacity","submitButton","resetButton","setScale","_pressed","_hovered","normalSprite","hoverSprite","timeout","AUDIO_OPEN","playLoseAudio","playTimeUpAnim","deleteOption","removeAllChildren","ary","tag","creatQuestion","contentAry","promptJS1","question_node","promptJS2","promptJS3","promptJS4","promptJS5","promptJS6","setTitle","nowQuestionID","questionNumListJS","changeOptionEnable","updateGameState","PlayFuhaoAnim","playParticle","playPaopaoAudio","forEach","obj","idx","particle","setPosition","p","parent","ParticleSystem","autoRemoveOnFinish","scheduleOnce","createOption","optionsArr","optionItem","width","updateState","numSpineJs","log","optionContent","startloadOption","changeOptionDisable","question","qescont","questionBgNode","quescontimgAry","nownumber","rightOptionNo","rightArray","rightAry","countDown","parseInt","timeLabel","string","timeFormat","activeInHierarchy","stopHandAction","isShowFeed","yindaoNum","index","handNode","nodePosition","convertToWorldSpaceAR","newPosition","convertToNodeSpaceAR","handMove","optionShowAnim","selectAnswer","isRight","isShowLossTime","unschedule","timeCallback","CONSOLE_LOG_OPEN","console","createAnswerInfo","showFeedback","type","feedbackFinish","optionDismissAnim","durTime","self","action","sequence","moveTo","callFunc","x","runAction","gameOverSettlement","playWinAudio","playWinAnim","interactable","resumeSystemEvents","pauseSystemEvents","otherClicked","playCancelAudio","resetClicked","cb","reloadState","isShowAnim","confirmClicked","isEqual","indexOf","toString","state","checkIsEmpty","isEmpty","BasicAni","BasinCallbackFunc","basincb","playBasinAudio","basinCallback","schedule","gap","playAudio","playOption_wrongAudio","playOption_correctAudio","playOptionAudio","playZhuazhiAudio","playOptionOutAudio","optionNo","audioName","loader","loadRes","error","audio","audioEngine","play","load","cndybasinAudio","err","releaseAsset","playTimuAudio","setFinishCallback","stop","playBGMAudio","bgm_candyAudio","playClampSkeleton","numState","setAnimation","showPromptSuccessTitle","content","playPromptWrongAnim","prompt_node4","prompt_node6","prompt_node3","wrongNode","undefined","fadeTo","spawn","scaleTo","delayTime","repeatForever","animNode","stopFuhaoAnim","pauseAllActions","resumeAllActions","endPositon","y"],"mappings":";;;;;;AAAA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,UADJ;;AAGLK,gBAAY;AACRC,yBAAiBJ,GAAGK,MADZ,EACoB;AAC5BC,uBAAeN,GAAGK,MAFV;AAGRE,sBAAcP,GAAGK,MAHT;AAIRG,qBAAaR,GAAGS,WAJR;AAKRC,sBAAcV,GAAGS,WALT,EAKsB;;AAE9BE,kBAAUX,GAAGY,SAPL;AAQRC,mBAAWb,GAAGY,SARN,EAQgB;AACxBE,qBAAad,GAAGY,SATR;AAUR;AACAG,2BAAkBf,GAAGY,SAXb;AAYRI,6BAAoBhB,GAAGY,SAZf;AAaR;AACAK,mBAAUjB,GAAGY,SAdL;AAeRM,sBAAalB,GAAGY,SAfR,EAekB;AAC1BO,qBAAYnB,GAAGY,SAhBP,CAgBgB;AAhBhB,KAHP;;AAsBLQ,iBAAa,uBAAY;AACrB,aAAKC,MAAL;AACA,aAAKC,SAAL,GAAiB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,OAAzB,CAAjB;AACA,aAAKC,WAAL,GAAmB,KAAKH,SAAL,CAAeE,cAAf,CAA8B,aAA9B,CAAnB;AACA,aAAKE,QAAL,GAAgB,KAAKH,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAhB;AACA,aAAKE,QAAL,KAAkB,KAAKA,QAAL,CAAcC,MAAd,GAAuB,IAAzC;AACA,aAAKC,cAAL,GAAsB,IAAI5B,GAAG6B,QAAP,EAAtB;AACA,aAAKC,aAAL,GAAqB,KAAKR,SAAL,CAAeE,cAAf,CAA8B,aAA9B,EAA6CO,YAA7C,CAA0D,OAA1D,CAArB;AACA,aAAKC,SAAL,GAAiB,KAAKV,SAAL,CAAeE,cAAf,CAA8B,OAA9B,CAAjB;AACA,aAAKS,IAAL,GAAY,KAAKX,SAAL,CAAeE,cAAf,CAA8B,MAA9B,CAAZ;AACA,aAAKU,aAAL,CAAmB,CAAnB;AACA,aAAKC,SAAL;AACA,aAAKZ,IAAL,CAAUQ,YAAV,CAAuB,WAAvB,EAAoCK,IAApC,CAAyC,IAAzC;AACH,KAnCI;AAoCL;AACAD,eAAW,qBAAY;AACnB,YAAIE,UAAU,KAAKd,IAAL,CAAUC,cAAV,CAAyB,OAAzB,EAAkCA,cAAlC,CAAiD,SAAjD,CAAd;AACA,aAAKc,SAAL,GAAiBD,QAAQN,YAAR,CAAqB,SAArB,CAAjB;AACA,aAAKO,SAAL,CAAeC,IAAf,GAAsB,IAAtB;AAEH,KA1CI;;AA4CLC,eAAW,qBAAY;AACnB,aAAKd,QAAL,IAAgB,KAAKA,QAAL,CAAce,gBAAd,CAA+B,IAA/B,CAAhB;AACA,aAAKf,QAAL,IAAe,KAAKA,QAAL,CAAcgB,OAAd,EAAf;AACA,SAAC,KAAKC,KAAN,IAAe,KAAKC,YAAL,EAAf;AACA,YAAIC,YAAY,KAAKC,WAAL,CAAiB,CAAjB,EAAoBC,eAApB,CAAoCC,OAApD;AACAH,sBAAc,KAAKI,cAAL,GAAsB,KAAKC,UAAzC;AAEH,KAnDI;AAoDLC,kBAAc,wBAAY;AACtB,aAAKC,UAAL,GAAkBpD,GAAGqD,WAAH,CAAe,KAAK9C,YAApB,CAAlB;AACA,aAAK+C,YAAL,GAAoB,KAAKF,UAAL,CAAgBrB,YAAhB,CAA6B,YAA7B,CAApB;AACA,aAAKuB,YAAL,CAAkBf,IAAlB,GAAyB,IAAzB;AACA,YAAIgB,eAAe,KAAKhC,IAAL,CAAUC,cAAV,CAAyB,eAAzB,CAAnB;AACA+B,qBAAaC,QAAb,CAAsB,KAAKJ,UAA3B;AACA,aAAKA,UAAL,CAAgBzB,MAAhB,GAAyB,KAAzB;AACH,KA3DI;AA4DL;AACA8B,oBAAgB,0BAAY;AACxB,YAAIC,QAAQ,KAAKjC,WAAL,CAAiBkC,QAA7B;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,MAAMG,MAA1B,EAAkCD,GAAlC,EAAuC;AACnC,gBAAIE,aAAaJ,MAAME,CAAN,CAAjB;AACA,gBAAIG,YAAYD,WAAWtC,cAAX,CAA0B,WAA1B,CAAhB;AACA,gBAAIwC,WAAWD,UAAUhC,YAAV,CAAuB,UAAvB,CAAf;AACA,gBAAIiC,SAASC,OAAb,EAAsB;AAClBF,0BAAUG,cAAV;AACA;AACAH,0BAAUI,OAAV,GAAoB,GAApB;AACA;AACH;AACJ;AACD,YAAIC,eAAe,KAAK7C,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,QAAvD,CAAnB;AAAA,YACI6C,cAAc,KAAK9C,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,QAAvD,CADlB;AAEA4C,qBAAaE,QAAb,CAAsB,CAAtB,EAAyB,CAAzB;AACAD,oBAAYC,QAAZ,CAAqB,CAArB,EAAwB,CAAxB;AACAF,qBAAaG,QAAb,GAAwB,KAAxB;AACAH,qBAAaI,QAAb,GAAwB,KAAxB;AACAH,oBAAYE,QAAZ,GAAuB,KAAvB;AACAF,oBAAYG,QAAZ,GAAuB,KAAvB;AACAJ,qBAAaK,YAAb,GAA4B,KAAK/D,YAAjC;AACA0D,qBAAaM,WAAb,GAA2B,KAAKhE,YAAhC;AACA2D,oBAAYI,YAAZ,GAA2B,KAAKjE,WAAhC;AACA6D,oBAAYK,WAAZ,GAA0B,KAAKlE,WAA/B;AAEH,KAvFI;;AAyFL;;AAEAmE,aAAS,mBAAY;AACjBC,sBAAc,KAAKC,aAAL,EAAd;AACA,aAAKvB,YAAL,CAAkBwB,cAAlB;AAEH,KA/FI;;AAiGL;AACAC,kBAAc,wBAAY;AACtB,YAAIrB,QAAQ,KAAKjC,WAAL,CAAiBkC,QAA7B;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,MAAMG,MAA1B,EAAkCD,GAAlC,EAAuC;AACnC,gBAAIE,aAAaJ,MAAME,CAAN,CAAjB;AACA;AACAE,uBAAWpB,OAAX;AACA;AACH;AACD,aAAKjB,WAAL,CAAiBuD,iBAAjB,CAAmC,IAAnC;AACA;AACA,YAAIC,MAAM,KAAK3D,SAAL,CAAeqC,QAAzB;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIqB,IAAIpB,MAAxB,EAAgCD,GAAhC,EAAqC;AACjC,gBAAIE,aAAamB,IAAIrB,CAAJ,CAAjB;AACA,gBAAIE,WAAWoB,GAAX,IAAkB,IAAlB,IAA0BpB,WAAWoB,GAAX,IAAkB,IAAhD,EAAsD;AAClDpB,2BAAWpB,OAAX;AACH;AACJ;AAEJ,KApHI;AAqHLyC,mBAAe,uBAAUC,UAAV,EAAsB;AACjC,aAAKC,SAAL,GAAiB,KAAKC,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,EAAkDO,YAAlD,CAA+D,OAA/D,CAAjB;AACA,aAAKwD,SAAL,GAAiB,KAAKD,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,EAAkDO,YAAlD,CAA+D,OAA/D,CAAjB;AACA,aAAKyD,SAAL,GAAiB,KAAKF,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,EAAkDO,YAAlD,CAA+D,OAA/D,CAAjB;AACA,aAAK0D,SAAL,GAAiB,KAAKH,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,EAAkDO,YAAlD,CAA+D,OAA/D,CAAjB;AACA,aAAK2D,SAAL,GAAiB,KAAKJ,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,EAAkDO,YAAlD,CAA+D,OAA/D,CAAjB;AACA,aAAK4D,SAAL,GAAiB,KAAKL,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,EAAkDO,YAAlD,CAA+D,OAA/D,CAAjB;AACA,aAAKsD,SAAL,CAAeO,QAAf,CAAwBR,WAAWvB,MAAX,GAAoB,CAApB,IAAyBuB,WAAW,CAAX,CAAjD,EAAgE,IAAhE;AACA,aAAKG,SAAL,CAAeK,QAAf,CAAwBR,WAAWvB,MAAX,GAAoB,CAApB,IAAyBuB,WAAW,CAAX,CAAjD,EAAgE,IAAhE;AACA,aAAKI,SAAL,CAAeI,QAAf,CAAwB,GAAxB,EAA6B,IAA7B;AACA,aAAKH,SAAL,CAAeG,QAAf,CAAwB,GAAxB,EAA6B,IAA7B;AACA,aAAKF,SAAL,CAAeE,QAAf,CAAwB,IAAxB,EAA8B,IAA9B;;AAEA,aAAKD,SAAL,CAAeC,QAAf,CAAwB,GAAxB,EAA6B,IAA7B;;AAEA,YAAI,KAAKC,aAAL,IAAsB,CAA1B,EAA6B;AACzB,iBAAKlD,KAAL,IAAc,KAAKmD,iBAAL,CAAuBC,kBAAvB,EAAd;AACA,iBAAKC,eAAL,CAAqB,IAArB;AACA,iBAAKC,aAAL,GAHyB,CAGH;AAEzB,SALD,MAKO;AACH,iBAAKC,YAAL;AACH;AACJ,KA5II;AA6ILA,kBAAc,wBAAY;AACtB,aAAKC,eAAL;AACA,aAAKb,aAAL,CAAmB3B,QAAnB,CAA4ByC,OAA5B,CAAoC,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACpD,gBAAIC,WAAWvG,GAAGqD,WAAH,CAAe,KAAK/C,aAApB,CAAf;AACAiG,qBAASC,WAAT,CAAqBxG,GAAGyG,CAAH,CAAK,CAAL,EAAQ,CAAR,CAArB;AACAF,qBAASG,MAAT,GAAkBL,GAAlB;AACA,gBAAIM,iBAAiBJ,SAASxE,YAAT,CAAsB/B,GAAG2G,cAAzB,CAArB;AACAA,2BAAeC,kBAAf,GAAoC,IAApC;AACH,SAND,EAMG,IANH;AAOA,aAAKC,YAAL,CAAkB,YAAY;AAC1B,iBAAKlE,KAAL,IAAc,KAAKmD,iBAAL,CAAuBC,kBAAvB,EAAd;AACA,iBAAKC,eAAL,CAAqB,IAArB;AACA,iBAAKC,aAAL,GAH0B,CAGJ;AAEzB,SALD,EAKG,GALH;AAMH,KA5JI;;AA+JL;AACAa,kBAAc,sBAAUC,UAAV,EAAsB;AAChC;AACA,aAAK,IAAInD,IAAI,CAAb,EAAgBA,IAAImD,WAAWlD,MAA/B,EAAuC,EAAED,CAAzC,EAA4C;AACxC,gBAAIoD,aAAa,IAAjB;;AAEA;AACA;AACA;AACAA,yBAAahH,GAAGqD,WAAH,CAAe,KAAKjD,eAApB,CAAb;AACA;AACA4G,uBAAWR,WAAX,CAAuBxG,GAAGyG,CAAH,CAAK,EAAEM,WAAWlD,MAAX,GAAoB,CAApB,GAAwB,GAAxB,GAA8BD,CAAhC,KAAsCoD,WAAWC,KAAX,GAAmB,EAAzD,CAAL,EAAmE,EAAnE,CAAvB;AACA,iBAAKxF,WAAL,CAAiB+B,QAAjB,CAA0BwD,UAA1B;AACA,gBAAIjD,YAAYiD,WAAWxF,cAAX,CAA0B,WAA1B,CAAhB;AACAuC,sBAAUmB,GAAV,GAAgB,OAAOtB,CAAvB;AACA,gBAAII,WAAWD,UAAUhC,YAAV,CAAuB,UAAvB,CAAf;AACAiC,qBAAS5B,IAAT,CAAc,IAAd,EAAoB2E,WAAWnD,CAAX,CAApB,EAAmCmD,WAAWlD,MAA9C;AACA,iBAAKlB,KAAL,IAAcqB,SAASkD,WAAT,CAAqB,KAArB,CAAd;AACA,gBAAIC,aAAapD,UAAUhC,YAAV,CAAuB,YAAvB,CAAjB;AACA/B,eAAGoH,GAAH,CAAO,kBAAgBL,WAAWnD,CAAX,EAAcyD,aAArC;AACAF,uBAAW/E,IAAX,CAAgB2E,WAAWnD,CAAX,EAAcyD,aAA9B;AACH;AACJ,KArLI;;AAuLL;AACAC,qBAAiB,2BAAY;AACzB,aAAKtB,eAAL,CAAqB,KAArB;AACA,aAAKrD,KAAL,IAAc,KAAKmD,iBAAL,CAAuByB,mBAAvB,EAAd;AACA,YAAIC,WAAW,KAAK1E,WAAL,CAAiB,KAAK+C,aAAtB,CAAf;AACA,aAAK/D,aAAL,CAAmB8D,QAAnB,CAA4B4B,SAASC,OAArC,EAA8C,IAA9C;AACA;AACA,aAAKC,cAAL,GAAsB,KAAKpG,SAAL,CAAeE,cAAf,CAA8B,YAA9B,CAAtB;AACA;AACA;AACA,YAAIgG,SAASG,cAAT,CAAwB,CAAxB,KAA8BH,SAASG,cAAT,CAAwB,CAAxB,EAA2B9D,MAA3B,GAAoC,CAAtE,EAAyE;AACrE,iBAAK6D,cAAL,CAAoBlG,cAApB,CAAmC,eAAnC,EAAoDG,MAApD,GAA6D,KAA7D;AACA,iBAAK+F,cAAL,CAAoBlG,cAApB,CAAmC,aAAnC,EAAkDG,MAAlD,GAA2D,IAA3D;AACH,SAHD,MAGO;AACH,iBAAK+F,cAAL,CAAoBlG,cAApB,CAAmC,aAAnC,EAAkDG,MAAlD,GAA2D,KAA3D;AACA,iBAAK+F,cAAL,CAAoBlG,cAApB,CAAmC,eAAnC,EAAoDG,MAApD,GAA6D,IAA7D;AACH;;AAED,aAAKiG,SAAL,GAAiB,CAAjB,CAjByB,CAiBL;AACpB;AACA,aAAKC,aAAL,GAAqBL,SAASK,aAA9B;AACA,aAAKC,UAAL,GAAkBN,SAASO,QAA3B;AACA,aAAKjB,YAAL,CAAkBU,SAAST,UAA3B;AACA,aAAK5B,aAAL,CAAmBqC,SAASpC,UAA5B;AACA;AACA,YAAIvC,YAAY,KAAKC,WAAL,CAAiB,CAAjB,EAAoBC,eAApB,CAAoCC,OAApD;AACA,YAAI,KAAK6C,aAAL,KAAuB,CAAvB,IAA4BhD,SAA5B,IAAyC,CAACA,SAA9C,EAAyD;AACrD,iBAAKK,UAAL,GAAkB,CAAlB;AACA,gBAAI8E,YAAYC,SAAST,SAASzE,eAAT,CAAyB,WAAzB,CAAT,CAAhB;AACA,gBAAIiF,YAAY,CAAhB,EAAmB;AACf,qBAAKA,SAAL,GAAiBA,SAAjB;AACH;;AAED,iBAAKE,SAAL,CAAeC,MAAf,GAAwB,KAAKC,UAAL,CAAgB,KAAKJ,SAArB,CAAxB;AACH;AACD;AACA,YAAG,KAAKnC,aAAL,GAAqB,CAAxB,EAA0B;AACtB,aAAC,KAAKlD,KAAN,IAAe,KAAKC,YAAL,EAAf;AACAC,0BAAc,KAAKI,cAAL,GAAsB,KAAKC,UAAzC;AACA,iBAAKjB,IAAL,CAAUoG,iBAAV,IAA+B,KAAKC,cAAL,CAAoB,IAApB,CAA/B;AAEH;AACD,aAAKC,UAAL,GAAkB,KAAlB;AACA,aAAKrG,aAAL,CAAmB,CAAnB;AACA;AACA,YAAI,KAAK2D,aAAL,KAAuB,CAA3B,EAA8B;AAC1B,gBAAI2C,YAAYhB,SAASO,QAAT,CAAkBlE,MAAlB,GAA2B,CAA3B,IAAgC2D,SAASO,QAAT,CAAkB,CAAlB,CAAhD;AACA,gBAAIU,QAAQ,CAAC,CAAb;AACAjB,qBAAST,UAAT,CAAoBX,OAApB,CAA4B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACtC,oBAAIkC,aAAanC,IAAIgB,aAArB,EAAoC;AAChCoB,4BAAQnC,GAAR;AACH;AACJ,aAJD,EAIG,IAJH;AAKA,gBAAIoC,WAAW,KAAKjH,WAAL,CAAiBkC,QAAjB,CAA0B8E,KAA1B,CAAf;AACA,gBAAIE,eAAeD,SAASE,qBAAT,CAA+B5I,GAAGyG,CAAH,CAAK,CAAL,EAAQ,CAAR,CAA/B,CAAnB;AACA,gBAAIoC,cAAc,KAAKvH,SAAL,CAAewH,oBAAf,CAAoCH,YAApC,CAAlB;AACA,iBAAKI,QAAL,CAAcF,WAAd;AACA,iBAAK3G,aAAL,CAAmB,OAAOuG,KAA1B;AACH;AACD,aAAK5B,YAAL,CAAkB,YAAY;AAC1B,aAAC,KAAKlE,KAAN,IAAe,KAAKqG,cAAL,EAAf;AACH,SAFD,EAEG,IAFH;AAGH,KArPI;;AAuPL;AACAC,kBAAc,sBAAUC,OAAV,EAAmB;AAC7B;AACA,YAAI,KAAKX,UAAL,IAAmB,KAAKY,cAA5B,EAA4C;AACxC;AACH;AACD,aAAKC,UAAL,CAAgB,KAAKC,YAArB;AACA,aAAKd,UAAL,GAAkB,IAAlB;AACA,aAAKvC,eAAL,CAAqB,KAArB;AACA,YAAIkD,OAAJ,EAAa;AACT,gBAAII,gBAAJ,EAAsBC,QAAQnC,GAAR,CAAY,KAAZ;AACtB,iBAAKoC,gBAAL,CAAsB,GAAtB;AACA,iBAAKC,YAAL,CAAkB,CAAlB;AACH,SAJD,MAIO;AACH,gBAAIH,gBAAJ,EAAsBC,QAAQnC,GAAR,CAAY,KAAZ;AACtB,iBAAKoC,gBAAL,CAAsB,GAAtB;AACA,iBAAKC,YAAL,CAAkB,CAAlB;AACH;AACJ,KAzQI;AA0QL;AACAA,kBAAc,sBAAUC,IAAV,EAAgB;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAK7C,YAAL,CAAkB,YAAY;AAC1B,iBAAK8C,cAAL;AACA,aAAC,KAAKhH,KAAN,IAAe,KAAKiH,iBAAL,EAAf;AACH,SAHD,EAGG,GAHH;AAIH,KA/RI;AAgSL;AACAA,uBAAmB,6BAAY;AAAA;;AAE3B,YAAIC,UAAU,IAAd;AAAA,YACIC,OAAO,IADX;AAEA,YAAIC,SAAS/J,GAAGgK,QAAH,CACThK,GAAGiK,MAAH,CAAUJ,OAAV,EAAmB,CAAC,IAApB,EAA0B,CAAC,GAA3B,CADS,EAET7J,GAAGkK,QAAH,CAAY,YAAM;AACd,kBAAKzI,WAAL,CAAiB+E,WAAjB,CAA6B,IAA7B,EAAmC,CAAC,GAApC;AACH,SAFD,CAFS,CAAb;AAMA;AACA,YAAG,KAAK/E,WAAL,CAAiB0I,CAAjB,KAAuB,CAA1B,EAA4B;AACxB,iBAAK1I,WAAL,CAAiByC,cAAjB;AACA,iBAAKzC,WAAL,CAAiB2I,SAAjB,CAA2BL,MAA3B;AACH;AACJ,KAhTI;AAiTLM,wBAAoB,8BAAW;AAC3B;AACAzF,sBAAc,KAAK0F,YAAL,EAAd;AACA,aAAKhH,YAAL,CAAkBiH,WAAlB;AACN,KArTO;;AAuTLvB,oBAAgB,0BAAY;AAAA;;AAExB,YAAIa,UAAU,IAAd;AAAA,YACIC,OAAO,IADX;AAEA,YAAIC,SAAS/J,GAAGgK,QAAH,CACThK,GAAGiK,MAAH,CAAUJ,OAAV,EAAmB,CAAnB,EAAsB,CAAC,GAAvB,CADS,EAET7J,GAAGkK,QAAH,CAAY,YAAM;AACd,mBAAKzI,WAAL,CAAiB+E,WAAjB,CAA6B,CAA7B,EAA+B,CAAC,GAAhC;AACH,SAFD,CAFS,CAAb;AAMA,YAAI,KAAK/E,WAAL,CAAiB0I,CAAjB,KAAuB,CAA3B,EAA8B;AAC1B,iBAAK1I,WAAL,CAAiByC,cAAjB;AACA,iBAAKzC,WAAL,CAAiB2I,SAAjB,CAA2BL,MAA3B;AACH,SAHD,MAGK;AACD,iBAAKtI,WAAL,CAAiB+E,WAAjB,CAA6B,CAA7B,EAAgC,CAAC,GAAjC;AACH;AACJ,KAvUI;;AAyULR,qBAAiB,yBAAUwE,YAAV,EAAwB;AACrC,YAAIA,YAAJ,EAAkB;AACd,iBAAKlF,aAAL,CAAmBmF,kBAAnB,CAAsC,IAAtC;AACA,iBAAKhJ,WAAL,CAAiBgJ,kBAAjB,CAAoC,IAApC;AACH,SAHD,MAGO;AACH,iBAAKnF,aAAL,CAAmBoF,iBAAnB,CAAqC,IAArC;AACA,iBAAKjJ,WAAL,CAAiBiJ,iBAAjB,CAAmC,IAAnC;AAEH;AACJ,KAlVI;;AAoVLC,kBAAc,wBAAY;AACtB,aAAKC,eAAL;AACA,YAAI,KAAKrC,UAAT,EAAqB;AACjB;AACH;AACJ,KAzVI;AA0VL;AACAsC,kBAAc,wBAAY;AAAA;;AACtB,YAAIC,KAAK,SAALA,EAAK,GAAM;AACX,gBAAIpH,QAAQ,OAAKjC,WAAL,CAAiBkC,QAA7B;AACAD,kBAAM0C,OAAN,CAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AACxB,oBAAItC,WAAWqC,IAAItE,YAAJ,CAAiB,UAAjB,CAAf;AACAiC,4BAAYA,SAAS+G,WAAT,EAAZ;AACH,aAHD;AAKH,SAPD;AAQA,aAAKH,eAAL;;AAEA,YAAI,KAAKrC,UAAL,IAAmB,KAAKyC,UAA5B,EAAwC;AACpC;AACH;;AAEDF;AACH,KA3WI;AA4WL;AACAG,oBAAgB,0BAAY;AAAA;;AAExB,YAAIH,KAAK,SAALA,EAAK,GAAM;AACX,gBAAIpH,QAAQ,OAAKjC,WAAL,CAAiBkC,QAA7B;AACA,gBAAIuH,UAAU,IAAd;AACAxH,kBAAM0C,OAAN,CAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AACxB,oBAAItC,WAAWqC,IAAItE,YAAJ,CAAiB,UAAjB,CAAf;AACA,oBAAI,OAAKgG,QAAL,CAAcoD,OAAd,CAAsB7E,IAAI8E,QAAJ,EAAtB,KAAyC,CAAC,CAA9C,EAAiD;AAC7C,wBAAIpH,YAAYA,SAASqH,KAAT,IAAkB,CAAlC,EAAqC;AACjCH,kCAAU,KAAV;AACH;AACJ,iBAJD,MAIO;AAAE;AACL,wBAAIlH,YAAYA,SAASqH,KAAT,IAAkB,CAAlC,EAAqC;AACjCH,kCAAU,KAAV;AACH;AACJ;AACJ,aAXD;;AAaA,mBAAKjC,YAAL,CAAkBiC,OAAlB;AACH,SAjBD;AAkBA,aAAKN,eAAL;AACA;AACA,YAAI,KAAKrC,UAAL,IAAmB,KAAK+C,YAAL,EAAvB,EAA4C;AACxC;AACH;;AAEDR;AACH,KAxYI;AAyYLQ,kBAAc,wBAAY;AACtB,YAAI5H,QAAQ,KAAKjC,WAAL,CAAiBkC,QAA7B;AACA,YAAI4H,UAAU,IAAd;AACA7H,cAAM0C,OAAN,CAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AACxB,gBAAItC,WAAWqC,IAAItE,YAAJ,CAAiB,UAAjB,CAAf;AACA;AACA,gBAAIiC,YAAYA,SAASqH,KAAT,GAAiB,CAAjC,EAAoC;AAChCE,0BAAU,KAAV;AACH;AACJ,SAND,EAMG,IANH;AAOA,eAAOA,OAAP;AACH,KApZI;AAqZL;AACAC,cAAU,oBAAY;AAClB;AACA,YAAIC,oBAAoB,SAApBA,iBAAoB,GAAY;AAChC,gBAAIC,UAAU,SAAVA,OAAU,GAAY;AACtB,oBAAI,KAAKnD,UAAT,EAAqB;AACjB;AACH;AACD,oBAAIe,gBAAJ,EAAsBC,QAAQnC,GAAR,CAAY,WAAZ;AACtB,qBAAKuE,cAAL;AACH,aAND;AAOA,mBAAOD,OAAP;AACH,SATD;;AAWA,aAAKtC,UAAL,CAAgB,KAAKwC,aAArB;AACA,aAAKA,aAAL,GAAqBH,mBAArB;AACA,YAAIjE,WAAW,KAAK1E,WAAL,CAAiB,KAAK+C,aAAtB,CAAf;AACA,aAAKgG,QAAL,CAAc,KAAKD,aAAnB,EAAkCpE,SAASsE,GAAT,GAAa7D,SAAST,SAASsE,GAAlB,CAAb,GAAoC,EAAtE,EAhBkB,CAgBwD;AAC7E,KAvaI;;AAyaLxB,kBAAc,wBAAY;AACtB,aAAKyB,SAAL,CAAe,KAAKpL,QAApB;AACH,KA3aI;;AA6aLkE,mBAAe,yBAAY;AACvB,aAAKkH,SAAL,CAAe,KAAKlL,SAApB;AACH,KA/aI;AAgbL+J,qBAAiB,2BAAY;AACzB;AACH,KAlbI;AAmbLoB,2BAAuB,iCAAY;AAC/B,aAAKD,SAAL,CAAe,KAAKhL,iBAApB;AACH,KArbI;AAsbLkL,6BAAyB,mCAAY;AACjC,aAAKF,SAAL,CAAe,KAAK/K,mBAApB;AACH,KAxbI;AAybLkL,qBAAiB,2BAAY;AACzB,aAAKH,SAAL,CAAe,KAAKjL,WAApB;AACH,KA3bI;AA4bLqL,sBAAkB,4BAAY;AAC1B,aAAKJ,SAAL,CAAe,KAAK7K,YAApB;AACH,KA9bI;AA+bLiF,qBAAiB,2BAAY;AACzB,aAAK4F,SAAL,CAAe,KAAK5K,WAApB;AACH,KAjcI;AAkcLiL,wBAAoB,4BAAUC,QAAV,EAAoB;AACpC,YAAIC,YAAY,SAASD,QAAzB;AACArM,WAAGuM,MAAH,CAAUC,OAAV,CAAkB,WAAWF,SAA7B,EAAwCtM,GAAGY,SAA3C,EAAsD,UAAU6L,KAAV,EAAiBC,KAAjB,EAAwB;AAC1E,gBAAI,CAACD,KAAL,EAAY;AACRzM,mBAAG2M,WAAH,CAAeC,IAAf,CAAoBF,KAApB,EAA2B,KAA3B,EAAkC,CAAlC;AACH;AACJ,SAJD;AAKH,KAzcI;AA0cLf,oBAAgB,0BAAY;AACxB;AACA,YAAInE,WAAW,KAAK1E,WAAL,CAAiB,KAAK+C,aAAtB,CAAf;;AAEA7F,WAAGuM,MAAH,CAAUM,IAAV,CAAerF,SAASsF,cAAxB,EAAwC,UAAUC,GAAV,EAAeL,KAAf,EAAsB;AAC1D,gBAAI,CAACK,GAAL,EAAU;AACN/M,mBAAG2M,WAAH,CAAeC,IAAf,CAAoBF,KAApB,EAA2B,KAA3B,EAAkC,CAAlC;AACA1M,mBAAGuM,MAAH,CAAUS,YAAV,CAAuBN,KAAvB;AACH;AACJ,SALD;AAMH,KApdI;AAqdLO,mBAAe,yBAAY;AACvB,YAAInD,OAAO,IAAX;AACA,YAAI4C,QAAQ1M,GAAG2M,WAAH,CAAeC,IAAf,CAAoB,KAAK3L,SAAzB,EAAoC,KAApC,EAA2C,CAA3C,CAAZ;AACAjB,WAAG2M,WAAH,CAAeO,iBAAf,CAAiCR,KAAjC,EAAwC,YAAY;AAChD1M,eAAG2M,WAAH,CAAeQ,IAAf,CAAoBT,KAApB;AACA5C,iBAAK6B,cAAL;AACH,SAHD;AAKH,KA7dI;AA8dLyB,kBAAc,wBAAY;AACtB,YAAItD,OAAO,IAAX;AACA,YAAItC,WAAW,KAAK1E,WAAL,CAAiB,KAAK+C,aAAtB,CAAf;;AAEA7F,WAAGuM,MAAH,CAAUM,IAAV,CAAerF,SAAS6F,cAAxB,EAAwC,UAAUN,GAAV,EAAeL,KAAf,EAAsB;AAC1D,gBAAI,CAACK,GAAL,EAAU;AACN/M,mBAAG2M,WAAH,CAAeC,IAAf,CAAoBF,KAApB,EAA2B,IAA3B,EAAiC,CAAjC;AACA1M,mBAAGuM,MAAH,CAAUS,YAAV,CAAuBN,KAAvB;AACH;AACJ,SALD;AAMH,KAxeI,EAweF;AACHX,eAAW,mBAAUW,KAAV,EAAiB;AACxB,YAAI9H,UAAJ,EAAgB;AACZ5E,eAAG2M,WAAH,CAAeC,IAAf,CAAoBF,KAApB,EAA2B,KAA3B,EAAkC,CAAlC;AACH;AACJ,KA7eI;AA8eLY,uBAAmB,2BAAUjC,KAAV,EAAiB;AAChC,YAAIkC,WAAWlC,SAAS,CAAT,GAAa,KAAb,GAAqB,SAApC;AACA,aAAKrJ,SAAL,CAAeD,YAAf,CAA4B,aAA5B,EACAyL,YADA,CACa,CADb,EACgBD,QADhB,EAC0B,KAD1B;AAGH,KAnfI;AAofL;AACAE,4BAAwB,gCAAUC,OAAV,EAAmB;AACvC,YAAI,KAAK9F,SAAL,IAAkB,CAAtB,EAAyB;AACrB,iBAAKnC,SAAL,CAAeG,QAAf,CAAwB8H,OAAxB,EAAiC,IAAjC;AACH,SAFD,MAEO,IAAI,KAAK9F,SAAL,IAAkB,CAAtB,EAAyB;AAC5B,iBAAKjC,SAAL,CAAeC,QAAf,CAAwB8H,OAAxB,EAAiC,IAAjC;AACH,SAFM,MAEA;AACH,iBAAKlI,SAAL,CAAeI,QAAf,CAAwB8H,OAAxB,EAAiC,IAAjC;AACH;AAEJ,KA9fI;AA+fL;AACAC,yBAAqB,+BAAY;AAC7B,YAAIC,eAAe,KAAKtI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIqM,eAAe,KAAKvI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIsM,eAAe,KAAKxI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIuM,YAAYC,SAAhB;AACA,YAAI,KAAKpG,SAAL,IAAkB,CAAtB,EAAyB;AACrBmG,wBAAYH,aAAapM,cAAb,CAA4B,OAA5B,CAAZ;AACH,SAFD,MAEO,IAAI,KAAKoG,SAAL,IAAkB,CAAtB,EAAyB;AAC5BmG,wBAAYF,aAAarM,cAAb,CAA4B,OAA5B,CAAZ;AAEH,SAHM,MAGA;AACHuM,wBAAYD,aAAatM,cAAb,CAA4B,OAA5B,CAAZ;AACH;AACD,YAAIqI,UAAU,IAAd;AAAA,YACIC,OAAO,IADX;AAEA,YAAIC,SAAS/J,GAAGgK,QAAH,CACThK,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,GAAnB,CADS,EAET7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,CAAnB,CAFS,EAGT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,GAAnB,CAHS,EAIT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,CAAnB,CAJS,EAKT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,GAAnB,CALS,EAMT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,CAAnB,CANS,EAOT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,GAAnB,CAPS,EAQT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,CAAnB,CARS,EAST7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,GAAnB,CATS,EAUT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,CAAnB,CAVS,EAWT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,GAAnB,CAXS,EAYT7J,GAAGiO,MAAH,CAAUpE,OAAV,EAAmB,CAAnB,CAZS,EAaT7J,GAAGkK,QAAH,CAAY,YAAM,CAAE,CAApB,CAbS,CAAb;AAeA6D,kBAAU3D,SAAV,CAAoBL,MAApB;AAEH,KAhiBI;AAiiBL;AACA9D,mBAAe,yBAAY;AACvB,YAAI4D,UAAU,IAAd;AAAA,YAAoB;AAChBC,eAAO,IADX;AAEA,YAAIC,SAAS/J,GAAGgK,QAAH,CACThK,GAAGkO,KAAH,CAASlO,GAAGmO,OAAH,CAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAT,EAAoCnO,GAAGiO,MAAH,CAAU,GAAV,EAAe,GAAf,CAApC,CADS,EAETjO,GAAGoO,SAAH,CAAa,GAAb,CAFS,EAGTpO,GAAGkO,KAAH,CAASlO,GAAGmO,OAAH,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAT,EAAgCnO,GAAGiO,MAAH,CAAU,GAAV,EAAe,CAAf,CAAhC;AACA;AACA;AACA;AANS,UAOXI,aAPW,EAAb,CAHuB,CAUL;AAClB,YAAIT,eAAe,KAAKtI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIqM,eAAe,KAAKvI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIsM,eAAe,KAAKxI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAI8M,WAAWN,SAAf;AACA,YAAI,KAAKpG,SAAL,IAAkB,CAAtB,EAAyB;AAAE;AACvB0G,uBAAWV,aAAapM,cAAb,CAA4B,OAA5B,CAAX;AACH,SAFD,MAEO,IAAI,KAAKoG,SAAL,IAAkB,CAAtB,EAAyB;AAC5B0G,uBAAWT,aAAarM,cAAb,CAA4B,OAA5B,CAAX;AAEH,SAHM,MAGA;AACH8M,uBAAWR,aAAatM,cAAb,CAA4B,OAA5B,CAAX;AACH;AACD8M,iBAASlE,SAAT,CAAmBL,MAAnB;AAEH,KA3jBI;AA4jBLwE,mBAAe,uBAAUlD,KAAV,EAAiB;AAC5B,YAAIuC,eAAe,KAAKtI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIqM,eAAe,KAAKvI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAIsM,eAAe,KAAKxI,aAAL,CAAmB9D,cAAnB,CAAkC,cAAlC,CAAnB;AACA,YAAI8M,WAAWN,SAAf;AACA,YAAI,KAAKpG,SAAL,IAAkB,CAAtB,EAAyB;AACrB0G,uBAAWV,aAAapM,cAAb,CAA4B,OAA5B,CAAX;AACH,SAFD,MAEO,IAAI,KAAKoG,SAAL,IAAkB,CAAtB,EAAyB;AAC5B0G,uBAAWT,aAAarM,cAAb,CAA4B,OAA5B,CAAX;AAEH,SAHM,MAGA;AACH8M,uBAAWR,aAAatM,cAAb,CAA4B,OAA5B,CAAX;AACH;AACD,YAAI6J,SAAS,MAAb,EAAqB;AACjBiD,qBAASpK,cAAT;AACH,SAFD,MAEO,IAAImH,SAAS,OAAb,EAAsB;AACzBiD,qBAASE,eAAT;AACAF,qBAASnK,OAAT,GAAmB,GAAnB;AACH,SAHM,MAGA;AACHmK,qBAASG,gBAAT;AACH;AACJ,KAjlBI;AAklBL;AACAnG,oBAAgB,wBAAU6E,IAAV,EAAgB;AAC5B,YAAIA,IAAJ,EAAU;AACN,iBAAKlL,IAAL,CAAUkC,OAAV,GAAoB,CAApB;AACA,aAAC,KAAKxB,KAAN,KAAgB,KAAKV,IAAL,CAAUN,MAAV,GAAmB,KAAnC;AACA,iBAAKM,IAAL,CAAUiC,cAAV;AACA,iBAAK1B,SAAL;AACH,SALD,MAKO;AACH,iBAAKP,IAAL,CAAUkC,OAAV,GAAoB,GAApB;AACA,iBAAKlC,IAAL,CAAUwM,gBAAV;AACH;AACJ,KA7lBI;AA8lBL;AACA1F,cAAU,kBAAU2F,UAAV,EAAsB;AAAA;;AAE5B,aAAKzM,IAAL,CAAUkC,OAAV,GAAoB,GAApB;AACA,aAAKlC,IAAL,CAAUuE,WAAV,CAAsBkI,WAAWvE,CAAX,GAAe,GAArC,EAA0CuE,WAAWC,CAAX,GAAe,GAAzD,EAH4B,CAGmC;;AAE/D,YAAI5E,SAAS/J,GAAGgK,QAAH,CACThK,GAAGiK,MAAH,CAAU,CAAV,EAAayE,WAAWvE,CAAX,GAAe,EAA5B,EAAgCuE,WAAWC,CAAX,GAAe,GAA/C,CADS,EAET3O,GAAGoO,SAAH,CAAa,GAAb,CAFS,EAGTpO,GAAGkK,QAAH,CAAY,YAAM;AACd,mBAAKjI,IAAL,CAAUuE,WAAV,CAAsBkI,WAAWvE,CAAX,GAAe,GAArC,EAA0CuE,WAAWC,CAAX,GAAe,GAAzD;AACH,SAFD,EAEG,IAFH,CAHS,EAMXN,aANW,EAAb;AAOA,aAAKpM,IAAL,CAAUmI,SAAV,CAAoBL,MAApB;AACH;;AA5mBI,CAAT","file":"GameJS.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["var BaseGameJS = require(\"BaseGameJS\");\n\ncc.Class({\n    extends: BaseGameJS,\n\n    properties: {\n        optionItem_pref: cc.Prefab, //选项预制\n        particle_pref: cc.Prefab,\n        settlePrefab: cc.Prefab,\n        resetBtnNSF: cc.SpriteFrame,\n        commitBtnNSF: cc.SpriteFrame, //备选\n\n        winAudio: cc.AudioClip,\n        loseAudio: cc.AudioClip,//超时\n        optionAudio: cc.AudioClip,\n        // bgmAudio: cc.AudioClip,\n        option_wrongAudio:cc.AudioClip,\n        option_correctAudio:cc.AudioClip,\n        // basinAudio:cc.AudioClip,//规则音\n        timuAudio:cc.AudioClip,\n        zhuazhiAudio:cc.AudioClip,//爪子\n        paopaoAudio:cc.AudioClip//泡泡\n    },\n\n    onLoadChild: function () {\n        this._super();\n        this.scaleNode = this.node.getChildByName('scale');\n        this.option_node = this.scaleNode.getChildByName('option_node');\n        this.tipsNode = this.node.getChildByName('TipsNode');\n        this.tipsNode && (this.tipsNode.active = true);\n        this.answerItemPool = new cc.NodePool();\n        this.prompt_nodeJS = this.scaleNode.getChildByName('prompt_node').getComponent('title');\n        this.clampNode = this.scaleNode.getChildByName('clamp');\n        this.hand = this.scaleNode.getChildByName('hand');\n        this.changeMoveTag(0);\n        this.initToast();\n        this.node.getComponent('OptionJS1').init(this);\n    },\n    //初始化toast框\n    initToast: function () {\n        var efailed = this.node.getChildByName('scale').getChildByName('efailed');\n        this.efailedJs = efailed.getComponent('efailed');\n        this.efailedJs.game = this;\n\n    },\n\n    tipsClick: function () {\n        this.tipsNode&& this.tipsNode.removeFromParent(true);\n        this.tipsNode&&this.tipsNode.destroy();\n        !this.isIts && this.showSchedule();\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        isTotalCd && (this.lastAnswerTime = this.answerTime);\n\n    },\n    initFeedback: function () {\n        this.settlement = cc.instantiate(this.settlePrefab);\n        this.settlementJs = this.settlement.getComponent('settlement');\n        this.settlementJs.game = this;\n        var feedbackNode = this.node.getChildByName('feedback_node');\n        feedbackNode.addChild(this.settlement);\n        this.settlement.active = false;\n    },\n    //转到后台\n    gotoBackground: function () {\n        var array = this.option_node.children;\n        for (var i = 0; i < array.length; i++) {\n            var tempOption = array[i];\n            var graph_btn = tempOption.getChildByName('button_bg');\n            var optionJS = graph_btn.getComponent('OptionJS');\n            if (optionJS.canMove) {\n                graph_btn.stopAllActions();\n                //optionJS.reloadState();\n                graph_btn.opacity = 255;\n                break;\n            }\n        }\n        let submitButton = this.node.getChildByName('button_node').getChildByName('commit'),\n            resetButton = this.node.getChildByName('button_node').getChildByName('cancel');\n        submitButton.setScale(1, 1);\n        resetButton.setScale(1, 1);\n        submitButton._pressed = false;\n        submitButton._hovered = false;\n        resetButton._pressed = false;\n        resetButton._hovered = false;\n        submitButton.normalSprite = this.commitBtnNSF;\n        submitButton.hoverSprite = this.commitBtnNSF;\n        resetButton.normalSprite = this.resetBtnNSF;\n        resetButton.hoverSprite = this.resetBtnNSF;\n\n    },\n\n    /*超时处理 \n     */\n    timeout: function () {\n        AUDIO_OPEN && this.playLoseAudio();\n        this.settlementJs.playTimeUpAnim();\n\n    },\n\n    //移除当前所有选项\n    deleteOption: function () {\n        var array = this.option_node.children;\n        for (var i = 0; i < array.length; i++) {\n            var tempOption = array[i];\n            //放进对象池会自动调用removeFromParent\n            tempOption.destroy();\n            // this.answerItemPool.put(tempOption);\n        }\n        this.option_node.removeAllChildren(true);\n        //移除question_node内容\n        var ary = this.scaleNode.children;\n        for (var i = 0; i < ary.length; i++) {\n            var tempOption = ary[i];\n            if (tempOption.tag >= 1000 && tempOption.tag <= 1010) {\n                tempOption.destroy();\n            }\n        }\n\n    },\n    creatQuestion: function (contentAry) {\n        this.promptJS1 = this.question_node.getChildByName('prompt_node1').getComponent('title');\n        this.promptJS2 = this.question_node.getChildByName('prompt_node2').getComponent('title');\n        this.promptJS3 = this.question_node.getChildByName('prompt_node3').getComponent('title');\n        this.promptJS4 = this.question_node.getChildByName('prompt_node4').getComponent('title');\n        this.promptJS5 = this.question_node.getChildByName('prompt_node5').getComponent('title');\n        this.promptJS6 = this.question_node.getChildByName('prompt_node6').getComponent('title');\n        this.promptJS1.setTitle(contentAry.length > 0 && contentAry[0], null)\n        this.promptJS2.setTitle(contentAry.length > 1 && contentAry[1], null)\n        this.promptJS3.setTitle('?', null)\n        this.promptJS4.setTitle('?', null)\n        this.promptJS5.setTitle('10', null)\n\n        this.promptJS6.setTitle('?', null)\n\n        if (this.nowQuestionID == 0) {\n            this.isIts && this.questionNumListJS.changeOptionEnable();\n            this.updateGameState(true);\n            this.PlayFuhaoAnim(); //烟雾消失播放?号闪动\n\n        } else {\n            this.playParticle();\n        }\n    },\n    playParticle: function () {\n        this.playPaopaoAudio();\n        this.question_node.children.forEach(function (obj, idx) {\n            let particle = cc.instantiate(this.particle_pref);\n            particle.setPosition(cc.p(0, 0));\n            particle.parent = obj;\n            let ParticleSystem = particle.getComponent(cc.ParticleSystem);\n            ParticleSystem.autoRemoveOnFinish = true;\n        }, this);\n        this.scheduleOnce(function () {\n            this.isIts && this.questionNumListJS.changeOptionEnable();\n            this.updateGameState(true);\n            this.PlayFuhaoAnim(); //烟雾消失播放?号闪动\n\n        }, 3.5);\n    },\n\n\n    //创建选项按钮\n    createOption: function (optionsArr) {\n        // let numAry = ['12','3','7','2'];\n        for (var i = 0; i < optionsArr.length; ++i) {\n            var optionItem = null;\n\n            // if (this.answerItemPool.size() > 0) {\n            //     optionItem = this.answerItemPool.get();\n            // } else {\n            optionItem = cc.instantiate(this.optionItem_pref);\n            //}\n            optionItem.setPosition(cc.p(-(optionsArr.length / 2 - 0.5 - i) * (optionItem.width + 55), 10));\n            this.option_node.addChild(optionItem);\n            var graph_btn = optionItem.getChildByName('button_bg');\n            graph_btn.tag = 1000 + i;\n            var optionJS = graph_btn.getComponent('OptionJS');\n            optionJS.init(this, optionsArr[i], optionsArr.length);\n            this.isIts && optionJS.updateState(false);\n            var numSpineJs = graph_btn.getComponent('numSpineJs');\n            cc.log('optionContent'+optionsArr[i].optionContent);            \n            numSpineJs.init(optionsArr[i].optionContent);\n        }\n    },\n\n    //开始加载选项\n    startloadOption: function () {\n        this.updateGameState(false);\n        this.isIts && this.questionNumListJS.changeOptionDisable();\n        var question = this.questionArr[this.nowQuestionID];\n        this.prompt_nodeJS.setTitle(question.qescont, null);\n        //启动业务初始化\n        this.questionBgNode = this.scaleNode.getChildByName('questionBg');\n        //this.questionBgNode.getChildByName('questionLabel').getComponent(cc.Label).string = question.qescont;\n        // this.questionBgNode.getChildByName('questionPic').getComponent(cc.Sprite).spriteFrame = this.getSpriteFrame(question.quescontimgAry[0]);\n        if (question.quescontimgAry[0] && question.quescontimgAry[0].length > 0) {\n            this.questionBgNode.getChildByName('questionLabel').active = false;\n            this.questionBgNode.getChildByName('questionPic').active = true;\n        } else {\n            this.questionBgNode.getChildByName('questionPic').active = false;\n            this.questionBgNode.getChildByName('questionLabel').active = true;\n        }\n\n        this.nownumber = 0; //当前碰撞第几个\n        //正确答案\n        this.rightOptionNo = question.rightOptionNo;\n        this.rightArray = question.rightAry;\n        this.createOption(question.optionsArr);\n        this.creatQuestion(question.contentAry);\n        //倒计时\n        let isTotalCd = this.questionArr[0].interactiveJson.totalcd;\n        if (this.nowQuestionID === 0 && isTotalCd || !isTotalCd) {\n            this.answerTime = 0;\n            let countDown = parseInt(question.interactiveJson['countDown']);\n            if (countDown > 0) {\n                this.countDown = countDown;\n            }\n\n            this.timeLabel.string = this.timeFormat(this.countDown);\n        }\n        // if (this.tipsNode && !this.tipsNode.activeInHierarchy) {\n        if(this.nowQuestionID > 0){\n            !this.isIts && this.showSchedule();\n            isTotalCd && (this.lastAnswerTime = this.answerTime);\n            this.hand.activeInHierarchy && this.stopHandAction(true);\n\n        }\n        this.isShowFeed = false;\n        this.changeMoveTag(0);\n        //出现走了选中isShowFeed=yes,reloadState还没走.\n        if (this.nowQuestionID === 0) {\n            let yindaoNum = question.rightAry.length > 0 && question.rightAry[0];\n            let index = -1;\n            question.optionsArr.forEach((obj, idx) => {\n                if (yindaoNum == obj.optionContent) {\n                    index = idx;\n                }\n            }, this);\n            let handNode = this.option_node.children[index];\n            let nodePosition = handNode.convertToWorldSpaceAR(cc.p(0, 0));\n            let newPosition = this.scaleNode.convertToNodeSpaceAR(nodePosition);\n            this.handMove(newPosition);\n            this.changeMoveTag(1000 + index);\n        }\n        this.scheduleOnce(function () {\n            !this.isIts && this.optionShowAnim();\n        }, 1.84);\n    },\n\n    //选中答案\n    selectAnswer: function (isRight) {\n        //显示状态过程中不接收事件\n        if (this.isShowFeed || this.isShowLossTime) {\n            return;\n        }\n        this.unschedule(this.timeCallback);\n        this.isShowFeed = true;\n        this.updateGameState(false);\n        if (isRight) {\n            if (CONSOLE_LOG_OPEN) console.log('答对了');\n            this.createAnswerInfo('1');\n            this.showFeedback(1);\n        } else {\n            if (CONSOLE_LOG_OPEN) console.log('答错了');\n            this.createAnswerInfo('2');\n            this.showFeedback(2);\n        }\n    },\n    //反馈\n    showFeedback: function (type) {\n        // if (type === 1) {\n        //     //出发\n        //     AUDIO_OPEN && this.playWinAudio();\n        //     this.settlementJs.playWinAnim(this.feedbackFinish);\n\n        // } else if (type === 2) {\n        //     //出发\n        //     AUDIO_OPEN && this.playLoseAudio();\n        //     this.settlementJs.playLoseAnim(this.feedbackFinish);\n        // } else if (type === 3) { //时间到逻辑\n\n        //     //出发\n        //     AUDIO_OPEN && this.playLoseAudio();\n        //     this.settlementJs.playTimeUpAnim(this.feedbackFinish);\n        // }\n        this.scheduleOnce(function () {\n            this.feedbackFinish();\n            !this.isIts && this.optionDismissAnim();\n        }, 0.1);\n    },\n    //选项动画\n    optionDismissAnim: function () {\n\n        let durTime = 1.14,\n            self = this;\n        var action = cc.sequence(\n            cc.moveTo(durTime, -2048, -553),\n            cc.callFunc(() => {\n                this.option_node.setPosition(2048, -553);\n            }),\n        );\n        // if (this.option_node.x > -1 && this.option_node.x < 1) {\n        if(this.option_node.x === 0){\n            this.option_node.stopAllActions();\n            this.option_node.runAction(action);\n        }\n    },\n    gameOverSettlement: function() {\n        //出发\n        AUDIO_OPEN && this.playWinAudio();\n        this.settlementJs.playWinAnim();\n },\n\n    optionShowAnim: function () {\n\n        let durTime = 1.64,\n            self = this;\n        var action = cc.sequence(\n            cc.moveTo(durTime, 0, -553),\n            cc.callFunc(() => {\n                this.option_node.setPosition(0,-553);\n            }),\n        );\n        if (this.option_node.x !== 0) {\n            this.option_node.stopAllActions();\n            this.option_node.runAction(action);\n        }else{\n            this.option_node.setPosition(0, -553);\n        }\n    },\n\n    updateGameState: function (interactable) {\n        if (interactable) {\n            this.question_node.resumeSystemEvents(true);\n            this.option_node.resumeSystemEvents(true);\n        } else {\n            this.question_node.pauseSystemEvents(true);\n            this.option_node.pauseSystemEvents(true);\n\n        }\n    },\n\n    otherClicked: function () {\n        this.playCancelAudio();\n        if (this.isShowFeed) {\n            return;\n        }\n    },\n    /* 再来一次 */\n    resetClicked: function () {\n        let cb = () => {\n            let array = this.option_node.children;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                optionJS && optionJS.reloadState();\n            }, this);\n\n        };\n        this.playCancelAudio();\n\n        if (this.isShowFeed || this.isShowAnim) {\n            return;\n        }\n\n        cb();\n    },\n    /* 确认 */\n    confirmClicked: function () {\n\n        let cb = () => {\n            let array = this.option_node.children;\n            let isEqual = true;\n            array.forEach((obj, idx) => {\n                let optionJS = obj.getComponent('OptionJS');\n                if (this.rightAry.indexOf(idx.toString()) != -1) {\n                    if (optionJS && optionJS.state != 2) {\n                        isEqual = false;\n                    }\n                } else { //错误区为正确时\n                    if (optionJS && optionJS.state == 2) {\n                        isEqual = false;\n                    }\n                }\n            }, this);\n\n            this.selectAnswer(isEqual);\n        };\n        this.playCancelAudio();\n        //this.isShowAnim\n        if (this.isShowFeed || this.checkIsEmpty()) {\n            return;\n        }\n\n        cb();\n    },\n    checkIsEmpty: function () {\n        let array = this.option_node.children;\n        let isEmpty = true;\n        array.forEach((obj, idx) => {\n            let optionJS = obj.getComponent('OptionJS');\n            //正确区不为正确时\n            if (optionJS && optionJS.state > 1) {\n                isEmpty = false;\n            }\n        }, this);\n        return isEmpty;\n    },\n    /* 晃动效果 */\n    BasicAni: function () {\n        //倒计时回调\n        let BasinCallbackFunc = function () {\n            var basincb = function () {\n                if (this.isShowFeed) {\n                    return;\n                }\n                if (CONSOLE_LOG_OPEN) console.log('gagagagga');\n                this.playBasinAudio();\n            }\n            return basincb;\n        }\n\n        this.unschedule(this.basinCallback);\n        this.basinCallback = BasinCallbackFunc();\n        var question = this.questionArr[this.nowQuestionID];\n        this.schedule(this.basinCallback, question.gap?parseInt(question.gap):40);//27\n    },\n    \n    playWinAudio: function () {\n        this.playAudio(this.winAudio);\n    },\n\n    playLoseAudio: function () {\n        this.playAudio(this.loseAudio);\n    },\n    playCancelAudio: function () {\n        //this.playAudio(this.resetAudio);\n    },\n    playOption_wrongAudio: function () {\n        this.playAudio(this.option_wrongAudio);\n    },\n    playOption_correctAudio: function () {\n        this.playAudio(this.option_correctAudio);\n    },\n    playOptionAudio: function () {\n        this.playAudio(this.optionAudio);\n    },\n    playZhuazhiAudio: function () {\n        this.playAudio(this.zhuazhiAudio);\n    },\n    playPaopaoAudio: function () {\n        this.playAudio(this.paopaoAudio);\n    },\n    playOptionOutAudio: function (optionNo) {\n        let audioName = 'vof_' + optionNo;\n        cc.loader.loadRes('audio/' + audioName, cc.AudioClip, function (error, audio) {\n            if (!error) {\n                cc.audioEngine.play(audio, false, 1);\n            }\n        });\n    },\n    playBasinAudio: function () {\n        //this.playAudio(this.basinAudio);\n        var question = this.questionArr[this.nowQuestionID];\n\n        cc.loader.load(question.cndybasinAudio, function (err, audio) {\n            if (!err) {\n                cc.audioEngine.play(audio, false, 1);\n                cc.loader.releaseAsset(audio);\n            }\n        });\n    },\n    playTimuAudio: function () {\n        var self = this;\n        let audio = cc.audioEngine.play(this.timuAudio, false, 1);\n        cc.audioEngine.setFinishCallback(audio, function () {\n            cc.audioEngine.stop(audio);\n            self.playBasinAudio();\n        })\n\n    },\n    playBGMAudio: function () {\n        var self = this;\n        var question = this.questionArr[this.nowQuestionID];\n\n        cc.loader.load(question.bgm_candyAudio, function (err, audio) {\n            if (!err) {\n                cc.audioEngine.play(audio, true, 1);\n                cc.loader.releaseAsset(audio);\n            }\n        });\n    }, //播放音效\n    playAudio: function (audio) {\n        if (AUDIO_OPEN) {\n            cc.audioEngine.play(audio, false, 1);\n        }\n    },\n    playClampSkeleton: function (state) {\n        let numState = state == 0 ? 'put' : 'scratch';\n        this.clampNode.getComponent('sp.Skeleton').\n        setAnimation(0, numState, false);\n\n    },\n    //成功隐藏问号\n    showPromptSuccessTitle: function (content) {\n        if (this.nownumber == 0) {\n            this.promptJS4.setTitle(content, null)\n        } else if (this.nownumber == 1) {\n            this.promptJS6.setTitle(content, null)\n        } else {\n            this.promptJS3.setTitle(content, null)\n        }\n\n    },\n    //红圈动画\n    playPromptWrongAnim: function () {\n        let prompt_node4 = this.question_node.getChildByName('prompt_node4');\n        let prompt_node6 = this.question_node.getChildByName('prompt_node6');\n        let prompt_node3 = this.question_node.getChildByName('prompt_node3');\n        let wrongNode = undefined;\n        if (this.nownumber == 0) {\n            wrongNode = prompt_node4.getChildByName('wrong');\n        } else if (this.nownumber == 1) {\n            wrongNode = prompt_node6.getChildByName('wrong');\n\n        } else {\n            wrongNode = prompt_node3.getChildByName('wrong');\n        }\n        let durTime = 0.17,\n            self = this;\n        var action = cc.sequence(\n            cc.fadeTo(durTime, 255),\n            cc.fadeTo(durTime, 0),\n            cc.fadeTo(durTime, 255),\n            cc.fadeTo(durTime, 0),\n            cc.fadeTo(durTime, 255),\n            cc.fadeTo(durTime, 0),\n            cc.fadeTo(durTime, 255),\n            cc.fadeTo(durTime, 0),\n            cc.fadeTo(durTime, 255),\n            cc.fadeTo(durTime, 0),\n            cc.fadeTo(durTime, 255),\n            cc.fadeTo(durTime, 0),\n            cc.callFunc(() => {}),\n        );\n        wrongNode.runAction(action);\n\n    },\n    //问号播放动效\n    PlayFuhaoAnim: function () {\n        let durTime = 0.25, //0.03\n            self = this;\n        var action = cc.sequence(\n            cc.spawn(cc.scaleTo(0.5, 1.1, 1.1), cc.fadeTo(0.5, 255)),\n            cc.delayTime(0.2),\n            cc.spawn(cc.scaleTo(0.5, 1, 1), cc.fadeTo(0.5, 0)),\n            //  cc.callFunc(() => {\n            //      loseGame();\n            //  }),\n        ).repeatForever();//463展示\n        let prompt_node4 = this.question_node.getChildByName('prompt_node4');\n        let prompt_node6 = this.question_node.getChildByName('prompt_node6');\n        let prompt_node3 = this.question_node.getChildByName('prompt_node3');\n        let animNode = undefined;\n        if (this.nownumber == 0) { //0,1,2\n            animNode = prompt_node4.getChildByName('label');\n        } else if (this.nownumber == 1) {\n            animNode = prompt_node6.getChildByName('label');\n\n        } else {\n            animNode = prompt_node3.getChildByName('label');\n        }\n        animNode.runAction(action);\n\n    },\n    stopFuhaoAnim: function (state) {\n        let prompt_node4 = this.question_node.getChildByName('prompt_node4');\n        let prompt_node6 = this.question_node.getChildByName('prompt_node6');\n        let prompt_node3 = this.question_node.getChildByName('prompt_node3');\n        let animNode = undefined;\n        if (this.nownumber == 0) {\n            animNode = prompt_node4.getChildByName('label');\n        } else if (this.nownumber == 1) {\n            animNode = prompt_node6.getChildByName('label');\n\n        } else {\n            animNode = prompt_node3.getChildByName('label');\n        }\n        if (state == 'stop') {\n            animNode.stopAllActions();\n        } else if (state == 'pause') {\n            animNode.pauseAllActions();\n            animNode.opacity = 255;\n        } else {\n            animNode.resumeAllActions();\n        }\n    },\n    ///引导相关\n    stopHandAction: function (stop) {\n        if (stop) {\n            this.hand.opacity = 0;\n            !this.isIts && (this.hand.active = false);\n            this.hand.stopAllActions();\n            this.tipsClick();\n        } else {\n            this.hand.opacity = 255;\n            this.hand.resumeAllActions();\n        }\n    },\n    //引导手动画\n    handMove: function (endPositon) {\n\n        this.hand.opacity = 255;\n        this.hand.setPosition(endPositon.x + 200, endPositon.y - 200); //右边\n\n        var action = cc.sequence(\n            cc.moveTo(1, endPositon.x + 50, endPositon.y - 100),\n            cc.delayTime(0.2),\n            cc.callFunc(() => {\n                this.hand.setPosition(endPositon.x + 200, endPositon.y - 200);\n            }, this),\n        ).repeatForever();\n        this.hand.runAction(action);\n    },\n\n\n\n});"]}
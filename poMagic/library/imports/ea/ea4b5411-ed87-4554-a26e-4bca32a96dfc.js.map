{"version":3,"sources":["../../../../../assets/components/Options/assets/components/Options/OptionJS.js"],"names":["scDuration","cc","Class","extends","Component","properties","parent_node","Node","canMove","exchangeParent","balloonNode","kuangNode","onLoad","node","on","EventType","TOUCH_START","touch_start","bind","TOUCH_END","touch_end","TOUCH_CANCEL","touch_cancel","audioPool","self","document","addEventListener","resetState","init","gameJS","option","optionLength","opacity","startx","x","starty","y","optionNo","optionContent","evt","parent","changeMoveTag","tag","playOptionAudio","BasicAni","dragX","dragY","pos","clampNode","zIndex","stopFuhaoAnim","hand","activeInHierarchy","stopHandAction","showAnim","isIts","questionNumListJS","changeOptionDisable","kuangAnim","option_node","reloadState","setPosition","calculateAnimTime","distance","pDistance","position","p","s","durTime","action","sequence","spawn","scaleTo","fadeTo","callFunc","clampAnim","runAction","obj","startPut","NodeTransfer","playClampSkeleton","startScatch","orignalPostion","getPosition","nodePosition","convertToWorldSpace","convertToNodeSpaceAR","posArray","rightArray","endPos","nownumber","posRight","tRight","Math","abs","posDown","tDown","posUp","tUp","posleft","tLeft","posTop","tTop","posOri","tOri","nodeUpAnim","getComponent","showYinying","moveTo","delayTime","showPromptSuccessTitle","setScale","playOptionOutAudio","playOption_correctAudio","matchRightAnim","playOption_wrongAudio","matchWrongAnim","playZhuazhiAudio","stopAllActions","convertToWorldSpaceAR","newPosition","playAnim","animNode","getChildByName","anim","Animation","destroy","play","cb","numSpineJs","setStand","playBallonSketon","scheduleOnce","changeOptionEnable","selectAnswer","PlayFuhaoAnim","playPromptWrongAnim","moveAction","jumpTo","state","active","balloonSpine","setAnimation","updateState","interactable","resumeSystemEvents","pauseSystemEvents"],"mappings":"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","file":"OptionJS.js","sourceRoot":"../../../../../assets/components/Options","sourcesContent":["var scDuration = 0.2;\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        parent_node: cc.Node,\n        canMove: false,\n        exchangeParent: true,\n        balloonNode:cc.Node,\n        kuangNode:cc.Node,\n    },\n    onLoad: function () {\n        this.node.on(cc.Node.EventType.TOUCH_START, this.touch_start.bind(this), this.node);\n        // this.node.on(cc.Node.EventType.TOUCH_MOVE, this.touch_move.bind(this), this.node);\n        this.node.on(cc.Node.EventType.TOUCH_END, this.touch_end.bind(this), this.node);\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touch_cancel.bind(this), this.node);\n        this.audioPool = [];\n        var self = this;\n        //等同于切后台监听\n        document.addEventListener('resignActivePauseGame', function () {\n            self.resetState();\n        });\n    },\n\n    init: function (gameJS, option, optionLength) {\n        this.node.opacity = 255;\n        this.startx = this.node.x;\n        this.starty = this.node.y;\n        this.gameJS = gameJS;\n        this.optionNo = option.optionContent; //选项（选项，选项答案）\n        // this.optionNo = option.optionNo;\n\n    },\n    touch_start: function (evt) {\n        if(this.node.parent != this.parent_node){\n            return;\n        }\n        this.canMove = this.gameJS.changeMoveTag(this.node.tag);\n        if (!this.canMove) {\n            return;\n        }\n        this.gameJS.playOptionAudio();\n        this.gameJS.BasicAni();//重新计时\n        this.dragX = this.node.x;\n        this.dragY = this.node.y;\n        this.pos = null;\n        this.gameJS.clampNode.zIndex = 1;\n        this.gameJS.stopFuhaoAnim('pause');\n        if(this.gameJS.hand.activeInHierarchy){\n            this.gameJS.stopHandAction(true);\n        }\n    },\n    touch_end: function (evt) {\n        if (!this.canMove) {\n            return;\n        }\n        if(this.node.parent != this.parent_node){\n            return;\n        }\n        if(this.showAnim)return;\n        this.showAnim = true;\n        this.gameJS.isIts && this.gameJS.questionNumListJS.changeOptionDisable();\n\n        this.kuangAnim();\n    },\n\n    touch_cancel: function (evt) {\n        if (!this.canMove) {\n            return;\n        }\n        if(this.node.parent != this.option_node){\n            return;\n        }\n    },\n    /* 切换后台恢复位置 */\n    resetState: function () {\n        // this.node.getComponent(cc.Button)._pressed = false;\n\n    },\n    //废弃\n    reloadState: function () {\n        this.canMove = false; //防止超屏多次触发\n        this.gameJS.changeMoveTag(0);\n        this.node.setPosition(this.startx, this.starty);\n\n    },\n    //计算复位动画执行时间\n    calculateAnimTime: function () {\n        var distance = cc.pDistance(this.node.position, cc.p(this.startx, this.starty));\n        var s = distance / 1000;\n        s = s > 1 ? 1 : s;\n        return s * 0.3;\n    },\n\n    kuangAnim: function() {\n        let durTime = 0.03,\n            self = this;\n     var action = cc.sequence(\n         cc.spawn(cc.scaleTo(0.5,1.1,1.1),cc.fadeTo(0.5,255)),\n         cc.spawn(cc.scaleTo(0.5,1.2,1.2),cc.fadeTo(0.5,8)),\n         cc.spawn(cc.scaleTo(durTime,1,1),cc.fadeTo(durTime,0)),\n        //  cc.callFunc(() => {\n        //      loseGame();\n        //  }),\n         cc.callFunc(this.clampAnim, this),\n     );\n     this.kuangNode.runAction(action);\n   \n    },\n    \n    clampAnim: function (obj) {\n        /*  */\n        let startPut = () => {\n            this.NodeTransfer();//提前改变父类\n            this.gameJS.playClampSkeleton(1);\n        };\n        let startScatch = () => {\n            this.gameJS.playClampSkeleton(0);\n        };\n     \n        \n        //clampNode 爪子anim\n        var orignalPostion = this.gameJS.clampNode.getPosition();\n        let nodePosition = this.node.parent.convertToWorldSpace(cc.p(0, 0));\n            nodePosition = this.gameJS.clampNode.parent.convertToNodeSpaceAR(nodePosition);\n            nodePosition = cc.p(nodePosition.x+223,nodePosition.y+763+220);\n        let posArray = [cc.p(-665,-139+763),cc.p(52,-40+763),cc.p(595,346+763)];\n        let rightArray = this.gameJS.rightArray;//['3','2','12'];\n        let endPos = posArray[this.gameJS.nownumber];\n        let posRight = cc.p(nodePosition.x,orignalPostion.y),\n            tRight    = Math.abs(nodePosition.x - orignalPostion.x)/900,\n\n            posDown  = cc.p(nodePosition.x,nodePosition.y),\n            tDown    = Math.abs(nodePosition.y - orignalPostion.y)/900,\n\n            posUp    = cc.p(nodePosition.x,endPos.y),\n            tUp    = Math.abs(nodePosition.y - orignalPostion.y)/900,\n\n            posleft   = cc.p(endPos.x,endPos.y),\n            tLeft    = Math.abs(endPos.x - nodePosition.x)/900,\n\n            posTop   = cc.p(endPos.x,orignalPostion.y),\n            tTop    = Math.abs(orignalPostion.y - endPos.y)/900,\n\n            posOri   = cc.p(orignalPostion.x,orignalPostion.y),\n            tOri    = Math.abs(orignalPostion.x - endPos.x)/900;\n\n            let nodeUpAnim = ()=>{\n                // this.NodeTransfer();\n                this.node.getComponent('numSpineJs').showYinying(false);//隐藏阴影\n\n                var action = cc.sequence(\n                //   cc.moveTo(tUp,cc.p(posUp.x,posUp.y-763-100)),//+50\n                //   cc.moveTo(tLeft,cc.p(posleft.x,posleft.y-763-120))\n                cc.moveTo(tUp,cc.p(posUp.x,posUp.y-763-100)),// 偏上\n                cc.moveTo(tLeft,cc.p(posleft.x,posleft.y-763-120))//120\n\n              );\n              this.node.runAction(action);\n            };\n         \n        //向右向下向上向左向上还原\n        var action = cc.sequence(\n            cc.moveTo(tRight,posRight),\n            cc.moveTo(tDown,posDown),\n            cc.callFunc(startPut),//伸抓\n            cc.delayTime(1.5),\n\n           cc.spawn(cc.moveTo(tUp,posUp),cc.callFunc(nodeUpAnim)),\n            cc.moveTo(tLeft,posleft),\n            cc.delayTime(0.3),\n            cc.callFunc(startScatch),//缩抓\n            cc.callFunc(()=>{\n                this.gameJS.showPromptSuccessTitle('');\n                if(this.gameJS.nownumber==0){\n                    this.node.setScale(0.8,0.8);\n                    this.node.setPosition(this.node.x,this.node.y+30);\n                    }else if(this.gameJS.nownumber==1){\n                        this.node.setScale(0.55,0.55);\n                        this.node.setPosition(this.node.x,this.node.y+50);\n                    }\n            }),\n            cc.delayTime(1.5),\n            cc.moveTo(tTop,posTop),\n            cc.moveTo(tOri,posOri),\n\n            cc.delayTime(0.3),//0/2 //0.13\n            cc.callFunc(() => {\n                this.gameJS.playOptionOutAudio(this.optionNo);\n                if(this.optionNo === rightArray[this.gameJS.nownumber]){\n                    this.gameJS.playOption_correctAudio();\n                    this.matchRightAnim();\n                }else{\n                    this.gameJS.playOption_wrongAudio();\n                    this.matchWrongAnim();\n                }\n            }),\n        );\n        this.gameJS.playZhuazhiAudio();\n        this.gameJS.clampNode.stopAllActions();\n        this.gameJS.clampNode.runAction(action);\n    },\n    //节点上移\n    NodeTransfer: function() {\n     \n         let nodePosition = this.node.convertToWorldSpaceAR(cc.p(0, 0));\n         let newPosition = this.gameJS.clampNode.parent.convertToNodeSpaceAR(nodePosition);\n         this.node.setPosition(newPosition);\n         this.node.parent = this.gameJS.clampNode.parent;\n         this.node.zIndex = 1;\n    },\n    playAnim: function(){\n       let animNode = this.node.getChildByName('anim');\n       let anim = animNode.getComponent(cc.Animation);\n       anim.on('stop', function(){\n           animNode.destroy();\n       }, this);\n       anim.play();\n    },\n    \n    //节点匹配成功动画\n    matchRightAnim: function() {\n      let cb = ()=>{\n         let numSpineJs =  this.node.getComponent('numSpineJs');\n         numSpineJs.setStand('happy_coterie');\n         this.playBallonSketon();\n         this.scheduleOnce(function(){\n            numSpineJs.setStand('original_number');\n            // if(this.gameJS.nownumber==0){\n            // this.node.setScale(0.8,0.8);\n            // this.node.setPosition(this.node.x,this.node.y+30);\n            // }else if(this.gameJS.nownumber==1){\n            //     this.node.setScale(0.55,0.55);\n            //     this.node.setPosition(this.node.x,this.node.y+50);\n            // }\n            this.gameJS.changeMoveTag(0);\n            this.gameJS.clampNode.zIndex = 1;\n            this.node.zIndex = 0;\n            this.showAnim = false;\n            this.gameJS.isIts && this.gameJS.questionNumListJS.changeOptionEnable();\n\n            this.gameJS.stopFuhaoAnim('stop');\n            this.gameJS.nownumber +=1;\n            if(this.gameJS.nownumber == 3){\n                this.gameJS.selectAnswer(true);\n            }else{\n                this.gameJS.PlayFuhaoAnim();\n            }\n         },2);\n      };\n      cb();\n    },\n    //节点匹配失败动画\n    matchWrongAnim: function () {\n        let numSpineJs = this.node.getComponent('numSpineJs');\n        this.gameJS.playPromptWrongAnim();\n        numSpineJs.setStand('sad');\n        this.scheduleOnce(function () {\n            this.node.setScale(1,1);\n\n            numSpineJs.setStand('stand');\n            this.gameJS.showPromptSuccessTitle('?');\n            let nodePosition = this.node.convertToWorldSpaceAR(cc.p(0, 0));\n            let newPosition = this.parent_node.convertToNodeSpaceAR(nodePosition);\n            this.node.setPosition(newPosition);\n            this.parent_node.parent.zIndex = 1;\n            this.node.parent = this.parent_node;\n\n            var moveAction =\n                cc.jumpTo(0.67, cc.p(this.startx, this.starty), 400, 1);\n            this.node.runAction(cc.sequence(moveAction, cc.callFunc(function () {\n                this.node.setPosition(this.startx, this.starty);\n                this.node.getComponent('numSpineJs').showYinying(true);\n                this.gameJS.stopFuhaoAnim('resume');\n                this.parent_node.parent.zIndex = 0;\n                this.gameJS.clampNode.zIndex = 1;\n                this.gameJS.changeMoveTag(0);\n                this.showAnim = false;\n                this.gameJS.isIts && this.gameJS.questionNumListJS.changeOptionEnable();\n            }, this)));\n        }, 2);\n\n    },\n     //撒花\n     playBallonSketon:function(state){\n        this.balloonNode.active = true;\n        var balloonSpine  = this.balloonNode.getComponent(\"sp.Skeleton\");\n        balloonSpine.setAnimation(0,'animation',false);\n    },\n    /*node禁止触摸事件 \n     */\n    updateState: function (interactable) {\n        if (interactable) {\n            this.gameJS.option_node.resumeSystemEvents(true);\n        } else {\n            this.gameJS.option_node.pauseSystemEvents(true);\n        }\n    },\n\n\n});"]}
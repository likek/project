require=function o(c,h,a){function u(i,t){if(!h[i]){if(!c[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(r)return r(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var n=h[i]={exports:{}};c[i][0].call(n.exports,function(t){return u(c[i][1][t]||t)},n,n.exports,o,c,h,a)}return h[i].exports}for(var r="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({BaseGameJS:[function(t,i,e){"use strict";cc._RF.push(i,"656dfuQUVNMmLty5BTERIKd","BaseGameJS"),cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,paopao_node:cc.Node,paopao_pref:cc.Prefab,feedback_node:cc.Node,feedback_pref:cc.Prefab,loseTime_node:cc.Node,loseTime:0,time_node:cc.Node,question_node:cc.Node,quertionList_node:cc.Node,title_node:cc.Node},onLoad:function(){var t=this;document.addEventListener("resignActivePauseGame",function(){t.gotoBackground(),cc.director.pause(),cc.game.pause(),console.log("app just resign active.")}),document.addEventListener("becomeActiveResumeGame",function(){cc.game.isPaused&&cc.game.resume(),cc.director.isPaused&&cc.director.resume(),t.gotoForeground(),console.log("app just become active.")}),this.initFeedback(),this.createPaopao(),this.answerTime=0,this.answerContext="",this.countDown=300,this.timeCallback=this.timeCallbackFunc(),this.isShowLossTime=!1,this.nowQuestionID=0,this.questionArr=[],this.answerInfoArr=[],this.questionNumListJS=this.quertionList_node.getComponent("QuestionNumListJS"),this.quertionList_node.opacity=255,this.title_node.opacity=255,this.time_node.opacity=255,this.onLoadChild(),this.answerEnable=!1,this.network=this.node.getComponent("NetworkJS_Data"),this.network.sendXHR(this)},initFeedback:function(){var t=cc.instantiate(this.feedback_pref);this.feedback_node.addChild(t)},onLoadChild:function(){},gotoBackground:function(){},gotoForeground:function(){},createPaopao:function(){},createAnswerInfo:function(t){var i=this.questionArr[this.nowQuestionID],e={answerTime:this.answerTime,leveLQuestionDetailNum:i.leveLQuestionDetailNum,levelQuestionDetailID:i.levelQuestionDetailID,answerStatus:t,answerContext:this.answerContext};this.answerInfoArr.push(e)},showFeedback:function(t){0===this.nowQuestionID?this.feedbackJS.firstShowFeedback(this,t):this.feedbackJS.showFeedback(this,t)},firstFeedbackFinish:function(){},feedbackFinish:function(){this.nowQuestionID+=1,this.nowQuestionID>=this.questionArr.length?(CONSOLE_LOG_OPEN&&console.log("答完了"),this.network.gameOver(this.answerInfoArr)):(this.network.gameLoadProgress(this.nowQuestionID+1,this.questionArr.length),this.deleteOption(),!this.isIts&&this.startloadOption())},showLossTime:function(){this.answerTime+=this.loseTime,this.isShowLossTime=!0,this.loseTime_node.opacity=255;var t=cc.callFunc(function(t){this.isShowLossTime=!1,this.loseTime_node.opacity=0},this);this.loseTime_node.runAction(cc.sequence(cc.fadeTo(1,0),t))},timeCallbackFunc:function(){return function(){this.answerTime+=1,this.scheduleTime+=1;var t=this.countDown-this.answerTime;t<=0?(CONSOLE_LOG_OPEN&&console.log("时间到"),this.timeout(),this.isShowFeed=!0,this.answerTime=this.countDown,this.timeLabel.string="00:00",this.createAnswerInfo("2"),this.showFeedback(3),this.answerTime>this.scheduleTime&&this.unschedule(this.timeCallback)):this.timeLabel.string=this.timeFormat(t)}},timeFormat:function(t){var i=Math.floor(t/60),e=t%60,s=e<10?"0"+e:e;return 59<t?(i<10?"0"+i:i)+":"+s:"00:"+s},timeout:function(){},showSchedule:function(){this.scheduleTime=0,this.schedule(this.timeCallback,1,this.countDown-1)},deleteOption:function(){},createOption:function(t){},selectedOption:function(t){this.nowQuestionID=t,this.deleteOption();var i=this;setTimeout(function(){i.startloadOption()},0)},startloadOption:function(){this.isIts&&this.questionNumListJS.changeOptionDisable();this.questionArr[this.nowQuestionID];this.timeLabel.string=this.timeFormat(this.countDown),this.answerTime=0,!this.isIts&&this.showSchedule(),this.isIts&&this.questionNumListJS.changeOptionEnable(),this.isShowFeed=!1},startLoadGame:function(t){this.questionArr=t,this.title_node.opacity=this.isIts?255:0,this.quertionList_node.opacity=this.isIts?255:0,this.time_node.opacity=this.isIts?0:255,this.isIts&&t&&0<t.length&&this.questionNumListJS.init(t.length,this.selectedOption.bind(this)),this.startloadOption()},selectAnswer:function(t,i){this.isShowFeed||this.isShowLossTime||(i?(CONSOLE_LOG_OPEN&&console.log("答对了"),this.rightSelect+=1,t.showParticle(),this.rightSelect>=this.count&&(this.unschedule(this.timeCallback),this.isShowFeed=!0,this.createAnswerInfo("1"),this.scheduleOnce(function(){this.showFeedback(1)},1))):(CONSOLE_LOG_OPEN&&console.log("答错了"),this.showLossTime()))},onDestroy:function(){document.removeEventListener("resignActivePauseGame"),document.removeEventListener("becomeActiveResumeGame")},setGameName:function(t){this.title_node.getComponent("TitleJS").init(t)},setPlatform:function(t){this.platform=t,this.isIts="its"==t;var i=this.isIts;this.quertionList_node.active=!!i,this.title_node.active=!!i,this.time_node.active=!i},resetOption:function(){0!=this.moveOptionTag&&(this.option_node.getChildByTag(this.moveOptionTag).getComponent("Option").reloadState(),this.moveOptionTag=0)},changeMoveTag:function(t){return!(!this.answerEnable||this.isShowFeed||this.isShowLossTime)&&((0===this.moveOptionTag||this.moveOptionTag===t||0===t)&&(this.moveOptionTag=t,!0))}}),cc._RF.pop()},{}],CellJs:[function(t,i,e){"use strict";cc._RF.push(i,"2e896Bquq1G1rhqxCZgIMGI","CellJs");var s={A:"blue",B:"orange",C:"red",D:"yellow","?":"white"};cc.Class({extends:cc.Component,properties:{falgSpine:cc.Node},onLoad:function(){this.type="",this.falgSp=this.falgSpine.getComponent("sp.Skeleton")},setCellSkine:function(t){this.type=t,this.falgSp.setSkin(s[t])},showIn:function(){"?"==this.type||"？"==this.type?(this.falgSp.setAnimation(0,"in_white",!1),this.falgSp.addAnimation(0,"stand_white",!0,.4)):(this.falgSp.setAnimation(0,"in",!1),this.falgSp.addAnimation(0,"stand_colour",!0,.4))},showOut:function(){this.falgSp.setAnimation(0,"out",!1),this.scheduleOnce(function(){this.node.removeFromParent()},.4)},showRight:function(){this.falgSp.setAnimation(0,"select_light",!1)},showColor:function(t){this.falgSp.setSkin(s[t]),this.falgSp.setAnimation(0,"stand_colour",!0)}}),cc._RF.pop()},{}],GameJs:[function(t,i,e){"use strict";cc._RF.push(i,"52b61GRNbZOKaEhCdSK6AZp","GameJs");var s=t("BaseGameJS"),o="countUp",c="countDown",h="totalCountDown";cc.Class({extends:s,properties:{settlePrefab:cc.Prefab,tipsPrefab:cc.Prefab,btnAudio:{url:cc.AudioClip,default:null},failAudio:{url:cc.AudioClip,default:null},winAudio:{url:cc.AudioClip,default:null},touchB:{url:cc.AudioClip,default:null},touchC:{url:cc.AudioClip,default:null},bgAudio:{url:cc.AudioClip,default:null},titleAudio:{url:cc.AudioClip,default:null},timeOutAudio:{url:cc.AudioClip,default:null},juiceAudio:{url:cc.AudioClip,default:null},queAudio:{url:cc.AudioClip,default:null},progressAudio:{url:cc.AudioClip,default:null},star1:{url:cc.AudioClip,default:null},star2:{url:cc.AudioClip,default:null},star3:{url:cc.AudioClip,default:null},playAudioKey:!0},onLoadChild:function(){this._super(),this.touchHandlerJs=this.node.getComponent("touchHandler"),this.tipsNode=this.node.getChildByName("tips_node"),this.optionNode=this.node.getChildByName("option_node"),this.questionNode=this.node.getChildByName("question_node"),this.optionsJs=this.optionNode.getChildByName("options").getComponent("OptionJs"),(this.optionsJs.game=this).touchHandlerJs=this.node.getComponent("touchHandler"),(this.touchHandlerJs.game=this).QuestionJs=this.questionNode.getComponent("QuestionJs"),(this.QuestionJs.game=this).progress=this.node.getChildByName("progressNode"),this.ProgressJs=this.progress.getComponent("ProgressJs"),(this.ProgressJs.game=this).commitBtn=this.node.getChildByName("commitBtn"),this.isFinishTips=!1,this.AudioArray={failAudio:this.failAudio,winAudio:this.winAudio,touchB:this.touchB,touchC:this.touchC,timeOutAudio:this.timeOutAudio,juice:this.juiceAudio,titleAudio:this.titleAudio,queAudio:this.queAudio,btnAudio:this.btnAudio,progressAudio:this.progressAudio,star1:this.star1,star2:this.star2,star3:this.star3},cc.game.on(cc.game.EVENT_HIDE,function(t){this.gotoBackground(),cc.director.pause(),cc.game.pause(),console.log("app just resign active.")},this),cc.game.on(cc.game.EVENT_SHOW,function(t){cc.game.isPaused&&cc.game.resume(),cc.director.isPaused&&cc.director.resume(),this.gotoForeground(),console.log("app just become active.")},this),this.node.on("tipsCommit",function(){this.commitBtn.active=!0,this.tipsNode.active=!0,this.tipsJs&&this.tipsJs.setBtnHands(this.commitBtn.position)},this),this.isPlayAudio=!0,this.rightData=[]},playAudioEvent:function(){this.scheduleOnce(function(){var t=this.questionArr[this.nowQuestionID];null!=t&&""!=t&&cc.loader.load(t.qescontsound,function(t,i){t||(cc.audioEngine.play(i,!0,1),cc.loader.releaseAsset(i))}),this.titleAudioId=this.playAudioById("titleAudio");var i=this;cc.audioEngine.setFinishCallback(this.titleAudioId,function(){i.noPlayQueAudio||(i.queAudio=i.playAudioById("queAudio"))})},2,this)},playQueAudio:function(){this.playAudioById("queAudio")},initFeedback:function(){this.settlement=cc.instantiate(this.settlePrefab),this.settlementJs=this.settlement.getComponent("settlement"),(this.settlementJs.game=this).feedbackNode=this.node.getChildByName("feedback_node"),this.feedbackNode.addChild(this.settlement),this.feedbackNode.Zindex=1e3,this.settlement.active=!1},startLoadGame:function(s){this.questionArr=s,this.title_node.opacity=this.isIts?255:0,this.quertionList_node.opacity=this.isIts?255:0,this.time_node.opacity=this.isIts?0:255,this.progress.active=!this.isIts,this.isIts&&s&&0<s.length&&this.questionNumListJS.init(s.length,this.selectedOption.bind(this));this.questionArr[this.nowQuestionID];for(var t=[],i=0;i<this.questionArr.length;i++){var e=this.questionArr[i];if(e.quescontimg&&e.quescontimg instanceof Array)for(var n=0;n<e.quescontimg.length;n++){var o=e.quescontimg[n];t.push(o)}}var c=this;cc.loader.load(t,function(t,i){if(t)c.network.gameLoadFailed(1);else if(c.spriteMaps=i.map,c.startloadOption(),!c.isIts&&c.ProgressJs.init(s.length),c.isTips){var e=cc.instantiate(c.tipsPrefab);e.parent=c.tipsNode,c.tipsJs=e.getComponent("tips"),(c.tipsJs.game=c).setTips()}})},setTips:function(){var t=this.optionsJs.setTipsHandlPos();this.scheduleOnce(function(){this.tipsJs&&this.tipsJs.setData(t),this.isIts&&this.questionNumListJS.changeOptionDisable()},1.7)},getSpriteFrame:function(t){var i=this.spriteMaps[t].content;return i instanceof cc.Texture2D?new cc.SpriteFrame(i):null},createOption:function(){var t=this.questionArr[this.nowQuestionID];this.optionsJs.initNumSpine(t.options,t.interactiveJson.rightanswer),this.QuestionJs.setData(t.interactiveJson.rightanswer,t.interactiveJson.flagData),this.touchHandlerJs.enable()},startloadOption:function(){this.isIts&&this.questionNumListJS.changeOptionDisable(),this.isTips=0==this.nowQuestionID&&!this.isFinishTips,this.tipsNode.active=this.isTips;var t=this.questionArr[this.nowQuestionID];if(!this.isIts){if(0===this.nowQuestionID){var i=this.questionArr[0].interactiveJson.totalcd,e=this.questionArr[0].interactiveJson.countDown;this.timeType=e?i?h:c:o,this.scheduleTime=0}if(this.timeType===c){var s=parseInt(t.interactiveJson.countDown);this.countDown=0<s?s:120}else if(this.timeType===o)this.countDown=0;else if(this.timeType===h&&0===this.nowQuestionID){var n=parseInt(t.interactiveJson.countDown);this.countDown=0<n?n:120}this.timeType===c?(this.scheduleTime=0,this.answerTime=0,this.timeLabel.string=this.timeFormat(this.countDown-this.scheduleTime),0<this.nowQuestionID&&this.showSchedule()):this.timeType===o?(this.answerTime=0,this.timeLabel.string=this.timeFormat(this.scheduleTime),0<this.nowQuestionID&&this.showSchedule()):this.timeType===h&&(this.answerTime=0,this.timeLabel.string=this.timeFormat(this.countDown-this.scheduleTime),0<this.nowQuestionID&&this.showSchedule())}this.createOption(),this.isShowFeed=!1},showFeedback:function(t){if(this.titleAudioId&&cc.audioEngine.stop(this.titleAudioId),this.queAudio&&cc.audioEngine.stop(this.queAudio),this.noPlayQueAudio=!0,1===t)this.rightData[this.nowQuestionID]||this.isIts||(this.rightData[this.nowQuestionID]=t),this.playAudioById("winAudio"),this.QuestionJs.showWin(this.feedbackFinish),this.isIts&&this.optionsJs.hideOption(),this.createAnswerInfo("1");else if(2===t)this.playAudioById("failAudio"),this.QuestionJs.showLose(function(){this.isShowFeed=!1});else if(3===t)if(this.rightData[this.nowQuestionID]||this.isIts||(this.rightData[this.nowQuestionID]=t),this.unschedule(this.playQueAudio),this.playAudioById("timeOutAudio"),this.QuestionJs.showTimeOut(this.feedbackFinish),this.settlementJs.playTimeUpAnim(),this.ProgressJs.setStarTypeByIndex(this.nowQuestionID,2),this.optionsJs.hideOption(),this.timeType===o)for(;this.nowQuestionID<this.questionArr.length;this.nowQuestionID++)this.createAnswerInfo("2"),this.answerTime=0;else if(this.timeType===c)this.createAnswerInfo("2");else if(this.timeType===h)for(;this.nowQuestionID<this.questionArr.length;this.nowQuestionID++)this.createAnswerInfo("2"),this.answerTime=0},deleteOption:function(){var t=this.questionArr[this.nowQuestionID];this.QuestionJs.reset(t.qescont),this.optionsJs.reset()},feedbackFinish:function(){this.isIts||(this.nowQuestionID+=1),this.nowQuestionID>=this.questionArr.length?(CONSOLE_LOG_OPEN&&console.log("答完了"),this.unschedule(this.playQueAudio),this.isTimeOut?this.network.gameOver(this.answerInfoArr):(cc.audioEngine.stopAll(),this.showFinalResult())):(this.network.gameLoadProgress(this.nowQuestionID+1,this.questionArr.length),!this.isIts&&this.deleteOption(),this.settlementJs.reset(),!this.isIts&&this.startloadOption())},createAnswerInfo:function(t){var i=this.questionArr[this.nowQuestionID],e={answerTime:this.answerTime,leveLQuestionDetailNum:i.leveLQuestionDetailNum,levelQuestionDetailID:i.levelQuestionDetailID,answerStatus:t,answerContext:this.answerContext};this.answerInfoArr.push(e)},timeout:function(){this.timeType===o?(this.isShowFeed=!0,this.showFeedback(3)):this.timeType===c?(this.isShowFeed=!0,this.showFeedback(3)):this.timeType===h&&(this.isShowFeed=!0,this.showFeedback(3))},timeCallbackFunc:function(){return function(){if(this.answerTime+=1,this.scheduleTime+=1,this.timeType===o){if(3600<=this.scheduleTime)return CONSOLE_LOG_OPEN&&console.log("时间到"),this.unschedule(this.timeCallback),this.timeout(),void(this.timeLabel.string=this.timeFormat(this.scheduleTime));this.timeLabel.string=this.timeFormat(this.scheduleTime)}else if(this.timeType===c){if(this.scheduleTime>=this.countDown)return CONSOLE_LOG_OPEN&&console.log("时间到"),this.unschedule(this.timeCallback),this.timeout(),void(this.timeLabel.string=this.timeFormat(this.countDown-this.scheduleTime));this.timeLabel.string=this.timeFormat(this.countDown-this.scheduleTime)}else if(this.timeType===h){if(this.scheduleTime>=this.countDown)return CONSOLE_LOG_OPEN&&console.log("时间到"),this.unschedule(this.timeCallback),this.timeout(),void(this.timeLabel.string=this.timeFormat(this.countDown-this.scheduleTime));this.timeLabel.string=this.timeFormat(this.countDown-this.scheduleTime)}}},showSchedule:function(){this.schedule(this.timeCallback,1)},gotoBackground:function(){cc.log("gotoBackground"),this.touchHandlerJs.reset()},commitEvent:function(t,i){this.playAudioById("btnAudio"),this.isShowFeed||(this.QuestionJs.isRight(t)?(this.isTips&&(this.isTips=!1,this.isFinishTips=!0,this.tipsNode.removeAllChildren(),this.tipsNode.active=!1,this.tipsJs=null,this.isIts&&this.questionNumListJS.changeOptionEnable()),!this.isIts&&this.unschedule(this.timeCallback),this.isShowFeed=!0,this.showFeedback(1),this.isIts||this.scheduleOnce(function(){this.ProgressJs.playFlayStar(i,this.nowQuestionID,1,this.optionsJs.hideOption,this.optionsJs)},.2)):(this.isShowFeed=!0,this.showFeedback(2)))},playAudioById:function(t){if(this.playAudioKey&&this.AudioArray[t])return cc.audioEngine.play(this.AudioArray[t],!1,1)},showFinalResult:function(){for(var t=0,i=0;i<this.rightData.length;i++){1==this.rightData[i]&&(t+=1)}var e=t/this.questionArr.length;.8<=e?this.settlementJs.playWinAnim(function(){this.network.gameOver(this.answerInfoArr)}):.6<=e&&e<.8?this.settlementJs.playTwoStarAnim(function(){this.network.gameOver(this.answerInfoArr)}):e<.6&&this.settlementJs.playLoseAnim(function(){this.network.gameOver(this.answerInfoArr)})},gameBack:function(){this.network.gameBackAction()}}),cc._RF.pop()},{BaseGameJS:"BaseGameJS"}],NetworkJS_Data:[function(t,i,e){"use strict";cc._RF.push(i,"60e87XZP/5KVJgmJHWW5UMk","NetworkJS_Data");var s=t("NetworkJS");cc.Class({extends:s,properties:{},analysisDict:function(t){var i=t.interactiveJson;if(i&&0!=i.length){"string"==typeof i&&(i=JSON.parse(i));for(var e=t.optionandanswers[0].options,s=[],n=0;n<e.length;++n){var o=e[n],c={no:o.optionno,txt:this.removeSpan(o.optioncontent),spriteUrl:this.removeSpan(o.optioncontimg)};s.push(c)}return{answerTime:"0",levelQuestionDetailID:t.questionid,leveLQuestionDetailNum:t.orderid,qescont:this.removeSpan(t.qescont),quescontimg:t.quescontimg,qescontsound:t.qescontsound[0],interactiveJson:i,options:s}}this.gameLoadFailed(2)}}),cc._RF.pop()},{NetworkJS:"NetworkJS"}],NetworkJS:[function(t,i,e){"use strict";cc._RF.push(i,"7e93buJG71P/JpMS+VlCape","NetworkJS");cc.Class({extends:cc.Component,properties:{},GetQueryString:function(t){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(i);return null!=e?decodeURI(e[2]):null},sendXHR:function(t){this.racingjs=t;var i=cc.loader.getXMLHttpRequest();this.streamXHREventsToLabel(i,"GET");var e=this.GetQueryString("fileUrl");i.open("GET",e),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.timeout=6e4,i.send()},streamXHREventsToLabel:function(t,i,e){var s=e||function(t){return i+" Response: "+t.substring(0,30)+"..."},n=this;t.onreadystatechange=function(){try{t.readyState===XMLHttpRequest.DONE&&(CONSOLE_LOG_OPEN&&console.log(s(t.responseText)),200===t.status?n.analysisData(t.responseText):(CONSOLE_LOG_OPEN&&console.log("There was a problem with the request."),n.gameLoadFailed(1)))}catch(t){CONSOLE_LOG_OPEN&&console.log("Caught Exception: "+t.description),n.gameLoadFailed(1)}}},analysisData:function(t){var i=JSON.parse(t);if(i||0<i.length){for(var e=[],s=0;s<i.length;++s){var n=this.analysisDict(i[s]);e.push(n)}e&&0<e.length?(this.racingjs.setPlatform(this.GetQueryString("platform")),this.racingjs.setGameName(this.GetQueryString("gameName")),this.racingjs.startLoadGame(e),this.gameLoadSuccess(e.length)):this.gameLoadFailed(2)}else this.gameLoadFailed(2)},analysisDict:function(t){var i=t.interactiveJson;if(i&&0!=i.length)return"string"==typeof i&&(i=JSON.parse(i)),{answerTime:"0",levelQuestionDetailID:t.questionid,leveLQuestionDetailNum:t.orderid,qescont:this.removeSpan(t.qescont),interactiveJson:i};this.gameLoadFailed(2)},removeSpan:function(t){var i=t.replace("<span>","");return i=i.replace("</span>","")},gameLoadFailed:function(t){if(1==t){var i=encodeURI("errcode=10001&errmsg=下载失败");window.location.href="optionBlank://gameLoadFailed?"+i}else{i=encodeURI("errcode=10002&errmsg=解析失败");window.location.href="optionBlank://gameLoadFailed?"+i}},gameLoadSuccess:function(i){setTimeout(function(){var t=encodeURI("isShow=1&isHideNativeBackBtn=1&isHideNativeProgressBtn=1&totalNumber="+i);window.location.href="optionBlank://gameLoadSuccess?"+t,this.racingjs.playAudioEvent()}.bind(this),30)},gameOver:function(t){var i=encodeURI(JSON.stringify(t));CONSOLE_LOG_OPEN&&console.log("dataJson="+JSON.stringify(t)),window.location.href="optionBlank://gameOver?status=1&data="+i},gameLoadProgress:function(t,i){var e=encodeURI("nowNumber="+t+"&totalNumber="+i);window.location.href="optionBlank://gameLoadProgress?"+e},gameBackAction:function(){console.log("11111back"),window.location.href="optionBlank://xmaGameBackAction?status=1"}});cc._RF.pop()},{}],OptionJs:[function(t,i,e){"use strict";cc._RF.push(i,"3a361OVwR5PNIyoEMP9LPae","OptionJs");cc.Class({extends:cc.Component,properties:{numOption:cc.Prefab},onLoad:function(){this.rightanswer=null,this.numData=[]},initNumSpine:function(t,i){this.numData=[],this.rightanswer=i,this.game.touchHandlerJs.clear();for(var e,s=0;s<t.length;s++){(e=cc.instantiate(this.numOption)).parent=this.node,e.position=cc.p(-t.length/2*415+415*s+50+157.5,-1290);var n=e.getComponent("OptionNumJs");n.setData(t[s].no),n.game=this.game,this.game.isTips||this.game.touchHandlerJs.regist(n),this.numData.push(e)}this.showOption()},showOption:function(){this.scheduleOnce(function(){for(var t=0;t<this.numData.length;t++){this.numData[t].runAction(cc.moveBy(.4+.1*t,0,645).easing(cc.easeIn(.4+.1*t)))}this.game.isIts&&this.game.questionNumListJS.changeOptionEnable()},.7)},hideOption:function(){for(var t=0;t<this.numData.length;t++){this.numData[t].runAction(cc.moveBy(.4+.1*t,0,-645).easing(cc.easeOut(.4)))}},getTipsSp:function(){return this.tipsSp},reset:function(){this.node.removeAllChildren(!0),this.game.touchHandlerJs.clear(),this.numData=[]},setTipsHandlPos:function(){for(var t=null,i=0;i<this.numData.length;i++){var e=this.numData[i],s=e.getComponent("OptionNumJs");s.no==this.rightanswer?(s.isTouch=!0,t=e.position):s.isTouch=!1}return t}}),cc._RF.pop()},{}],OptionNumJs:[function(t,i,e){"use strict";cc._RF.push(i,"5841elmZsRG7qAAtg8z+FkI","OptionNumJs");var s={A:"blue",B:"orange",C:"red",D:"yellow","?":"white"};cc.Class({extends:cc.Component,properties:{spblue:cc.SpriteFrame,sporange:cc.SpriteFrame,spred:cc.SpriteFrame,spyellow:cc.SpriteFrame,optionSp:cc.Sprite},onLoad:function(){this.no="",this.isTouch=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.starTouch,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouch,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onCancel,this)},setData:function(t){this.no=t,this.optionSp.spriteFrame=this["sp"+s[t]]},starTouch:function(){this.game.unschedule(this.game.playQueAudio),!this.game.isShowFeed&&this.isTouch&&(this.node.scale=.9)},onCancel:function(){this.game.schedule(this.game.playQueAudio,40,this),!this.game.isShowFeed&&this.isTouch&&(this.node.scale=1)},onTouch:function(t){this.game.schedule(this.game.playQueAudio,40,this),!this.game.isShowFeed&&this.isTouch&&(this.node.scale=1,this.game.commitEvent(this.no,this.node.position))}}),cc._RF.pop()},{}],ProgressJs:[function(t,i,e){"use strict";cc._RF.push(i,"bffa6tUYERD1rOxZB4r27oO","ProgressJs");var s={1:"rightSF",2:"errSF",3:"errSF"};cc.Class({extends:cc.Component,properties:{starPre:cc.Prefab,starPNode:cc.Node,rightSF:cc.SpriteFrame,errSF:cc.SpriteFrame,initSF:cc.SpriteFrame,blueStar:cc.Node,flayNode:cc.Node,rigthAction:cc.Node},onLoad:function(){this.starData=[],this.starFlagAction()},init:function(t){for(var i,e=0;e<t;e++)(i=cc.instantiate(this.starPre)).parent=this.node,i.position=cc.p(-t/2*102+102*e+10+41-95,710),this.starData||(thi.starData=[]),this.starData.push(i);var s=this.getStarPosByIndex(0);this.showStarFlag(s)},setStarTypeByIndex:function(i,e){this.hideStarFlag(),e=e.toString(),this.scheduleOnce(function(){if(this.starData[i]&&(this.starData[i].getComponent(cc.Sprite).spriteFrame=this[s[e]]),"1"==e){this.starData[i].opacity=0,this.starData[i].scaleX=.4,this.starData[i].scaleY=.4,this.rigthAction.position=this.starData[i].position,this.rigthAction.active=!0,this.rigthAction.getComponent(cc.Animation).play();var t=cc.callFunc(function(t){this.rigthAction.active=!1},this);this.starData[i].runAction(cc.sequence(cc.spawn(cc.scaleTo(.33,1.2),cc.fadeTo(.33,255)),cc.scaleTo(.16,1),t))}else this.starData[i].opacity=0,this.starData[i].scaleX=2,this.starData[i].scaleY=2,this.starData[i].runAction(cc.sequence(cc.spawn(cc.scaleTo(.33,.9),cc.fadeTo(.33,255)),cc.scaleTo(.16,1)));i+1<this.starData.length&&this.scheduleOnce(function(){var t=this.getStarPosByIndex(i+1);this.showStarFlag(t)},.55)},.34)},getStarPosByIndex:function(t){if(this.starData[t])return this.starData[t].position},showStarFlag:function(t){this.starPNode.position=t,this.starPNode.runAction(cc.spawn(cc.scaleTo(.33,1),cc.rotateTo(.33,0)))},hideStarFlag:function(){this.starPNode.runAction(cc.spawn(cc.scaleTo(.33,0),cc.rotateTo(.33,-90)))},starFlagAction:function(){this.starPNode.zIndex=100,this.starPNode.getChildByName("starAction").runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,1.5),cc.fadeTo(1,255)),cc.spawn(cc.scaleTo(1,1),cc.fadeTo(1,200)))))},playFlayStar:function(t,i,e,s,n){this.flayNode.position=t,this.flayNode.active=!0;var o=this.getStarPosByIndex(i),c=cc.callFunc(function(t){this.flayNode.getChildByName("particlesystem").getComponent(cc.ParticleSystem).resetSystem(),this.flayNode.active=!1,this.setStarTypeByIndex(i,e),s&&s.call(n)},this),h=cc.pDistance(o,t),a=Math.min(h/1200,1.5);this.flayNode.runAction(cc.sequence(cc.moveTo(a,o),c)),this.blueStar.runAction(cc.rotateTo(a,1440)),this.game.playAudioById("progressAudio")}}),cc._RF.pop()},{}],QuestionJs:[function(t,i,e){"use strict";cc._RF.push(i,"4845cUlj7JPILWg1gAD/WpX","QuestionJs");cc.Class({extends:cc.Component,properties:{cakeSpine:cc.Node,yunSpine:cc.Node,maAnSpine:cc.Node,cellNode:cc.Node,cellPre:cc.Prefab,boxNode:cc.Node},onLoad:function(){this.rightanswer="",this.commicakeSpinetAnswer="",this.cellJsData=[]},setData:function(t,s){this.rightanswer=t;var i=.01;this.boxNode&&0<this.boxNode.childrenCount&&(this.hiedQuestion(),this.cellJsData=[],i=.5),this.scheduleOnce(function(){for(var t=0;t<s.length;t++){var i=cc.instantiate(this.cellPre);i.parent=this.boxNode,i.position=cc.p(-s.length/2*156+156*t+0+78,0);var e=i.getComponent("CellJs");e.setCellSkine(s[t]),this.cellJsData.push(e)}this.showQuestion()},i)},showQuestion:function(t){this.game.playAudioById("juice");for(var i=0;i<this.cellJsData.length;i++){this.cellJsData[i].showIn()}},hiedQuestion:function(){for(var t=0;t<this.cellJsData.length;t++){this.cellJsData[t].showOut()}},rightQuestion:function(){for(var t=0;t<this.cellJsData.length;t++){this.cellJsData[t].showRight()}},reset:function(){this.rightanswer=""},findFlag:function(t){for(var i=0;i<this.cellJsData.length;i++){var e=this.cellJsData[i];"?"!=e.type&&"？"!=e.type||e.showColor(t)}},isRight:function(t){return!(!t||this.rightanswer!==t)&&(this.findFlag(t),!0)},showWin:function(t){this.cakeSpine.getComponent("sp.Skeleton").setAnimation(0,"happy",!1),this.cakeSpine.getComponent("sp.Skeleton").addAnimation(0,"stand",!0,1),this.rightQuestion();var i=this;this.scheduleOnce(function(){t.call(i.game)},2.2)},showLose:function(t){this.cakeSpine.getComponent("sp.Skeleton").setAnimation(0,"sad",!1),this.cakeSpine.getComponent("sp.Skeleton").addAnimation(0,"stand",!0,1);var i=this;this.scheduleOnce(function(){t.call(i.game)},1.2)},showTimeOut:function(t){this.cakeSpine.getComponent("sp.Skeleton").setAnimation(0,"sad",!1),this.cakeSpine.getComponent("sp.Skeleton").addAnimation(0,"stand",!0,2);var i=this;t&&this.scheduleOnce(function(){t.call(i.game)},3.2)}}),cc._RF.pop()},{}],QuestionNumJS:[function(t,i,e){"use strict";cc._RF.push(i,"511ccnUhPdEV5sMRHkmPNf2","QuestionNumJS"),cc.Class({extends:cc.Component,properties:{label:cc.Label,selected_node:cc.Node},onLoad:function(){this.isSelect=!1,this.sp=this.node.getComponent("cc.Sprite")},init:function(t,i){this.gameJS=t;var e=""+((this.idx=i)+1);this.label.string=e,this.selected_node.opacity=0},onClick:function(){this.gameJS.changQustion(this.idx)},setSelected:function(t){this.isSelect=t,this.selected_node.opacity=t?255:0}}),cc._RF.pop()},{}],QuestionNumListJS:[function(t,i,e){"use strict";cc._RF.push(i,"7a656I23ulAK7kDASga7f0X","QuestionNumListJS"),cc.Class({extends:cc.Component,properties:{lastBtn:cc.Node,nextBtn:cc.Node,quertionNum:cc.Prefab,questionNum_node:cc.Node},onLoad:function(){this.itemPool=new cc.NodePool,this.defaultLen=7,this.targetIdx=0,this.nowQuestionID=0,this.qusetionItemPool=new cc.NodePool,this.qusetionNumJSArr=[],this.selectedQusetionJS=null},init:function(t,i){this.maxlen=t,this.cb=i,t<this.defaultLen?(this.lastBtn.opacity=0,this.nextBtn.opacity=0):(this.lastBtn.opacity=255,this.nextBtn.opacity=255);for(var e=0;e<t;e++){var s=cc.instantiate(this.quertionNum),n=s.getComponent("QuestionNumJS");this.qusetionNumJSArr.push(s),n.init(this,e)}this.changeQustionList(),this.selectedQusetionJS=this.qusetionNumJSArr[this.nowQuestionID].getComponent("QuestionNumJS"),this.selectedQusetionJS.setSelected(!0)},clickLast:function(){this.targetIdx>=this.defaultLen&&(this.targetIdx-=this.defaultLen,this.changeQustionList())},clickNext:function(){this.targetIdx+this.defaultLen<this.maxlen&&(this.targetIdx+=this.defaultLen,this.changeQustionList())},changeQustionList:function(){this.questionNum_node.removeAllChildren();for(var t=this.targetIdx,i=Math.min(this.defaultLen,this.maxlen-t),e=0;e<i;e++){var s=this.qusetionNumJSArr[e+t];this.questionNum_node.addChild(s)}},changQustion:function(t){this.nowQuestionID=t,this.selectedQusetionJS.setSelected(!1),this.selectedQusetionJS=this.qusetionNumJSArr[t].getComponent("QuestionNumJS"),this.selectedQusetionJS.setSelected(!0);var i=this.cb;i&&i(t)},changeOptionEnable:function(){this.questionNum_node.resumeSystemEvents(!0)},changeOptionDisable:function(){this.questionNum_node.pauseSystemEvents(!0)}}),cc._RF.pop()},{}],TitleJS:[function(t,i,e){"use strict";cc._RF.push(i,"5b283IiR/BBgLkN+zazJigp","TitleJS"),cc.Class({extends:cc.Component,properties:{label:cc.Label},init:function(t){}}),cc._RF.pop()},{}],config:[function(t,i,e){"use strict";cc._RF.push(i,"e08ddBxeftB2JspnjI9jJkT","config"),window.CONSOLE_LOG_OPEN=!0,cc._RF.pop()},{}],numSpineJs:[function(t,i,e){"use strict";cc._RF.push(i,"afcf96cYgpP45hqtNCxA5Jy","numSpineJs");var s=t("touchOne"),o=["stand","grasp","happy","sad","jump","original_number"];cc.Class({extends:s,properties:{spine0:cc.Prefab,spine1:cc.Prefab,spine2:cc.Prefab,spine3:cc.Prefab,spine4:cc.Prefab,spine5:cc.Prefab,spine6:cc.Prefab,spine7:cc.Prefab,spine8:cc.Prefab,spine9:cc.Prefab,yySp:cc.Node},onLoadChild:function(){this.stand=null,this.number=null,this.canTouchFlag=!0},init:function(t){if(t=t.toString(),"string"==typeof(this.number=t))for(var i=0;i<t.length;i++){var e=t.charAt(i),s=cc.instantiate(this["spine"+e]);this.node.addChild(s),s.position=cc.p(-t.length/2*180+180*i+15+75,0),this["spine"+e+i]=s.getComponent("sp.Skeleton"),this["spineEyel"+e+i]=this["spine"+e+i].findBone("eye_l"),this["spineEyer"+e+i]=this["spine"+e+i].findBone("eye_r"),this["_Eyelx"+e+i]=this["spineEyel"+e+i].x,this["_Eyely"+e+i]=this["spineEyer"+e+i].y}this.setStand(0)},setStand:function(t){var i=null;if("string"==typeof t){for(var e=0;e<o.length;e++)if(o[e]==t){i=t;break}}else{if("number"!=typeof t)return;i=o[t]}if(i&&i!=this.stand){this.stand=i;for(var s=0;s<this.number.length;s++){var n=this.number.charAt(s);this["spineEyel"+n+s].x=this["_Eyelx"+n+s],this["spineEyel"+n+s].y=this["_Eyely"+n+s],this["spineEyer"+n+s].x=this["_Eyelx"+n+s],this["spineEyer"+n+s].y=this["_Eyely"+n+s],this["spine"+n+s].setAnimation(0,i,!0)}}this.yySp.active="grasp"!==this.stand&&"original_number"!==this.stand},getStand:function(){return this.stand||""},getNumber:function(){return this.number||""},getEyseParent:function(){return this.node.convertToWorldSpaceAR(cc.p(0,0))},getEyseRotatePos:function(t,i){var e=cc.p(t.x-i.x,t.y-i.y),s=cc.pNormalize(e),n=cc.pDistance(i,cc.p(t.x,t.y)),o=Math.min(n/70*2,10);return cc.pAdd(cc.p(0,0),cc.pMult(s,o))},setEysePos:function(t){if("stand"===this.stand)for(var i=this.getEyseRotatePos(t,this.getEyseParent()),e=0;e<this.number.length;e++){var s=this.number.charAt(e);this["spineEyel"+s+e]&&this["spineEyer"+s+e]&&(this["spineEyel"+s+e].x=-i.y+this["_Eyelx"+s+e],this["spineEyel"+s+e].y=i.x+this["_Eyely"+s+e],this["spineEyer"+s+e].x=-i.y+this["_Eyelx"+s+e],this["spineEyer"+s+e].y=i.x+this["_Eyely"+s+e])}},resetEyePos:function(){for(var t=0;t<this.number.length;t++){var i=this.number.charAt(t);this["spineEyel"+i+t]&&this["spineEyer"+i+t]&&(this["spineEyel"+i+t].x=this["_Eyelx"+i+t],this["spineEyel"+i+t].y=this["_Eyely"+i+t],this["spineEyer"+i+t].x=this["_Eyelx"+i+t],this["spineEyer"+i+t].y=this["_Eyely"+i+t])}},dropAction:function(t){if(this.disableTouch(),this.game.QuestionJs.checkIsCommit(this.number)){var i=this.game.QuestionJs.getCommitNode();if(this.node.parent!=i){this.node.parent=i,this.setStand(0),this.game.QuestionJs.checkOneIsZero(),this.game.QuestionJs.setCommitChildPos();var e="num"+this.game.QuestionJs.getCommitAnswer();cc.loader.loadRes(e,cc.AudioClip,function(t,i){t||cc.audioEngine.play(i,!1,1)})}else this.restoreState(100)}else this.restoreState();this.enableTouch()}}),cc._RF.pop()},{touchOne:"touchOne"}],scalebg:[function(t,i,e){"use strict";cc._RF.push(i,"1fd74akFH5J2Zs8wwAFzeAV","scalebg"),cc.Class({extends:cc.Component,properties:{designSize:cc.Size,bg:cc.Node,lbg:cc.Node,rbg:cc.Node},onLoad:function(){var t=(cc.winSize.width-this.designSize.width)/2;if(cc.log("w:"+t),0<t)this.lbg.width=Math.max(t,640),this.rbg.width=Math.max(t,640);else{var i=Math.min(cc.winSize.width/this.designSize.width,cc.winSize.height/this.designSize.height);this.node.setScale(i,1)}}}),cc._RF.pop()},{}],scale:[function(t,i,e){"use strict";cc._RF.push(i,"e930aNWenVORJmHAebHKoyc","scale"),cc.Class({extends:cc.Component,properties:{designSize:cc.Size},onLoad:function(){var t=Math.min(cc.winSize.width/this.designSize.width,cc.winSize.height/this.designSize.height);this.node.setScale(t,t)}}),cc._RF.pop()},{}],settlement:[function(t,i,e){"use strict";cc._RF.push(i,"0201eLFHyREVrR07BxW/6dN","settlement");cc.Class({extends:cc.Component,properties:{failSpine:cc.Node,twoStarSpine:cc.Node,successSpine:cc.Node,timeOutSpine:cc.Node},onLoad:function(){this.background=this.node.getChildByName("background"),this.scale=this.node.getChildByName("scale")},playWinAnim:function(t){this.node.active=!0,this.background.active=!0,this.successSpine.active=!0,this.game.playAudioById("star3");var i=this.successSpine.getChildByName("R2"),e=this.successSpine.getChildByName("R1"),s=this.successSpine.getChildByName("L2"),n=this.successSpine.getChildByName("L1"),o=this.successSpine.getChildByName("three_star_"),c=this.successSpine.getChildByName("three_star");i.getComponent("sp.Skeleton").setAnimation(0,"in",!1),e.getComponent("sp.Skeleton").setAnimation(0,"in",!1),s.getComponent("sp.Skeleton").setAnimation(0,"in",!1),n.getComponent("sp.Skeleton").setAnimation(0,"in",!1),o.getComponent("sp.Skeleton").setAnimation(0,"in",!1),this.scheduleOnce(function(){c.getComponent(cc.Animation).on("stop",function(){},this)},.33);var h=this;this.scheduleOnce(function(){i.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),e.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),s.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),n.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),o.getComponent("sp.Skeleton").setAnimation(0,"stand",!0)},1.5),this.scheduleOnce(function(){c.getChildByName("green").getComponent(cc.ParticleSystem).stopSystem(),c.getChildByName("orange").getComponent(cc.ParticleSystem).stopSystem(),c.getChildByName("pink").getComponent(cc.ParticleSystem).stopSystem(),c.getChildByName("red").getComponent(cc.ParticleSystem).stopSystem()},2.5),this.scheduleOnce(function(){t&&t.call(h.game)},2.5)},playTwoStarAnim:function(t){this.node.active=!0,this.background.active=!0,this.twoStarSpine.active=!0,this.game.playAudioById("star2");var i=this.twoStarSpine.getChildByName("R2"),e=this.twoStarSpine.getChildByName("L2"),s=this.twoStarSpine.getChildByName("two_star"),n=this.twoStarSpine.getChildByName("two_star1");i.getComponent("sp.Skeleton").setAnimation(0,"in",!1),e.getComponent("sp.Skeleton").setAnimation(0,"in",!1),s.getComponent("sp.Skeleton").setAnimation(0,"in",!1),this.scheduleOnce(function(){i.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),e.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),s.getComponent("sp.Skeleton").setAnimation(0,"stand",!0)},1.5),this.scheduleOnce(function(){n.getChildByName("green").getComponent(cc.ParticleSystem).stopSystem(),n.getChildByName("orange").getComponent(cc.ParticleSystem).stopSystem(),n.getChildByName("pink").getComponent(cc.ParticleSystem).stopSystem(),n.getChildByName("red").getComponent(cc.ParticleSystem).stopSystem()},2.5);var o=this;this.scheduleOnce(function(){t&&t.call(o.game)},2.5)},playLoseAnim:function(t){this.node.active=!0,this.background.active=!0,this.failSpine.active=!0,this.game.playAudioById("star1");var i=this.failSpine.getChildByName("star"),e=this.failSpine.getChildByName("R2"),s=this.failSpine.getChildByName("one_star");i.getComponent("sp.Skeleton").setAnimation(0,"in",!1),e.getComponent("sp.Skeleton").setAnimation(0,"in",!1),s.getComponent("sp.Skeleton").setAnimation(0,"in",!1);var n=this;this.scheduleOnce(function(){i.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),e.getComponent("sp.Skeleton").setAnimation(0,"stand",!0),s.getComponent("sp.Skeleton").setAnimation(0,"stand",!0)},1.5),this.scheduleOnce(function(){t&&t.call(n.game)},2.5)},playTimeUpAnim:function(t){this.node.active=!0,this.background.active=!0,this.timeOutSpine.active=!0,this.timeOutSpine.getComponent("sp.Skeleton").setAnimation(0,"time_over",!1);var i=this;this.scheduleOnce(function(){t&&t.call(i.game)},2)},reset:function(){this.background.active=!1,this.failSpine.active=!1,this.twoStarSpine.active=!1,this.successSpine.active=!1,this.timeOutSpine.active=!1,this.node.active=!1},log:function(t){CONSOLE_LOG_OPEN&&cc.log(t)}}),cc._RF.pop()},{}],tips:[function(t,i,e){"use strict";cc._RF.push(i,"1b106McOjlIBrPHG+/3ga4u","tips"),cc.Class({extends:cc.Component,properties:{option_sp:cc.Sprite,option:cc.Node,hands:cc.Node},onLoad:function(){},setData:function(t){if(t){t.y=-645,this.option.active=!0;var i=cc.repeatForever(cc.sequence(cc.moveTo(1.6,cc.p(t.x+100,t.y-60)),cc.callFunc(function(){this.option.x=t.x+200,this.option.y=t.y-80},this)));this.option.x=t.x+150,this.option.y=t.y-80,this.option.runAction(i)}else this.option.active=!1},stopAction:function(){this.option.stopAllActions(),this.option.runAction(cc.hide())},playAction:function(){this.option.resumeAllActions(),this.option.opacity=255},pauseAction:function(){this.option.opacity=0,this.option.pauseAllActions()},setBtnHands:function(t){this.hands.opacity=255,this.option.opacity=0,this.stopAction(),this.hands.position=t},setNextTips:function(t){var i=this.numData[t];this.option.stopAllActions();var e=cc.repeatForever(cc.sequence(cc.moveTo(1.6,cc.p(this.QueData.position.x+60,this.QueData.position.y-50)),cc.callFunc(function(){this.option.x=i.x+60,this.option.y=i.y+60},this)));this.option.x=i.x+60,this.option.y=i.y+60,this.option.opacity=255,this.option.runAction(e)}}),cc._RF.pop()},{}],title:[function(t,i,e){"use strict";cc._RF.push(i,"d58c4qtV15MNYbanwyOTHvL","title"),cc.Class({extends:cc.Component,properties:{label:cc.Label,img:cc.Sprite},onLoad:function(){},setTitle:function(t,i){if(i&&i instanceof Array&&1<i.length)this.img.enabled=!0,this.img.spriteFrame=this.game.getSpriteFrame(i[i.length-1]),this.label.string="";else if("string"==typeof t){var e=t.replace(/\+/g,",").replace(/\=/g,".").replace(/\?/g,"/");this.label.string=e,this.img.spriteFrame=null}},reset:function(){this.label.string="",this.img.spriteFrame=null,this.img.enabled=!1}}),cc._RF.pop()},{}],touchHandler:[function(t,i,e){"use strict";cc._RF.push(i,"b50a5aWQQdMj4Z9XkmEsy1i","touchHandler");var s=t("touchOne");cc.Class({extends:cc.Component,properties:{boundingBox:cc.Rect,unTouchAreas:[cc.Rect]},onLoad:function(){this.touchId=void 0,this.touchAble=!0,this.touchNodes=[],this.isEdit=!1,this.cTouchNode=null,this.tipsCount=0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancle,this),this.isTouch=!1,this.schedule(function(){this.isTouch||this.reset()},2,this)},regist:function(t){this.isEdit=!0,t instanceof s?(this.touchNodes.push(t),t.handler=this):cc.warn("Component registed must is a touchOne class instance."),this.isEdit=!1},remove:function(t){this.isEdit=!0;for(var i=0;i<this.touchNodes.length;i++)this.touchNodes[i]===t&&(t.handler=null,this.touchNodes.splice(i,1),t===this.cTouchNode&&(this.cTouchNode=null));this.isEdit=!1},enable:function(){this.touchAble=!0},disable:function(){this.touchAble=!1},onTouchStart:function(t){if(!this.isEdit&&this.touchAble&&(this.touchId===t.getID()||void 0===this.touchId)){var i=t.getLocation(),e=void 0;for(e=this.game.isTips?this.tipsCount:0;e<this.touchNodes.length;e++){var s=void 0;if(s=this.game.isTips?this.touchNodes[this.tipsCount].node.getBoundingBoxToWorld():this.touchNodes[e].node.getBoundingBoxToWorld(),cc.rectContainsPoint(s,i)){this.cTouchNode&&(this.cTouchNode.restoreState(),this.touchId=void 0),this.touchNodes[e].canTouch()&&(this.cTouchNode=this.touchNodes[e],this.cTouchNode.saveState(i),this.touchId=t.getID()),this.touchBegin=!0,this.pos=i,this.isTouch=!0,this.game.isPlayAudio=!1,this.game.unschedule(this.game.playQueAudio),this.game.isTips&&this.game.tipsJs.pauseAction();break}}}return!0},onTouchMove:function(t){if(!this.isEdit&&this.touchAble&&this.touchId===t.getID()&&this.cTouchNode){this.touchId=t.getID();var i=t.getLocation(),e=cc.rect(0,-100,cc.winSize.width,cc.winSize.height+100);this.game.isPlayAudio=!1,cc.rectContainsRect(e,this.cTouchNode.node.getBoundingBoxToWorld())?this._isInUnTouchArea(i)?(this.cTouchNode.restoreState(),this.game.isTips&&this.scheduleOnce(function(){this.game.tipsJs.playAction()},.5),this.touchId=void 0,this.cTouchNode=null,this.game.playAudioById("touchC")):(this.touchBegin=!0,this.pos=i,this.cTouchNode.move(i)):(this.cTouchNode.restoreState(),this.game.isTips&&this.scheduleOnce(function(){this.game.tipsJs.playAction()},.5),this.touchId=void 0,this.cTouchNode=null,this.game.playAudioById("touchC"))}return!0},onTouchEnd:function(t){if(!this.isEdit&&this.touchAble&&this.touchId===t.getID()&&this.cTouchNode){this.touchId=void 0;var i=t.getLocation();this.cTouchNode.isToTarget(i)?(this.cTouchNode.dropAction(i),this.game.isTips&&(this.tipsCount+=1,this.tipsCount>=this.touchNodes.length?this.node.dispatchEvent(new cc.Event.EventCustom("tipsCommit",!0)):this.game.tipsJs.setNextTips(this.tipsCount)),this.cTouchNode=null):(this.game.playAudioById("touchC"),this.cTouchNode.restoreStateOption(),this.game.QuestionJs.setCommitChildPos(),this.cTouchNode=null,this.game.isTips&&this.scheduleOnce(function(){this.game.tipsJs.playAction()},.5));for(var e=0;e<this.game.optionsJs.numSpines.length;e++)this.game.optionsJs.numSpines[e].resetEyePos()}return this.touchBegin=!1,this.pos=null,this.isTouch=!1,this.game.schedule(this.game.playQueAudio,27,this),!0},onTouchCancle:function(t){if(!this.isEdit&&this.touchAble&&this.touchId===t.getID()&&this.cTouchNode){this.touchId=void 0,this.cTouchNode.restoreState(),this.cTouchNode=null;for(var i=0;i<this.game.optionsJs.numSpines.length;i++)this.game.optionsJs.numSpines[i].resetEyePos()}return this.touchBegin=!1,this.pos=null,!(this.isTouch=!1)},_isInUnTouchArea:function(t){for(var i=0;i<this.unTouchAreas.length;i++)if(t.x>this.unTouchAreas[i].x&&t.y>this.unTouchAreas[i].y&&t.x<this.unTouchAreas[i].x+this.unTouchAreas[i].width&&t.y<this.unTouchAreas[i].y+this.unTouchAreas[i].height)return!0;return!1},reset:function(){this.cTouchNode&&(this.cTouchNode.restoreState(),this.cTouchNode=null),this.touchId=void 0},resetRightNow:function(){this.cTouchNode&&(this.cTouchNode.restoreStateNow(),this.cTouchNode=null),this.touchId=void 0},clear:function(){this.touchId=void 0,this.touchAble=!1;for(var t=0;t<this.touchNodes.length;t++)this.touchNodes[t].handler=null;this.touchNodes=[],this.isEdit=!1,this.cTouchNode=null},getTouchNodes:function(){return this.touchNodes},update:function(t){if(this.touchBegin&&this.pos)for(var i=0;i<this.game.optionsJs.numSpines.length;i++)this.game.optionsJs.numSpines[i].setEysePos(this.pos)}}),cc._RF.pop()},{touchOne:"touchOne"}],touchOne:[function(t,i,e){"use strict";cc._RF.push(i,"11b4cDyDbVCGpZ+RSefqqX8","touchOne"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.achorInWorld=this.node.convertToWorldSpaceAR(cc.p(0,0)),this.touchOffset=cc.p(0,0),this.onLoadChild()},changeToOption:function(){this._originOptionPos=this.node.position,this._originOptionParent=this.node.parent,this._originOptionOpacity=this.node.opacity},canTouch:function(){return this.canTouchFlag},saveState:function(t){this.achorInWorld=this.node.convertToWorldSpaceAR(cc.p(0,0)),this.touchOffset=cc.p(t.x-this.achorInWorld.x,t.y-this.achorInWorld.y),this.originPos=this.node.position,this.originScaleX=this.node.scaleX,this.originScaleY=this.node.scaleY,this.originOpacity=this.node.opacity,this.zIndex=this.node.zIndex,this.setStand("grasp"),this.game.playAudioById("touchB"),this.node.zIndex=999,this.setParentZindex(10)},move:function(t){var i=this.node.parent.convertToNodeSpaceAR(t);this.node.position=cc.p(i.x-this.touchOffset.x,i.y-this.touchOffset.y)},dropAction:function(t,i){},isToTarget:function(t){var i=this.game.QuestionJs.getTargetAreas();return this._isInTargetArea(t,i)},_isInTargetArea:function(t,i){if(i){var e=i.getBoundingBoxToWorld();if(cc.rectContainsPoint(e,t))return!0}return!1},restoreStateOption:function(t){this.touchOffset=cc.p(0,0),this.setParentZindex(0),this.node.parent=this._originOptionParent,this.node.opacity=this._originOptionOpacity,this.canTouchFlag=!1,this.node.runAction(cc.sequence(cc.jumpTo(.5,this._originOptionPos,400,1),cc.callFunc(function(){this.canTouchFlag=!0,this.node.position=this._originOptionPos},this))),this.setStand("stand")},restoreState:function(t){var i=t||400;this.touchOffset=cc.p(0,0),this.setParentZindex(0),this.canTouchFlag=!1,this.node.runAction(cc.sequence(cc.jumpTo(.5,this.originPos,i,1),cc.callFunc(function(){this.canTouchFlag=!0,this.node.position=this.originPos},this))),this.node.scaleX=this.originScaleX,this.node.scaleY=this.originScaleY,this.node.opacity=this.originOpacity,this.node.zIndex=this.zIndex,this.setStand("stand")},restoreStateNow:function(){this.touchOffset=cc.p(0,0),this.node.position=this.originPos,this.node.scaleX=this.originScaleX,this.node.scaleY=this.originScaleY,this.node.opacity=this.originOpacity,this.node.zIndex=this.zIndex},disableTouch:function(){this.handler.disable()},enableTouch:function(){this.handler.enable()},setParentZindex:function(t){this.node.parent&&"commitNode"==this.node.parent._name&&(this.node.parent.zIndex=t)}}),cc._RF.pop()},{}]},{},["BaseGameJS","NetworkJS","QuestionNumJS","QuestionNumListJS","TitleJS","settlement","tips","CellJs","GameJs","NetworkJS_Data","OptionJs","OptionNumJs","ProgressJs","QuestionJs","config","numSpineJs","scale","scalebg","title","touchHandler","touchOne"]);